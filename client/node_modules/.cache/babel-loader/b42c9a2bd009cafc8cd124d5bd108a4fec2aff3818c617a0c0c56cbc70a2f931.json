{"ast":null,"code":"/**\n * Optimiseur d'images pour le site Grand Est Cyclisme\n * Implémente des techniques avancées pour optimiser le chargement et l'affichage des images\n */import{useEffect,useState,useRef}from'react';import{useLazyLoad}from'./PerformanceOptimizer';// Constantes pour les formats d'image\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const IMAGE_FORMATS={WEBP:'webp',JPEG:'jpeg',PNG:'png',AVIF:'avif'};// Constantes pour les tailles d'image\nconst IMAGE_SIZES={THUMBNAIL:'thumbnail',// 150px\nSMALL:'small',// 300px\nMEDIUM:'medium',// 600px\nLARGE:'large',// 1200px\nORIGINAL:'original'// Taille originale\n};/**\n * Classe principale d'optimisation des images\n */class ImageOptimizer{constructor(){this.supportsWebP=false;this.supportsAvif=false;this.devicePixelRatio=window.devicePixelRatio||1;this.isLowBandwidth=false;this.isLowMemory=false;this.initialized=false;this.placeholderColor='#f0f0f0';this.blurHashEnabled=true;}/**\n   * Initialise l'optimiseur d'images\n   */initialize(){if(this.initialized)return;console.log('Initialisation de l\\'optimiseur d\\'images...');// Détecter le support des formats modernes\nthis._detectFormatSupport();// Détecter les contraintes de l'appareil\nthis._detectDeviceConstraints();// Observer les changements de connexion\nthis._observeConnectionChanges();this.initialized=true;console.log('Optimiseur d\\'images initialisé avec succès');}/**\n   * Détecte le support des formats d'image modernes\n   * @private\n   */_detectFormatSupport(){// Détecter le support WebP\nconst webpImage=new Image();webpImage.onload=()=>{this.supportsWebP=webpImage.width>0&&webpImage.height>0;};webpImage.onerror=()=>{this.supportsWebP=false;};webpImage.src='data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==';// Détecter le support AVIF\nconst avifImage=new Image();avifImage.onload=()=>{this.supportsAvif=avifImage.width>0&&avifImage.height>0;};avifImage.onerror=()=>{this.supportsAvif=false;};avifImage.src='data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=';}/**\n   * Détecte les contraintes de l'appareil\n   * @private\n   */_detectDeviceConstraints(){// Détecter la mémoire disponible\nif('deviceMemory'in navigator){this.isLowMemory=navigator.deviceMemory<4;// Moins de 4GB de RAM\n}// Détecter la qualité de la connexion\nif('connection'in navigator&&navigator.connection){this.isLowBandwidth=navigator.connection.effectiveType==='slow-2g'||navigator.connection.effectiveType==='2g'||navigator.connection.downlink<1.0||navigator.connection.saveData;}}/**\n   * Observe les changements de connexion\n   * @private\n   */_observeConnectionChanges(){if('connection'in navigator&&navigator.connection){navigator.connection.addEventListener('change',()=>{this.isLowBandwidth=navigator.connection.effectiveType==='slow-2g'||navigator.connection.effectiveType==='2g'||navigator.connection.downlink<1.0||navigator.connection.saveData;});}}/**\n   * Détermine le meilleur format d'image pour l'appareil actuel\n   * @returns {string} Format d'image optimal\n   */getBestImageFormat(){if(this.supportsAvif){return IMAGE_FORMATS.AVIF;}else if(this.supportsWebP){return IMAGE_FORMATS.WEBP;}else{return IMAGE_FORMATS.JPEG;}}/**\n   * Détermine la taille d'image optimale en fonction de la largeur cible\n   * @param {number} targetWidth - Largeur cible en pixels\n   * @returns {string} Taille d'image optimale\n   */getOptimalImageSize(targetWidth){// Ajuster pour la densité de pixels\nconst adjustedWidth=targetWidth*this.devicePixelRatio;// Réduire la qualité pour les connexions lentes\nif(this.isLowBandwidth){if(adjustedWidth<=300)return IMAGE_SIZES.THUMBNAIL;if(adjustedWidth<=600)return IMAGE_SIZES.SMALL;return IMAGE_SIZES.MEDIUM;}// Sélection normale basée sur la largeur\nif(adjustedWidth<=150)return IMAGE_SIZES.THUMBNAIL;if(adjustedWidth<=300)return IMAGE_SIZES.SMALL;if(adjustedWidth<=600)return IMAGE_SIZES.MEDIUM;if(adjustedWidth<=1200)return IMAGE_SIZES.LARGE;return IMAGE_SIZES.ORIGINAL;}/**\n   * Génère l'URL optimisée pour une image\n   * @param {string} baseUrl - URL de base de l'image\n   * @param {Object} options - Options de configuration\n   * @returns {string} URL optimisée\n   */getOptimizedImageUrl(baseUrl){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!baseUrl)return'';const format=options.format||this.getBestImageFormat();const size=options.size||this.getOptimalImageSize(options.width||600);const quality=this.isLowBandwidth?'low':'high';// Si l'URL est déjà une URL d'image optimisée, la retourner telle quelle\nif(baseUrl.includes('/images/optimized/')){return baseUrl;}// Construire l'URL optimisée\n// Format: /images/optimized/{size}/{quality}/{format}/{originalPath}\nconst urlParts=baseUrl.split('/');const filename=urlParts[urlParts.length-1];return`/images/optimized/${size}/${quality}/${format}/${filename}`;}/**\n   * Génère une URL de placeholder pour une image\n   * @param {string} baseUrl - URL de base de l'image\n   * @param {Object} options - Options de configuration\n   * @returns {string} URL du placeholder\n   */getPlaceholderUrl(baseUrl){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!baseUrl)return'';// Si le blurHash est activé et disponible\nif(this.blurHashEnabled&&options.blurHash){return`/images/blurhash/${options.blurHash}`;}// Sinon, utiliser un placeholder de couleur unie\nconst width=options.width||100;const height=options.height||100;const color=options.placeholderColor||this.placeholderColor;const colorHex=color.replace('#','');return`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${width}' height='${height}' viewBox='0 0 ${width} ${height}'%3E%3Crect width='${width}' height='${height}' fill='%23${colorHex}'/%3E%3C/svg%3E`;}}// Instance singleton\nconst imageOptimizer=new ImageOptimizer();/**\n * Hook React pour utiliser l'optimiseur d'images\n * @returns {Object} Utilitaires d'optimisation d'images\n */export const useImageOptimizer=()=>{const[isInitialized,setIsInitialized]=useState(imageOptimizer.initialized);useEffect(()=>{if(!imageOptimizer.initialized){imageOptimizer.initialize();setIsInitialized(true);}},[]);return{isInitialized,getBestImageFormat:()=>imageOptimizer.getBestImageFormat(),getOptimalImageSize:width=>imageOptimizer.getOptimalImageSize(width),getOptimizedImageUrl:(url,options)=>imageOptimizer.getOptimizedImageUrl(url,options),getPlaceholderUrl:(url,options)=>imageOptimizer.getPlaceholderUrl(url,options),supportsWebP:imageOptimizer.supportsWebP,supportsAvif:imageOptimizer.supportsAvif,isLowBandwidth:imageOptimizer.isLowBandwidth};};/**\n * Composant d'image optimisée avec chargement paresseux\n * @param {Object} props - Propriétés du composant\n * @returns {JSX.Element} Composant React\n */export const OptimizedImage=_ref=>{let{src,alt,width,height,className,style,blurHash,placeholderColor,onLoad,onError,sizes,loading='lazy',...rest}=_ref;const[isLoaded,setIsLoaded]=useState(false);const[error,setError]=useState(false);const imgRef=useRef(null);// Initialiser l'optimiseur d'images\nuseEffect(()=>{if(!imageOptimizer.initialized){imageOptimizer.initialize();}},[]);// Obtenir l'URL optimisée\nconst optimizedSrc=imageOptimizer.getOptimizedImageUrl(src,{width,blurHash});// Obtenir l'URL du placeholder\nconst placeholderSrc=imageOptimizer.getPlaceholderUrl(src,{width,height,blurHash,placeholderColor});// Référence pour le chargement paresseux\nconst lazyLoadRef=useLazyLoad(()=>{if(imgRef.current){imgRef.current.src=optimizedSrc;}});// Gestionnaire de chargement\nconst handleLoad=e=>{setIsLoaded(true);if(onLoad)onLoad(e);};// Gestionnaire d'erreur\nconst handleError=e=>{setError(true);if(onError)onError(e);};// Styles combinés\nconst combinedStyle={...style,transition:'opacity 0.3s ease',opacity:isLoaded?1:0.5,backgroundColor:placeholderColor||imageOptimizer.placeholderColor};return/*#__PURE__*/_jsxs(\"div\",{ref:lazyLoadRef,className:`optimized-image-container ${className||''}`,style:{width:width?`${width}px`:'auto',height:height?`${height}px`:'auto',position:'relative',overflow:'hidden'},children:[!isLoaded&&!error&&/*#__PURE__*/_jsx(\"div\",{className:\"image-placeholder\",style:{position:'absolute',top:0,left:0,width:'100%',height:'100%',backgroundImage:`url(${placeholderSrc})`,backgroundSize:'cover',backgroundPosition:'center',filter:blurHash?'blur(10px)':'none'}}),/*#__PURE__*/_jsx(\"img\",{ref:imgRef,src:loading==='eager'?optimizedSrc:placeholderSrc,\"data-src\":optimizedSrc,alt:alt||'',width:width,height:height,onLoad:handleLoad,onError:handleError,style:combinedStyle,loading:loading,sizes:sizes,...rest})]});};export default imageOptimizer;","map":{"version":3,"names":["useEffect","useState","useRef","useLazyLoad","jsx","_jsx","jsxs","_jsxs","IMAGE_FORMATS","WEBP","JPEG","PNG","AVIF","IMAGE_SIZES","THUMBNAIL","SMALL","MEDIUM","LARGE","ORIGINAL","ImageOptimizer","constructor","supportsWebP","supportsAvif","devicePixelRatio","window","isLowBandwidth","isLowMemory","initialized","placeholderColor","blurHashEnabled","initialize","console","log","_detectFormatSupport","_detectDeviceConstraints","_observeConnectionChanges","webpImage","Image","onload","width","height","onerror","src","avifImage","navigator","deviceMemory","connection","effectiveType","downlink","saveData","addEventListener","getBestImageFormat","getOptimalImageSize","targetWidth","adjustedWidth","getOptimizedImageUrl","baseUrl","options","arguments","length","undefined","format","size","quality","includes","urlParts","split","filename","getPlaceholderUrl","blurHash","color","colorHex","replace","imageOptimizer","useImageOptimizer","isInitialized","setIsInitialized","url","OptimizedImage","_ref","alt","className","style","onLoad","onError","sizes","loading","rest","isLoaded","setIsLoaded","error","setError","imgRef","optimizedSrc","placeholderSrc","lazyLoadRef","current","handleLoad","e","handleError","combinedStyle","transition","opacity","backgroundColor","ref","position","overflow","children","top","left","backgroundImage","backgroundSize","backgroundPosition","filter"],"sources":["C:/Users/busin/CascadeProjects/grand-est-cyclisme-website-final (1) VERSION FINAL/client/src/utils/ImageOptimizer.js"],"sourcesContent":["/**\n * Optimiseur d'images pour le site Grand Est Cyclisme\n * Implémente des techniques avancées pour optimiser le chargement et l'affichage des images\n */\n\nimport { useEffect, useState, useRef } from 'react';\nimport { useLazyLoad } from './PerformanceOptimizer';\n\n// Constantes pour les formats d'image\nconst IMAGE_FORMATS = {\n  WEBP: 'webp',\n  JPEG: 'jpeg',\n  PNG: 'png',\n  AVIF: 'avif',\n};\n\n// Constantes pour les tailles d'image\nconst IMAGE_SIZES = {\n  THUMBNAIL: 'thumbnail', // 150px\n  SMALL: 'small',         // 300px\n  MEDIUM: 'medium',       // 600px\n  LARGE: 'large',         // 1200px\n  ORIGINAL: 'original',   // Taille originale\n};\n\n/**\n * Classe principale d'optimisation des images\n */\nclass ImageOptimizer {\n  constructor() {\n    this.supportsWebP = false;\n    this.supportsAvif = false;\n    this.devicePixelRatio = window.devicePixelRatio || 1;\n    this.isLowBandwidth = false;\n    this.isLowMemory = false;\n    this.initialized = false;\n    this.placeholderColor = '#f0f0f0';\n    this.blurHashEnabled = true;\n  }\n\n  /**\n   * Initialise l'optimiseur d'images\n   */\n  initialize() {\n    if (this.initialized) return;\n\n    console.log('Initialisation de l\\'optimiseur d\\'images...');\n    \n    // Détecter le support des formats modernes\n    this._detectFormatSupport();\n    \n    // Détecter les contraintes de l'appareil\n    this._detectDeviceConstraints();\n    \n    // Observer les changements de connexion\n    this._observeConnectionChanges();\n    \n    this.initialized = true;\n    console.log('Optimiseur d\\'images initialisé avec succès');\n  }\n\n  /**\n   * Détecte le support des formats d'image modernes\n   * @private\n   */\n  _detectFormatSupport() {\n    // Détecter le support WebP\n    const webpImage = new Image();\n    webpImage.onload = () => {\n      this.supportsWebP = (webpImage.width > 0) && (webpImage.height > 0);\n    };\n    webpImage.onerror = () => {\n      this.supportsWebP = false;\n    };\n    webpImage.src = 'data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==';\n    \n    // Détecter le support AVIF\n    const avifImage = new Image();\n    avifImage.onload = () => {\n      this.supportsAvif = (avifImage.width > 0) && (avifImage.height > 0);\n    };\n    avifImage.onerror = () => {\n      this.supportsAvif = false;\n    };\n    avifImage.src = 'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=';\n  }\n\n  /**\n   * Détecte les contraintes de l'appareil\n   * @private\n   */\n  _detectDeviceConstraints() {\n    // Détecter la mémoire disponible\n    if ('deviceMemory' in navigator) {\n      this.isLowMemory = navigator.deviceMemory < 4; // Moins de 4GB de RAM\n    }\n    \n    // Détecter la qualité de la connexion\n    if ('connection' in navigator && navigator.connection) {\n      this.isLowBandwidth = \n        navigator.connection.effectiveType === 'slow-2g' || \n        navigator.connection.effectiveType === '2g' ||\n        navigator.connection.downlink < 1.0 ||\n        navigator.connection.saveData;\n    }\n  }\n\n  /**\n   * Observe les changements de connexion\n   * @private\n   */\n  _observeConnectionChanges() {\n    if ('connection' in navigator && navigator.connection) {\n      navigator.connection.addEventListener('change', () => {\n        this.isLowBandwidth = \n          navigator.connection.effectiveType === 'slow-2g' || \n          navigator.connection.effectiveType === '2g' ||\n          navigator.connection.downlink < 1.0 ||\n          navigator.connection.saveData;\n      });\n    }\n  }\n\n  /**\n   * Détermine le meilleur format d'image pour l'appareil actuel\n   * @returns {string} Format d'image optimal\n   */\n  getBestImageFormat() {\n    if (this.supportsAvif) {\n      return IMAGE_FORMATS.AVIF;\n    } else if (this.supportsWebP) {\n      return IMAGE_FORMATS.WEBP;\n    } else {\n      return IMAGE_FORMATS.JPEG;\n    }\n  }\n\n  /**\n   * Détermine la taille d'image optimale en fonction de la largeur cible\n   * @param {number} targetWidth - Largeur cible en pixels\n   * @returns {string} Taille d'image optimale\n   */\n  getOptimalImageSize(targetWidth) {\n    // Ajuster pour la densité de pixels\n    const adjustedWidth = targetWidth * this.devicePixelRatio;\n    \n    // Réduire la qualité pour les connexions lentes\n    if (this.isLowBandwidth) {\n      if (adjustedWidth <= 300) return IMAGE_SIZES.THUMBNAIL;\n      if (adjustedWidth <= 600) return IMAGE_SIZES.SMALL;\n      return IMAGE_SIZES.MEDIUM;\n    }\n    \n    // Sélection normale basée sur la largeur\n    if (adjustedWidth <= 150) return IMAGE_SIZES.THUMBNAIL;\n    if (adjustedWidth <= 300) return IMAGE_SIZES.SMALL;\n    if (adjustedWidth <= 600) return IMAGE_SIZES.MEDIUM;\n    if (adjustedWidth <= 1200) return IMAGE_SIZES.LARGE;\n    return IMAGE_SIZES.ORIGINAL;\n  }\n\n  /**\n   * Génère l'URL optimisée pour une image\n   * @param {string} baseUrl - URL de base de l'image\n   * @param {Object} options - Options de configuration\n   * @returns {string} URL optimisée\n   */\n  getOptimizedImageUrl(baseUrl, options = {}) {\n    if (!baseUrl) return '';\n    \n    const format = options.format || this.getBestImageFormat();\n    const size = options.size || this.getOptimalImageSize(options.width || 600);\n    const quality = this.isLowBandwidth ? 'low' : 'high';\n    \n    // Si l'URL est déjà une URL d'image optimisée, la retourner telle quelle\n    if (baseUrl.includes('/images/optimized/')) {\n      return baseUrl;\n    }\n    \n    // Construire l'URL optimisée\n    // Format: /images/optimized/{size}/{quality}/{format}/{originalPath}\n    const urlParts = baseUrl.split('/');\n    const filename = urlParts[urlParts.length - 1];\n    \n    return `/images/optimized/${size}/${quality}/${format}/${filename}`;\n  }\n\n  /**\n   * Génère une URL de placeholder pour une image\n   * @param {string} baseUrl - URL de base de l'image\n   * @param {Object} options - Options de configuration\n   * @returns {string} URL du placeholder\n   */\n  getPlaceholderUrl(baseUrl, options = {}) {\n    if (!baseUrl) return '';\n    \n    // Si le blurHash est activé et disponible\n    if (this.blurHashEnabled && options.blurHash) {\n      return `/images/blurhash/${options.blurHash}`;\n    }\n    \n    // Sinon, utiliser un placeholder de couleur unie\n    const width = options.width || 100;\n    const height = options.height || 100;\n    const color = options.placeholderColor || this.placeholderColor;\n    const colorHex = color.replace('#', '');\n    \n    return `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${width}' height='${height}' viewBox='0 0 ${width} ${height}'%3E%3Crect width='${width}' height='${height}' fill='%23${colorHex}'/%3E%3C/svg%3E`;\n  }\n}\n\n// Instance singleton\nconst imageOptimizer = new ImageOptimizer();\n\n/**\n * Hook React pour utiliser l'optimiseur d'images\n * @returns {Object} Utilitaires d'optimisation d'images\n */\nexport const useImageOptimizer = () => {\n  const [isInitialized, setIsInitialized] = useState(imageOptimizer.initialized);\n  \n  useEffect(() => {\n    if (!imageOptimizer.initialized) {\n      imageOptimizer.initialize();\n      setIsInitialized(true);\n    }\n  }, []);\n  \n  return {\n    isInitialized,\n    getBestImageFormat: () => imageOptimizer.getBestImageFormat(),\n    getOptimalImageSize: (width) => imageOptimizer.getOptimalImageSize(width),\n    getOptimizedImageUrl: (url, options) => imageOptimizer.getOptimizedImageUrl(url, options),\n    getPlaceholderUrl: (url, options) => imageOptimizer.getPlaceholderUrl(url, options),\n    supportsWebP: imageOptimizer.supportsWebP,\n    supportsAvif: imageOptimizer.supportsAvif,\n    isLowBandwidth: imageOptimizer.isLowBandwidth\n  };\n};\n\n/**\n * Composant d'image optimisée avec chargement paresseux\n * @param {Object} props - Propriétés du composant\n * @returns {JSX.Element} Composant React\n */\nexport const OptimizedImage = ({\n  src,\n  alt,\n  width,\n  height,\n  className,\n  style,\n  blurHash,\n  placeholderColor,\n  onLoad,\n  onError,\n  sizes,\n  loading = 'lazy',\n  ...rest\n}) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [error, setError] = useState(false);\n  const imgRef = useRef(null);\n  \n  // Initialiser l'optimiseur d'images\n  useEffect(() => {\n    if (!imageOptimizer.initialized) {\n      imageOptimizer.initialize();\n    }\n  }, []);\n  \n  // Obtenir l'URL optimisée\n  const optimizedSrc = imageOptimizer.getOptimizedImageUrl(src, { width, blurHash });\n  \n  // Obtenir l'URL du placeholder\n  const placeholderSrc = imageOptimizer.getPlaceholderUrl(src, { \n    width, \n    height, \n    blurHash, \n    placeholderColor \n  });\n  \n  // Référence pour le chargement paresseux\n  const lazyLoadRef = useLazyLoad(() => {\n    if (imgRef.current) {\n      imgRef.current.src = optimizedSrc;\n    }\n  });\n  \n  // Gestionnaire de chargement\n  const handleLoad = (e) => {\n    setIsLoaded(true);\n    if (onLoad) onLoad(e);\n  };\n  \n  // Gestionnaire d'erreur\n  const handleError = (e) => {\n    setError(true);\n    if (onError) onError(e);\n  };\n  \n  // Styles combinés\n  const combinedStyle = {\n    ...style,\n    transition: 'opacity 0.3s ease',\n    opacity: isLoaded ? 1 : 0.5,\n    backgroundColor: placeholderColor || imageOptimizer.placeholderColor,\n  };\n  \n  return (\n    <div \n      ref={lazyLoadRef}\n      className={`optimized-image-container ${className || ''}`}\n      style={{\n        width: width ? `${width}px` : 'auto',\n        height: height ? `${height}px` : 'auto',\n        position: 'relative',\n        overflow: 'hidden',\n      }}\n    >\n      {!isLoaded && !error && (\n        <div \n          className=\"image-placeholder\"\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            backgroundImage: `url(${placeholderSrc})`,\n            backgroundSize: 'cover',\n            backgroundPosition: 'center',\n            filter: blurHash ? 'blur(10px)' : 'none',\n          }}\n        />\n      )}\n      \n      <img\n        ref={imgRef}\n        src={loading === 'eager' ? optimizedSrc : placeholderSrc}\n        data-src={optimizedSrc}\n        alt={alt || ''}\n        width={width}\n        height={height}\n        onLoad={handleLoad}\n        onError={handleError}\n        style={combinedStyle}\n        loading={loading}\n        sizes={sizes}\n        {...rest}\n      />\n    </div>\n  );\n};\n\nexport default imageOptimizer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}