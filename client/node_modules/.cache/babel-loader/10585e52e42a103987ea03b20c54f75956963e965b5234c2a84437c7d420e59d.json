{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{BarChart,Bar,LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip as RechartsTooltip,Legend,ResponsiveContainer,ReferenceLine}from'recharts';import axios from'axios';import html2canvas from'html2canvas';import{jsPDF}from\"jspdf\";import{Box,Paper,Typography,Button,ButtonGroup,Tabs,Tab,CircularProgress,Alert,Table,TableHead,TableBody,TableRow,TableCell,Divider,Stack,Grid}from'@mui/material';import{styled}from'@mui/material/styles';import DownloadIcon from'@mui/icons-material/Download';import ImageIcon from'@mui/icons-material/Image';import PictureAsPdfIcon from'@mui/icons-material/PictureAsPdf';import TimelineIcon from'@mui/icons-material/Timeline';import BarChartIcon from'@mui/icons-material/BarChart';import AssessmentIcon from'@mui/icons-material/Assessment';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PassComparison=_ref=>{let{passId1,passId2}=_ref;const[comparisonData,setComparisonData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[activeTab,setActiveTab]=useState('elevation');const comparisonRef=useRef(null);const[exportLoading,setExportLoading]=useState(false);const[selectedDataPoint,setSelectedDataPoint]=useState(null);// Charger les données de comparaison\nuseEffect(()=>{setLoading(true);axios.get(`/api/visualization/passes/compare/${passId1}/${passId2}`).then(response=>{if(response.data.status==='success'){setComparisonData(response.data.data);}else{setError('Erreur lors du chargement des données');}}).catch(err=>{console.error('Erreur lors de la récupération des données de comparaison',err);setError(`Erreur lors de la récupération des données: ${err.message}`);}).finally(()=>{setLoading(false);});},[passId1,passId2]);// Préparer les données pour les graphiques d'élévation\nconst prepareElevationChartData=()=>{if(!comparisonData)return[];const pass1=comparisonData.pass1;const pass2=comparisonData.pass2;// Normaliser les profils d'élévation pour avoir le même nombre de points\nconst normalize=(profile,count)=>{if(!profile||profile.length===0)return[];const result=[];const step=profile.length/count;for(let i=0;i<count;i++){const idx=Math.floor(i*step);if(profile[idx]){result.push(profile[idx]);}}return result;};const normalizedCount=100;// Nombre de points à afficher\nconst profile1=normalize(pass1.visualization.elevationProfile,normalizedCount);const profile2=normalize(pass2.visualization.elevationProfile,normalizedCount);// Créer les données pour le graphique\nreturn Array.from({length:normalizedCount},(_,i)=>{const point1=profile1[i]||[0,0];const point2=profile2[i]||[0,0];return{distance:(i/normalizedCount*100).toFixed(1)+'%',// Distance en pourcentage\nelevation1:point1[1],elevation2:point2[1]};});};// Préparer les données pour le graphique de segments par difficulté\nconst prepareSegmentChartData=()=>{if(!comparisonData)return[];const comparison=comparisonData.comparison.segmentsByDifficulty;return Object.keys(comparison).map(difficulty=>({difficulty,pass1:comparison[difficulty].percentagePass1,pass2:comparison[difficulty].percentagePass2}));};// Préparer les données pour le graphique de métriques\nconst prepareMetricsChartData=()=>{if(!comparisonData)return[];const{length,elevationGain,averageGradient,maxGradient}=comparisonData.comparison;return[{name:'Longueur (km)',pass1:length.pass1,pass2:length.pass2},{name:'Dénivelé (m)',pass1:elevationGain.pass1,pass2:elevationGain.pass2},{name:'Pente moy. (%)',pass1:averageGradient.pass1,pass2:averageGradient.pass2},{name:'Pente max. (%)',pass1:maxGradient.pass1,pass2:maxGradient.pass2}];};// Exporter au format PDF\nconst exportToPDF=()=>{if(!comparisonRef.current)return;html2canvas(comparisonRef.current,{scale:2,logging:false,useCORS:true}).then(canvas=>{const imgData=canvas.toDataURL('image/png');const pdf=new jsPDF('l','mm','a4');const pdfWidth=pdf.internal.pageSize.getWidth();const pdfHeight=pdf.internal.pageSize.getHeight();const imgWidth=canvas.width;const imgHeight=canvas.height;const ratio=Math.min(pdfWidth/imgWidth,pdfHeight/imgHeight);const imgX=(pdfWidth-imgWidth*ratio)/2;const imgY=30;// Ajouter le titre\npdf.setFontSize(18);pdf.text(`Comparaison: ${comparisonData.pass1.name} vs. ${comparisonData.pass2.name}`,14,20);// Ajouter l'image\npdf.addImage(imgData,'PNG',imgX,imgY,imgWidth*ratio,imgHeight*ratio);pdf.save(`Comparaison-${comparisonData.pass1.name}-${comparisonData.pass2.name}.pdf`);});};// Exporter au format image\nconst exportToImage=()=>{if(!comparisonRef.current)return;html2canvas(comparisonRef.current,{scale:2,logging:false,useCORS:true}).then(canvas=>{const link=document.createElement('a');link.download=`Comparaison-${comparisonData.pass1.name}-${comparisonData.pass2.name}.png`;link.href=canvas.toDataURL('image/png');link.click();});};// Styled components pour un design plus moderne\nconst ComparisonContainer=styled(Box)(_ref2=>{let{theme}=_ref2;return{padding:theme.spacing(1)};});const ChartContainer=styled(Box)(_ref3=>{let{theme}=_ref3;return{height:'400px',marginTop:theme.spacing(3),marginBottom:theme.spacing(3),borderRadius:theme.shape.borderRadius,overflow:'hidden',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.05)',backgroundColor:theme.palette.background.paper};});const TabPanel=styled(Box)(_ref4=>{let{theme}=_ref4;return{padding:theme.spacing(3,0)};});const StyledTabs=styled(Tabs)(_ref5=>{let{theme}=_ref5;return{marginBottom:theme.spacing(2),'& .MuiTabs-indicator':{height:3,borderTopLeftRadius:3,borderTopRightRadius:3}};});const TableStyled=styled(Table)(_ref6=>{let{theme}=_ref6;return{'.positive':{color:theme.palette.success.main,fontWeight:'bold'},'.negative':{color:theme.palette.error.main,fontWeight:'bold'},'th':{fontWeight:'bold',backgroundColor:theme.palette.mode==='light'?theme.palette.grey[100]:theme.palette.grey[800]}};});const ExportButtonsContainer=styled(Box)(_ref7=>{let{theme}=_ref7;return{display:'flex',justifyContent:'flex-end',gap:theme.spacing(1),marginBottom:theme.spacing(2)};});const PassInfoCard=styled(Paper)(_ref8=>{let{theme}=_ref8;return{padding:theme.spacing(2),marginBottom:theme.spacing(2),borderRadius:theme.shape.borderRadius,boxShadow:'0 2px 8px rgba(0, 0, 0, 0.05)',display:'flex',flexDirection:'column',gap:theme.spacing(1)};});const KeyMetric=styled(Box)(_ref9=>{let{theme}=_ref9;return{display:'flex',alignItems:'center',gap:theme.spacing(1)};});// Si chargement en cours\nif(loading){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',height:400},children:/*#__PURE__*/_jsx(CircularProgress,{})});}// Si erreur\nif(error){return/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{my:2},children:error});}// Si pas de données\nif(!comparisonData){return/*#__PURE__*/_jsx(Alert,{severity:\"info\",sx:{my:2},children:\"Donn\\xE9es non disponibles pour la comparaison\"});}const{pass1,pass2,comparison}=comparisonData;// Texte d'analyse\nconst analysisText=[`${pass1.name} ${comparison.length.difference>0?'est plus long de':'est plus court de'} ${Math.abs(comparison.length.difference).toFixed(1)} km par rapport à ${pass2.name}.`,`Le dénivelé de ${pass1.name} est ${comparison.elevationGain.difference>0?'supérieur de':'inférieur de'} ${Math.abs(comparison.elevationGain.difference)} m.`,`${comparison.difficulty.comparison}`,`${pass1.name} présente des segments ${Object.keys(comparison.segmentsByDifficulty).length>0?Object.keys(comparison.segmentsByDifficulty).reduce((acc,key)=>{if(comparison.segmentsByDifficulty[key].percentagePass1>comparison.segmentsByDifficulty[key].percentagePass2){return`${acc}${acc?' et ':''}plus ${key}`;}return acc;},''):''}.`];return/*#__PURE__*/_jsxs(ComparisonContainer,{ref:comparisonRef,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",gutterBottom:true,children:[\"Comparaison : \",pass1.name,\" vs \",pass2.name]}),/*#__PURE__*/_jsx(ExportButtonsContainer,{children:/*#__PURE__*/_jsxs(ButtonGroup,{variant:\"outlined\",size:\"small\",children:[/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(PictureAsPdfIcon,{}),onClick:exportToPDF,children:\"Exporter en PDF\"}),/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(ImageIcon,{}),onClick:exportToImage,children:\"Exporter en image\"})]})}),/*#__PURE__*/_jsxs(StyledTabs,{value:activeTab,onChange:(e,newValue)=>setActiveTab(newValue),indicatorColor:\"primary\",textColor:\"primary\",variant:\"fullWidth\",\"aria-label\":\"onglets de comparaison\",sx:{mb:3},children:[/*#__PURE__*/_jsx(Tab,{label:\"Profil d'\\xE9l\\xE9vation\",value:\"elevation\",icon:/*#__PURE__*/_jsx(TimelineIcon,{}),iconPosition:\"start\"}),/*#__PURE__*/_jsx(Tab,{label:\"Segments\",value:\"segments\",icon:/*#__PURE__*/_jsx(BarChartIcon,{}),iconPosition:\"start\"}),/*#__PURE__*/_jsx(Tab,{label:\"M\\xE9triques\",value:\"metrics\",icon:/*#__PURE__*/_jsx(AssessmentIcon,{}),iconPosition:\"start\"})]}),activeTab==='elevation'&&/*#__PURE__*/_jsx(ChartContainer,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(LineChart,{data:prepareElevationChartData(),margin:{top:20,right:30,left:20,bottom:10},onMouseMove:data=>{if(data&&data.activePayload){setSelectedDataPoint(data.activePayload[0].payload);}},onMouseLeave:()=>setSelectedDataPoint(null),children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",opacity:0.5}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"distance\",label:{value:'Progression (%)',position:'insideBottomRight',offset:-5}}),/*#__PURE__*/_jsx(YAxis,{label:{value:'Altitude (m)',angle:-90,position:'insideLeft',style:{textAnchor:'middle'}}}),/*#__PURE__*/_jsx(RechartsTooltip,{content:_ref10=>{let{active,payload}=_ref10;if(active&&payload&&payload.length){return/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:1.5,backgroundColor:'rgba(255, 255, 255, 0.95)',borderRadius:1,boxShadow:'0 3px 14px rgba(0, 0, 0, 0.15)',borderLeft:'4px solid',borderColor:'primary.main'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",children:[\"Distance: \",payload[0].payload.distance]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#8884d8',fontWeight:'bold'},children:[pass1.name,\": \",payload[0].value,\" m\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#82ca9d',fontWeight:'bold'},children:[pass2.name,\": \",payload[1].value,\" m\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{color:'text.secondary',pt:0.5,display:'block'},children:[\"Diff\\xE9rence: \",Math.abs(payload[0].value-payload[1].value),\" m\"]})]});}return null;}}),/*#__PURE__*/_jsx(Legend,{payload:[{value:pass1.name,type:'line',color:'#8884d8'},{value:pass2.name,type:'line',color:'#82ca9d'}],wrapperStyle:{paddingTop:10}}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"elevation1\",stroke:\"#8884d8\",strokeWidth:3,activeDot:{r:8,strokeWidth:0,fill:'#8884d8'},dot:false,name:pass1.name}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"elevation2\",stroke:\"#82ca9d\",strokeWidth:3,activeDot:{r:8,strokeWidth:0,fill:'#82ca9d'},dot:false,name:pass2.name}),comparisonData&&comparisonData.comparison.criticalPoints&&comparisonData.comparison.criticalPoints.map((point,index)=>/*#__PURE__*/_jsx(ReferenceLine,{x:point.distance+'%',stroke:\"#ff7300\",strokeWidth:2,strokeDasharray:\"5 5\",label:{value:point.name,position:'top',fill:'#ff7300',fontSize:12,fontWeight:'bold'}},index))]})})}),activeTab==='segments'&&/*#__PURE__*/_jsx(ChartContainer,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{data:prepareSegmentChartData(),margin:{top:20,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",opacity:0.5}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"difficulty\",label:{value:'Niveau de difficulté',position:'insideBottomRight',offset:-5}}),/*#__PURE__*/_jsx(YAxis,{label:{value:'Pourcentage du parcours (%)',angle:-90,position:'insideLeft',style:{textAnchor:'middle'}}}),/*#__PURE__*/_jsx(RechartsTooltip,{content:_ref11=>{let{active,payload,label}=_ref11;if(active&&payload&&payload.length){return/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:1.5,backgroundColor:'rgba(255, 255, 255, 0.95)',borderRadius:1,boxShadow:'0 3px 14px rgba(0, 0, 0, 0.15)',borderLeft:'4px solid',borderColor:'primary.main'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",children:[\"Difficult\\xE9: \",label]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#8884d8',fontWeight:'bold'},children:[pass1.name,\": \",payload[0].value.toFixed(1),\"%\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#82ca9d',fontWeight:'bold'},children:[pass2.name,\": \",payload[1].value.toFixed(1),\"%\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{color:'text.secondary',pt:0.5,display:'block'},children:[\"Diff\\xE9rence: \",Math.abs(payload[0].value-payload[1].value).toFixed(1),\"%\"]})]});}return null;}}),/*#__PURE__*/_jsx(Legend,{payload:[{value:pass1.name,type:'rect',color:'#8884d8'},{value:pass2.name,type:'rect',color:'#82ca9d'}]}),/*#__PURE__*/_jsx(Bar,{dataKey:\"pass1\",fill:\"#8884d8\",name:pass1.name,radius:[4,4,0,0]}),/*#__PURE__*/_jsx(Bar,{dataKey:\"pass2\",fill:\"#82ca9d\",name:pass2.name,radius:[4,4,0,0]})]})})}),activeTab==='metrics'&&/*#__PURE__*/_jsx(ChartContainer,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{data:prepareMetricsChartData(),margin:{top:20,right:30,left:20,bottom:5},layout:\"vertical\",children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",opacity:0.5,horizontal:true,vertical:false}),/*#__PURE__*/_jsx(XAxis,{type:\"number\"}),/*#__PURE__*/_jsx(YAxis,{type:\"category\",dataKey:\"name\",width:150,tickLine:false,axisLine:false}),/*#__PURE__*/_jsx(RechartsTooltip,{content:_ref12=>{let{active,payload,label}=_ref12;if(active&&payload&&payload.length){let unit=\"\";if(label.includes(\"Longueur\"))unit=\" km\";else if(label.includes(\"Dénivelé\"))unit=\" m\";else if(label.includes(\"Pente\"))unit=\"%\";return/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:1.5,backgroundColor:'rgba(255, 255, 255, 0.95)',borderRadius:1,boxShadow:'0 3px 14px rgba(0, 0, 0, 0.15)',borderLeft:'4px solid',borderColor:'primary.main'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:label}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#8884d8',fontWeight:'bold'},children:[pass1.name,\": \",payload[0].value,unit]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#82ca9d',fontWeight:'bold'},children:[pass2.name,\": \",payload[1].value,unit]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{color:'text.secondary',pt:0.5,display:'block'},children:[\"Diff\\xE9rence: \",Math.abs(payload[0].value-payload[1].value).toFixed(1),unit]})]});}return null;}}),/*#__PURE__*/_jsx(Legend,{payload:[{value:pass1.name,type:'rect',color:'#8884d8'},{value:pass2.name,type:'rect',color:'#82ca9d'}]}),/*#__PURE__*/_jsx(Bar,{dataKey:\"pass1\",fill:\"#8884d8\",name:pass1.name,radius:[0,4,4,0]}),/*#__PURE__*/_jsx(Bar,{dataKey:\"pass2\",fill:\"#82ca9d\",name:pass2.name,radius:[0,4,4,0]})]})})}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mt:2},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(PassInfoCard,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h3\",gutterBottom:true,color:\"primary\",children:pass1.name}),/*#__PURE__*/_jsxs(KeyMetric,{children:[/*#__PURE__*/_jsx(Box,{sx:{bgcolor:'primary.light',p:1,borderRadius:2,minWidth:40,textAlign:'center'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",color:\"primary.contrastText\",children:comparison.difficulty.pass1})}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Difficult\\xE9 globale\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2,my:1},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{display:'flex',alignItems:'center',mr:2},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-ruler-combined\",style:{marginRight:'8px'}}),comparison.length.pass1,\" km\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{display:'flex',alignItems:'center',mr:2},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-mountain\",style:{marginRight:'8px'}}),comparison.elevationGain.pass1,\" m D+\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{display:'flex',alignItems:'center',mr:2},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-angle-up\",style:{marginRight:'8px'}}),comparison.averageGradient.pass1.toFixed(1),\"% moyenne\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-angle-double-up\",style:{marginRight:'8px'}}),comparison.maxGradient.pass1.toFixed(1),\"% max\"]})]}),pass1.keyPoints&&/*#__PURE__*/_jsxs(Box,{mt:1,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Points cl\\xE9s:\"}),/*#__PURE__*/_jsx(Box,{component:\"ul\",sx:{pl:2,mb:0,mt:0.5},children:pass1.keyPoints.map((point,idx)=>/*#__PURE__*/_jsx(Typography,{component:\"li\",variant:\"body2\",children:point},idx))})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(PassInfoCard,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h3\",gutterBottom:true,color:\"secondary\",children:pass2.name}),/*#__PURE__*/_jsxs(KeyMetric,{children:[/*#__PURE__*/_jsx(Box,{sx:{bgcolor:'secondary.light',p:1,borderRadius:2,minWidth:40,textAlign:'center'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",color:\"secondary.contrastText\",children:comparison.difficulty.pass2})}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Difficult\\xE9 globale\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2,my:1},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{display:'flex',alignItems:'center',mr:2},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-ruler-combined\",style:{marginRight:'8px'}}),comparison.length.pass2,\" km\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{display:'flex',alignItems:'center',mr:2},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-mountain\",style:{marginRight:'8px'}}),comparison.elevationGain.pass2,\" m D+\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{display:'flex',alignItems:'center',mr:2},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-angle-up\",style:{marginRight:'8px'}}),comparison.averageGradient.pass2.toFixed(1),\"% moyenne\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-angle-double-up\",style:{marginRight:'8px'}}),comparison.maxGradient.pass2.toFixed(1),\"% max\"]})]}),pass2.keyPoints&&/*#__PURE__*/_jsxs(Box,{mt:1,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Points cl\\xE9s:\"}),/*#__PURE__*/_jsx(Box,{component:\"ul\",sx:{pl:2,mb:0,mt:0.5},children:pass2.keyPoints.map((point,idx)=>/*#__PURE__*/_jsx(Typography,{component:\"li\",variant:\"body2\",children:point},idx))})]})]})})]}),/*#__PURE__*/_jsxs(Box,{mt:4,mb:3,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Tableau comparatif\"}),/*#__PURE__*/_jsxs(TableStyled,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"M\\xE9trique\"}),/*#__PURE__*/_jsx(TableCell,{children:pass1.name}),/*#__PURE__*/_jsx(TableCell,{children:pass2.name}),/*#__PURE__*/_jsx(TableCell,{children:\"Diff\\xE9rence\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Longueur\"}),/*#__PURE__*/_jsxs(TableCell,{children:[comparison.length.pass1,\" km\"]}),/*#__PURE__*/_jsxs(TableCell,{children:[comparison.length.pass2,\" km\"]}),/*#__PURE__*/_jsxs(TableCell,{className:comparison.length.difference>0?'positive':'negative',children:[Math.abs(comparison.length.difference).toFixed(1),\" km \",comparison.length.difference>0?'de plus':'de moins']})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"D\\xE9nivel\\xE9\"}),/*#__PURE__*/_jsxs(TableCell,{children:[comparison.elevationGain.pass1,\" m\"]}),/*#__PURE__*/_jsxs(TableCell,{children:[comparison.elevationGain.pass2,\" m\"]}),/*#__PURE__*/_jsxs(TableCell,{className:comparison.elevationGain.difference>0?'positive':'negative',children:[Math.abs(comparison.elevationGain.difference),\" m \",comparison.elevationGain.difference>0?'de plus':'de moins']})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Pente moyenne\"}),/*#__PURE__*/_jsxs(TableCell,{children:[comparison.averageGradient.pass1.toFixed(1),\" %\"]}),/*#__PURE__*/_jsxs(TableCell,{children:[comparison.averageGradient.pass2.toFixed(1),\" %\"]}),/*#__PURE__*/_jsxs(TableCell,{className:comparison.averageGradient.difference>0?'positive':'negative',children:[Math.abs(comparison.averageGradient.difference).toFixed(1),\" % \",comparison.averageGradient.difference>0?'de plus':'de moins']})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Pente maximale\"}),/*#__PURE__*/_jsxs(TableCell,{children:[comparison.maxGradient.pass1.toFixed(1),\" %\"]}),/*#__PURE__*/_jsxs(TableCell,{children:[comparison.maxGradient.pass2.toFixed(1),\" %\"]}),/*#__PURE__*/_jsxs(TableCell,{className:comparison.maxGradient.difference>0?'positive':'negative',children:[Math.abs(comparison.maxGradient.difference).toFixed(1),\" % \",comparison.maxGradient.difference>0?'de plus':'de moins']})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Difficult\\xE9\"}),/*#__PURE__*/_jsx(TableCell,{children:comparison.difficulty.pass1}),/*#__PURE__*/_jsx(TableCell,{children:comparison.difficulty.pass2}),/*#__PURE__*/_jsx(TableCell,{children:comparison.difficulty.comparison})]})]})]})]}),/*#__PURE__*/_jsxs(Box,{mt:4,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Analyse comparative pour cyclistes\"}),/*#__PURE__*/_jsxs(Paper,{elevation:1,sx:{p:3,backgroundColor:'background.paper',borderRadius:2},children:[analysisText.map((text,index)=>/*#__PURE__*/_jsx(Typography,{paragraph:true,mb:index===analysisText.length-1?0:2,children:text},index)),/*#__PURE__*/_jsxs(Box,{mt:3,p:2,sx:{backgroundColor:'action.hover',borderRadius:1,border:'1px solid',borderColor:'divider'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Recommandation pour cyclistes:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[pass1.name,\" est \",comparison.recommendedFor.pass1]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[pass2.name,\" est \",comparison.recommendedFor.pass2]})]})]})]})]});};export default PassComparison;","map":{"version":3,"names":["React","useState","useEffect","useRef","BarChart","Bar","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","RechartsTooltip","Legend","ResponsiveContainer","ReferenceLine","axios","html2canvas","jsPDF","Box","Paper","Typography","Button","ButtonGroup","Tabs","Tab","CircularProgress","Alert","Table","TableHead","TableBody","TableRow","TableCell","Divider","Stack","Grid","styled","DownloadIcon","ImageIcon","PictureAsPdfIcon","TimelineIcon","BarChartIcon","AssessmentIcon","jsx","_jsx","jsxs","_jsxs","PassComparison","_ref","passId1","passId2","comparisonData","setComparisonData","loading","setLoading","error","setError","activeTab","setActiveTab","comparisonRef","exportLoading","setExportLoading","selectedDataPoint","setSelectedDataPoint","get","then","response","data","status","catch","err","console","message","finally","prepareElevationChartData","pass1","pass2","normalize","profile","count","length","result","step","i","idx","Math","floor","push","normalizedCount","profile1","visualization","elevationProfile","profile2","Array","from","_","point1","point2","distance","toFixed","elevation1","elevation2","prepareSegmentChartData","comparison","segmentsByDifficulty","Object","keys","map","difficulty","percentagePass1","percentagePass2","prepareMetricsChartData","elevationGain","averageGradient","maxGradient","name","exportToPDF","current","scale","logging","useCORS","canvas","imgData","toDataURL","pdf","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","imgWidth","width","imgHeight","height","ratio","min","imgX","imgY","setFontSize","text","addImage","save","exportToImage","link","document","createElement","download","href","click","ComparisonContainer","_ref2","theme","padding","spacing","ChartContainer","_ref3","marginTop","marginBottom","borderRadius","shape","overflow","boxShadow","backgroundColor","palette","background","paper","TabPanel","_ref4","StyledTabs","_ref5","borderTopLeftRadius","borderTopRightRadius","TableStyled","_ref6","color","success","main","fontWeight","mode","grey","ExportButtonsContainer","_ref7","display","justifyContent","gap","PassInfoCard","_ref8","flexDirection","KeyMetric","_ref9","alignItems","sx","children","severity","my","analysisText","difference","abs","reduce","acc","key","ref","variant","gutterBottom","size","startIcon","onClick","value","onChange","e","newValue","indicatorColor","textColor","mb","label","icon","iconPosition","margin","top","right","left","bottom","onMouseMove","activePayload","payload","onMouseLeave","strokeDasharray","opacity","dataKey","position","offset","angle","style","textAnchor","content","_ref10","active","elevation","p","borderLeft","borderColor","pt","type","wrapperStyle","paddingTop","stroke","strokeWidth","activeDot","r","fill","dot","criticalPoints","point","index","x","fontSize","_ref11","radius","layout","horizontal","vertical","tickLine","axisLine","_ref12","unit","includes","container","mt","item","xs","md","component","bgcolor","minWidth","textAlign","flexWrap","mr","className","marginRight","keyPoints","pl","paragraph","border","recommendedFor"],"sources":["C:/Users/busin/CascadeProjects/grand-est-cyclisme-website-final (1) VERSION FINAL/client/src/components/visualization/PassComparison.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { \n  BarChart, Bar, LineChart, Line, XAxis, YAxis, CartesianGrid, \n  Tooltip as RechartsTooltip, Legend, ResponsiveContainer, ReferenceLine\n} from 'recharts';\nimport axios from 'axios';\nimport html2canvas from 'html2canvas';\nimport { jsPDF } from \"jspdf\";\nimport { \n  Box, \n  Paper, \n  Typography, \n  Button, \n  ButtonGroup, \n  Tabs, \n  Tab, \n  CircularProgress, \n  Alert, \n  Table, \n  TableHead, \n  TableBody, \n  TableRow, \n  TableCell,\n  Divider,\n  Stack,\n  Grid\n} from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport ImageIcon from '@mui/icons-material/Image';\nimport PictureAsPdfIcon from '@mui/icons-material/PictureAsPdf';\nimport TimelineIcon from '@mui/icons-material/Timeline';\nimport BarChartIcon from '@mui/icons-material/BarChart';\nimport AssessmentIcon from '@mui/icons-material/Assessment';\n\nconst PassComparison = ({ passId1, passId2 }) => {\n  const [comparisonData, setComparisonData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('elevation');\n  const comparisonRef = useRef(null);\n  const [exportLoading, setExportLoading] = useState(false);\n  const [selectedDataPoint, setSelectedDataPoint] = useState(null);\n  \n  // Charger les données de comparaison\n  useEffect(() => {\n    setLoading(true);\n    axios.get(`/api/visualization/passes/compare/${passId1}/${passId2}`)\n      .then(response => {\n        if (response.data.status === 'success') {\n          setComparisonData(response.data.data);\n        } else {\n          setError('Erreur lors du chargement des données');\n        }\n      })\n      .catch(err => {\n        console.error('Erreur lors de la récupération des données de comparaison', err);\n        setError(`Erreur lors de la récupération des données: ${err.message}`);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [passId1, passId2]);\n\n  // Préparer les données pour les graphiques d'élévation\n  const prepareElevationChartData = () => {\n    if (!comparisonData) return [];\n    \n    const pass1 = comparisonData.pass1;\n    const pass2 = comparisonData.pass2;\n    \n    // Normaliser les profils d'élévation pour avoir le même nombre de points\n    const normalize = (profile, count) => {\n      if (!profile || profile.length === 0) return [];\n      \n      const result = [];\n      const step = profile.length / count;\n      \n      for (let i = 0; i < count; i++) {\n        const idx = Math.floor(i * step);\n        if (profile[idx]) {\n          result.push(profile[idx]);\n        }\n      }\n      \n      return result;\n    };\n    \n    const normalizedCount = 100; // Nombre de points à afficher\n    const profile1 = normalize(pass1.visualization.elevationProfile, normalizedCount);\n    const profile2 = normalize(pass2.visualization.elevationProfile, normalizedCount);\n    \n    // Créer les données pour le graphique\n    return Array.from({ length: normalizedCount }, (_, i) => {\n      const point1 = profile1[i] || [0, 0];\n      const point2 = profile2[i] || [0, 0];\n      \n      return {\n        distance: (i / normalizedCount * 100).toFixed(1) + '%', // Distance en pourcentage\n        elevation1: point1[1],\n        elevation2: point2[1]\n      };\n    });\n  };\n  \n  // Préparer les données pour le graphique de segments par difficulté\n  const prepareSegmentChartData = () => {\n    if (!comparisonData) return [];\n    \n    const comparison = comparisonData.comparison.segmentsByDifficulty;\n    \n    return Object.keys(comparison).map(difficulty => ({\n      difficulty,\n      pass1: comparison[difficulty].percentagePass1,\n      pass2: comparison[difficulty].percentagePass2\n    }));\n  };\n  \n  // Préparer les données pour le graphique de métriques\n  const prepareMetricsChartData = () => {\n    if (!comparisonData) return [];\n    \n    const { length, elevationGain, averageGradient, maxGradient } = comparisonData.comparison;\n    \n    return [\n      {\n        name: 'Longueur (km)',\n        pass1: length.pass1,\n        pass2: length.pass2\n      },\n      {\n        name: 'Dénivelé (m)',\n        pass1: elevationGain.pass1,\n        pass2: elevationGain.pass2\n      },\n      {\n        name: 'Pente moy. (%)',\n        pass1: averageGradient.pass1,\n        pass2: averageGradient.pass2\n      },\n      {\n        name: 'Pente max. (%)',\n        pass1: maxGradient.pass1,\n        pass2: maxGradient.pass2\n      }\n    ];\n  };\n  \n  // Exporter au format PDF\n  const exportToPDF = () => {\n    if (!comparisonRef.current) return;\n    \n    html2canvas(comparisonRef.current, {\n      scale: 2,\n      logging: false,\n      useCORS: true\n    }).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF('l', 'mm', 'a4');\n      const pdfWidth = pdf.internal.pageSize.getWidth();\n      const pdfHeight = pdf.internal.pageSize.getHeight();\n      const imgWidth = canvas.width;\n      const imgHeight = canvas.height;\n      const ratio = Math.min(pdfWidth / imgWidth, pdfHeight / imgHeight);\n      const imgX = (pdfWidth - imgWidth * ratio) / 2;\n      const imgY = 30;\n      \n      // Ajouter le titre\n      pdf.setFontSize(18);\n      pdf.text(`Comparaison: ${comparisonData.pass1.name} vs. ${comparisonData.pass2.name}`, 14, 20);\n      \n      // Ajouter l'image\n      pdf.addImage(imgData, 'PNG', imgX, imgY, imgWidth * ratio, imgHeight * ratio);\n      \n      pdf.save(`Comparaison-${comparisonData.pass1.name}-${comparisonData.pass2.name}.pdf`);\n    });\n  };\n  \n  // Exporter au format image\n  const exportToImage = () => {\n    if (!comparisonRef.current) return;\n    \n    html2canvas(comparisonRef.current, {\n      scale: 2,\n      logging: false,\n      useCORS: true\n    }).then(canvas => {\n      const link = document.createElement('a');\n      link.download = `Comparaison-${comparisonData.pass1.name}-${comparisonData.pass2.name}.png`;\n      link.href = canvas.toDataURL('image/png');\n      link.click();\n    });\n  };\n  \n  // Styled components pour un design plus moderne\n  const ComparisonContainer = styled(Box)(({ theme }) => ({\n    padding: theme.spacing(1),\n  }));\n\n  const ChartContainer = styled(Box)(({ theme }) => ({\n    height: '400px',\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n    borderRadius: theme.shape.borderRadius,\n    overflow: 'hidden',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.05)',\n    backgroundColor: theme.palette.background.paper,\n  }));\n\n  const TabPanel = styled(Box)(({ theme }) => ({\n    padding: theme.spacing(3, 0),\n  }));\n\n  const StyledTabs = styled(Tabs)(({ theme }) => ({\n    marginBottom: theme.spacing(2),\n    '& .MuiTabs-indicator': {\n      height: 3,\n      borderTopLeftRadius: 3,\n      borderTopRightRadius: 3,\n    },\n  }));\n\n  const TableStyled = styled(Table)(({ theme }) => ({\n    '.positive': {\n      color: theme.palette.success.main,\n      fontWeight: 'bold',\n    },\n    '.negative': {\n      color: theme.palette.error.main,\n      fontWeight: 'bold',\n    },\n    'th': {\n      fontWeight: 'bold',\n      backgroundColor: theme.palette.mode === 'light' \n        ? theme.palette.grey[100] \n        : theme.palette.grey[800],\n    }\n  }));\n\n  const ExportButtonsContainer = styled(Box)(({ theme }) => ({\n    display: 'flex',\n    justifyContent: 'flex-end',\n    gap: theme.spacing(1),\n    marginBottom: theme.spacing(2),\n  }));\n\n  const PassInfoCard = styled(Paper)(({ theme }) => ({\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    borderRadius: theme.shape.borderRadius,\n    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.05)',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(1),\n  }));\n\n  const KeyMetric = styled(Box)(({ theme }) => ({\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(1),\n  }));\n\n  // Si chargement en cours\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: 400 }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  // Si erreur\n  if (error) {\n    return (\n      <Alert severity=\"error\" sx={{ my: 2 }}>\n        {error}\n      </Alert>\n    );\n  }\n\n  // Si pas de données\n  if (!comparisonData) {\n    return (\n      <Alert severity=\"info\" sx={{ my: 2 }}>\n        Données non disponibles pour la comparaison\n      </Alert>\n    );\n  }\n\n  const { pass1, pass2, comparison } = comparisonData;\n  \n  // Texte d'analyse\n  const analysisText = [\n    `${pass1.name} ${comparison.length.difference > 0 ? 'est plus long de' : 'est plus court de'} ${Math.abs(comparison.length.difference).toFixed(1)} km par rapport à ${pass2.name}.`,\n    `Le dénivelé de ${pass1.name} est ${comparison.elevationGain.difference > 0 ? 'supérieur de' : 'inférieur de'} ${Math.abs(comparison.elevationGain.difference)} m.`,\n    `${comparison.difficulty.comparison}`,\n    `${pass1.name} présente des segments ${Object.keys(comparison.segmentsByDifficulty).length > 0 ? Object.keys(comparison.segmentsByDifficulty).reduce((acc, key) => {\n      if (comparison.segmentsByDifficulty[key].percentagePass1 > comparison.segmentsByDifficulty[key].percentagePass2) {\n        return `${acc}${acc ? ' et ' : ''}plus ${key}`;\n      }\n      return acc;\n    }, '') : ''}.`\n  ];\n\n  return (\n    <ComparisonContainer ref={comparisonRef}>\n      <Typography variant=\"h4\" gutterBottom>\n        Comparaison : {pass1.name} vs {pass2.name}\n      </Typography>\n      \n      <ExportButtonsContainer>\n        <ButtonGroup variant=\"outlined\" size=\"small\">\n          <Button startIcon={<PictureAsPdfIcon />} onClick={exportToPDF}>\n            Exporter en PDF\n          </Button>\n          <Button startIcon={<ImageIcon />} onClick={exportToImage}>\n            Exporter en image\n          </Button>\n        </ButtonGroup>\n      </ExportButtonsContainer>\n      \n      <StyledTabs \n        value={activeTab} \n        onChange={(e, newValue) => setActiveTab(newValue)}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        variant=\"fullWidth\"\n        aria-label=\"onglets de comparaison\"\n        sx={{ mb: 3 }}\n      >\n        <Tab \n          label=\"Profil d'élévation\" \n          value=\"elevation\" \n          icon={<TimelineIcon />} \n          iconPosition=\"start\"\n        />\n        <Tab \n          label=\"Segments\" \n          value=\"segments\" \n          icon={<BarChartIcon />} \n          iconPosition=\"start\"\n        />\n        <Tab \n          label=\"Métriques\" \n          value=\"metrics\" \n          icon={<AssessmentIcon />} \n          iconPosition=\"start\"\n        />\n      </StyledTabs>\n      \n      {activeTab === 'elevation' && (\n        <ChartContainer>\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart\n              data={prepareElevationChartData()}\n              margin={{ top: 20, right: 30, left: 20, bottom: 10 }}\n              onMouseMove={(data) => {\n                if (data && data.activePayload) {\n                  setSelectedDataPoint(data.activePayload[0].payload);\n                }\n              }}\n              onMouseLeave={() => setSelectedDataPoint(null)}\n            >\n              <CartesianGrid strokeDasharray=\"3 3\" opacity={0.5} />\n              <XAxis \n                dataKey=\"distance\" \n                label={{ \n                  value: 'Progression (%)', \n                  position: 'insideBottomRight', \n                  offset: -5 \n                }} \n              />\n              <YAxis \n                label={{ \n                  value: 'Altitude (m)', \n                  angle: -90, \n                  position: 'insideLeft',\n                  style: { textAnchor: 'middle' }\n                }} \n              />\n              <RechartsTooltip \n                content={({ active, payload }) => {\n                  if (active && payload && payload.length) {\n                    return (\n                      <Paper \n                        elevation={3} \n                        sx={{ \n                          p: 1.5, \n                          backgroundColor: 'rgba(255, 255, 255, 0.95)',\n                          borderRadius: 1,\n                          boxShadow: '0 3px 14px rgba(0, 0, 0, 0.15)',\n                          borderLeft: '4px solid',\n                          borderColor: 'primary.main'\n                        }}\n                      >\n                        <Typography variant=\"subtitle2\">\n                          Distance: {payload[0].payload.distance}\n                        </Typography>\n                        <Typography variant=\"body2\" sx={{ color: '#8884d8', fontWeight: 'bold' }}>\n                          {pass1.name}: {payload[0].value} m\n                        </Typography>\n                        <Typography variant=\"body2\" sx={{ color: '#82ca9d', fontWeight: 'bold' }}>\n                          {pass2.name}: {payload[1].value} m\n                        </Typography>\n                        <Typography variant=\"caption\" sx={{ color: 'text.secondary', pt: 0.5, display: 'block' }}>\n                          Différence: {Math.abs(payload[0].value - payload[1].value)} m\n                        </Typography>\n                      </Paper>\n                    );\n                  }\n                  return null;\n                }}\n              />\n              <Legend \n                payload={[\n                  { value: pass1.name, type: 'line', color: '#8884d8' },\n                  { value: pass2.name, type: 'line', color: '#82ca9d' }\n                ]}\n                wrapperStyle={{ paddingTop: 10 }}\n              />\n              <Line \n                type=\"monotone\" \n                dataKey=\"elevation1\" \n                stroke=\"#8884d8\" \n                strokeWidth={3}\n                activeDot={{ r: 8, strokeWidth: 0, fill: '#8884d8' }} \n                dot={false}\n                name={pass1.name}\n              />\n              <Line \n                type=\"monotone\" \n                dataKey=\"elevation2\" \n                stroke=\"#82ca9d\" \n                strokeWidth={3} \n                activeDot={{ r: 8, strokeWidth: 0, fill: '#82ca9d' }} \n                dot={false} \n                name={pass2.name}\n              />\n              \n              {/* Points critiques */}\n              {comparisonData && comparisonData.comparison.criticalPoints && comparisonData.comparison.criticalPoints.map((point, index) => (\n                <ReferenceLine \n                  key={index}\n                  x={point.distance + '%'} \n                  stroke=\"#ff7300\"\n                  strokeWidth={2}\n                  strokeDasharray=\"5 5\"\n                  label={{ \n                    value: point.name, \n                    position: 'top',\n                    fill: '#ff7300',\n                    fontSize: 12,\n                    fontWeight: 'bold'\n                  }}\n                />\n              ))}\n            </LineChart>\n          </ResponsiveContainer>\n        </ChartContainer>\n      )}\n      \n      {activeTab === 'segments' && (\n        <ChartContainer>\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <BarChart\n              data={prepareSegmentChartData()}\n              margin={{ top: 20, right: 30, left: 20, bottom: 5 }}\n            >\n              <CartesianGrid strokeDasharray=\"3 3\" opacity={0.5} />\n              <XAxis \n                dataKey=\"difficulty\" \n                label={{ \n                  value: 'Niveau de difficulté', \n                  position: 'insideBottomRight', \n                  offset: -5 \n                }} \n              />\n              <YAxis \n                label={{ \n                  value: 'Pourcentage du parcours (%)', \n                  angle: -90, \n                  position: 'insideLeft',\n                  style: { textAnchor: 'middle' }\n                }} \n              />\n              <RechartsTooltip \n                content={({ active, payload, label }) => {\n                  if (active && payload && payload.length) {\n                    return (\n                      <Paper \n                        elevation={3} \n                        sx={{ \n                          p: 1.5, \n                          backgroundColor: 'rgba(255, 255, 255, 0.95)',\n                          borderRadius: 1,\n                          boxShadow: '0 3px 14px rgba(0, 0, 0, 0.15)',\n                          borderLeft: '4px solid',\n                          borderColor: 'primary.main'\n                        }}\n                      >\n                        <Typography variant=\"subtitle2\">\n                          Difficulté: {label}\n                        </Typography>\n                        <Typography variant=\"body2\" sx={{ color: '#8884d8', fontWeight: 'bold' }}>\n                          {pass1.name}: {payload[0].value.toFixed(1)}%\n                        </Typography>\n                        <Typography variant=\"body2\" sx={{ color: '#82ca9d', fontWeight: 'bold' }}>\n                          {pass2.name}: {payload[1].value.toFixed(1)}%\n                        </Typography>\n                        <Typography variant=\"caption\" sx={{ color: 'text.secondary', pt: 0.5, display: 'block' }}>\n                          Différence: {Math.abs(payload[0].value - payload[1].value).toFixed(1)}%\n                        </Typography>\n                      </Paper>\n                    );\n                  }\n                  return null;\n                }}\n              />\n              <Legend \n                payload={[\n                  { value: pass1.name, type: 'rect', color: '#8884d8' },\n                  { value: pass2.name, type: 'rect', color: '#82ca9d' }\n                ]}\n              />\n              <Bar \n                dataKey=\"pass1\" \n                fill=\"#8884d8\" \n                name={pass1.name} \n                radius={[4, 4, 0, 0]}\n              />\n              <Bar \n                dataKey=\"pass2\" \n                fill=\"#82ca9d\" \n                name={pass2.name} \n                radius={[4, 4, 0, 0]}\n              />\n            </BarChart>\n          </ResponsiveContainer>\n        </ChartContainer>\n      )}\n      \n      {activeTab === 'metrics' && (\n        <ChartContainer>\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <BarChart\n              data={prepareMetricsChartData()}\n              margin={{ top: 20, right: 30, left: 20, bottom: 5 }}\n              layout=\"vertical\"\n            >\n              <CartesianGrid strokeDasharray=\"3 3\" opacity={0.5} horizontal={true} vertical={false} />\n              <XAxis type=\"number\" />\n              <YAxis \n                type=\"category\" \n                dataKey=\"name\" \n                width={150}\n                tickLine={false}\n                axisLine={false}\n              />\n              <RechartsTooltip \n                content={({ active, payload, label }) => {\n                  if (active && payload && payload.length) {\n                    let unit = \"\";\n                    if (label.includes(\"Longueur\")) unit = \" km\";\n                    else if (label.includes(\"Dénivelé\")) unit = \" m\";\n                    else if (label.includes(\"Pente\")) unit = \"%\";\n                    \n                    return (\n                      <Paper \n                        elevation={3} \n                        sx={{ \n                          p: 1.5, \n                          backgroundColor: 'rgba(255, 255, 255, 0.95)',\n                          borderRadius: 1,\n                          boxShadow: '0 3px 14px rgba(0, 0, 0, 0.15)',\n                          borderLeft: '4px solid',\n                          borderColor: 'primary.main'\n                        }}\n                      >\n                        <Typography variant=\"subtitle2\">\n                          {label}\n                        </Typography>\n                        <Typography variant=\"body2\" sx={{ color: '#8884d8', fontWeight: 'bold' }}>\n                          {pass1.name}: {payload[0].value}{unit}\n                        </Typography>\n                        <Typography variant=\"body2\" sx={{ color: '#82ca9d', fontWeight: 'bold' }}>\n                          {pass2.name}: {payload[1].value}{unit}\n                        </Typography>\n                        <Typography variant=\"caption\" sx={{ color: 'text.secondary', pt: 0.5, display: 'block' }}>\n                          Différence: {Math.abs(payload[0].value - payload[1].value).toFixed(1)}{unit}\n                        </Typography>\n                      </Paper>\n                    );\n                  }\n                  return null;\n                }}\n              />\n              <Legend \n                payload={[\n                  { value: pass1.name, type: 'rect', color: '#8884d8' },\n                  { value: pass2.name, type: 'rect', color: '#82ca9d' }\n                ]}\n              />\n              <Bar dataKey=\"pass1\" fill=\"#8884d8\" name={pass1.name} radius={[0, 4, 4, 0]} />\n              <Bar dataKey=\"pass2\" fill=\"#82ca9d\" name={pass2.name} radius={[0, 4, 4, 0]} />\n            </BarChart>\n          </ResponsiveContainer>\n        </ChartContainer>\n      )}\n      \n      <Grid container spacing={3} sx={{ mt: 2 }}>\n        <Grid item xs={12} md={6}>\n          <PassInfoCard>\n            <Typography variant=\"h6\" component=\"h3\" gutterBottom color=\"primary\">\n              {pass1.name}\n            </Typography>\n            \n            <KeyMetric>\n              <Box sx={{ bgcolor: 'primary.light', p: 1, borderRadius: 2, minWidth: 40, textAlign: 'center' }}>\n                <Typography variant=\"body2\" fontWeight=\"bold\" color=\"primary.contrastText\">\n                  {comparison.difficulty.pass1}\n                </Typography>\n              </Box>\n              <Typography variant=\"body1\">\n                Difficulté globale\n              </Typography>\n            </KeyMetric>\n            \n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, my: 1 }}>\n              <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center', mr: 2 }}>\n                <i className=\"fas fa-ruler-combined\" style={{ marginRight: '8px' }} />\n                {comparison.length.pass1} km\n              </Typography>\n              \n              <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center', mr: 2 }}>\n                <i className=\"fas fa-mountain\" style={{ marginRight: '8px' }} />\n                {comparison.elevationGain.pass1} m D+\n              </Typography>\n              \n              <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center', mr: 2 }}>\n                <i className=\"fas fa-angle-up\" style={{ marginRight: '8px' }} />\n                {comparison.averageGradient.pass1.toFixed(1)}% moyenne\n              </Typography>\n              \n              <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center' }}>\n                <i className=\"fas fa-angle-double-up\" style={{ marginRight: '8px' }} />\n                {comparison.maxGradient.pass1.toFixed(1)}% max\n              </Typography>\n            </Box>\n            \n            {pass1.keyPoints && (\n              <Box mt={1}>\n                <Typography variant=\"subtitle2\" gutterBottom>\n                  Points clés:\n                </Typography>\n                <Box component=\"ul\" sx={{ pl: 2, mb: 0, mt: 0.5 }}>\n                  {pass1.keyPoints.map((point, idx) => (\n                    <Typography component=\"li\" key={idx} variant=\"body2\">\n                      {point}\n                    </Typography>\n                  ))}\n                </Box>\n              </Box>\n            )}\n          </PassInfoCard>\n        </Grid>\n        \n        <Grid item xs={12} md={6}>\n          <PassInfoCard>\n            <Typography variant=\"h6\" component=\"h3\" gutterBottom color=\"secondary\">\n              {pass2.name}\n            </Typography>\n            \n            <KeyMetric>\n              <Box sx={{ bgcolor: 'secondary.light', p: 1, borderRadius: 2, minWidth: 40, textAlign: 'center' }}>\n                <Typography variant=\"body2\" fontWeight=\"bold\" color=\"secondary.contrastText\">\n                  {comparison.difficulty.pass2}\n                </Typography>\n              </Box>\n              <Typography variant=\"body1\">\n                Difficulté globale\n              </Typography>\n            </KeyMetric>\n            \n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, my: 1 }}>\n              <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center', mr: 2 }}>\n                <i className=\"fas fa-ruler-combined\" style={{ marginRight: '8px' }} />\n                {comparison.length.pass2} km\n              </Typography>\n              \n              <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center', mr: 2 }}>\n                <i className=\"fas fa-mountain\" style={{ marginRight: '8px' }} />\n                {comparison.elevationGain.pass2} m D+\n              </Typography>\n              \n              <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center', mr: 2 }}>\n                <i className=\"fas fa-angle-up\" style={{ marginRight: '8px' }} />\n                {comparison.averageGradient.pass2.toFixed(1)}% moyenne\n              </Typography>\n              \n              <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center' }}>\n                <i className=\"fas fa-angle-double-up\" style={{ marginRight: '8px' }} />\n                {comparison.maxGradient.pass2.toFixed(1)}% max\n              </Typography>\n            </Box>\n            \n            {pass2.keyPoints && (\n              <Box mt={1}>\n                <Typography variant=\"subtitle2\" gutterBottom>\n                  Points clés:\n                </Typography>\n                <Box component=\"ul\" sx={{ pl: 2, mb: 0, mt: 0.5 }}>\n                  {pass2.keyPoints.map((point, idx) => (\n                    <Typography component=\"li\" key={idx} variant=\"body2\">\n                      {point}\n                    </Typography>\n                  ))}\n                </Box>\n              </Box>\n            )}\n          </PassInfoCard>\n        </Grid>\n      </Grid>\n      \n      <Box mt={4} mb={3}>\n        <Typography variant=\"h6\" gutterBottom>\n          Tableau comparatif\n        </Typography>\n        <TableStyled>\n          <TableHead>\n            <TableRow>\n              <TableCell>Métrique</TableCell>\n              <TableCell>{pass1.name}</TableCell>\n              <TableCell>{pass2.name}</TableCell>\n              <TableCell>Différence</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow>\n              <TableCell>Longueur</TableCell>\n              <TableCell>{comparison.length.pass1} km</TableCell>\n              <TableCell>{comparison.length.pass2} km</TableCell>\n              <TableCell className={comparison.length.difference > 0 ? 'positive' : 'negative'}>\n                {Math.abs(comparison.length.difference).toFixed(1)} km {comparison.length.difference > 0 ? 'de plus' : 'de moins'}\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>Dénivelé</TableCell>\n              <TableCell>{comparison.elevationGain.pass1} m</TableCell>\n              <TableCell>{comparison.elevationGain.pass2} m</TableCell>\n              <TableCell className={comparison.elevationGain.difference > 0 ? 'positive' : 'negative'}>\n                {Math.abs(comparison.elevationGain.difference)} m {comparison.elevationGain.difference > 0 ? 'de plus' : 'de moins'}\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>Pente moyenne</TableCell>\n              <TableCell>{comparison.averageGradient.pass1.toFixed(1)} %</TableCell>\n              <TableCell>{comparison.averageGradient.pass2.toFixed(1)} %</TableCell>\n              <TableCell className={comparison.averageGradient.difference > 0 ? 'positive' : 'negative'}>\n                {Math.abs(comparison.averageGradient.difference).toFixed(1)} % {comparison.averageGradient.difference > 0 ? 'de plus' : 'de moins'}\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>Pente maximale</TableCell>\n              <TableCell>{comparison.maxGradient.pass1.toFixed(1)} %</TableCell>\n              <TableCell>{comparison.maxGradient.pass2.toFixed(1)} %</TableCell>\n              <TableCell className={comparison.maxGradient.difference > 0 ? 'positive' : 'negative'}>\n                {Math.abs(comparison.maxGradient.difference).toFixed(1)} % {comparison.maxGradient.difference > 0 ? 'de plus' : 'de moins'}\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>Difficulté</TableCell>\n              <TableCell>{comparison.difficulty.pass1}</TableCell>\n              <TableCell>{comparison.difficulty.pass2}</TableCell>\n              <TableCell>{comparison.difficulty.comparison}</TableCell>\n            </TableRow>\n          </TableBody>\n        </TableStyled>\n      </Box>\n      \n      <Box mt={4}>\n        <Typography variant=\"h6\" gutterBottom>\n          Analyse comparative pour cyclistes\n        </Typography>\n        <Paper elevation={1} sx={{ p: 3, backgroundColor: 'background.paper', borderRadius: 2 }}>\n          {analysisText.map((text, index) => (\n            <Typography key={index} paragraph mb={index === analysisText.length - 1 ? 0 : 2}>\n              {text}\n            </Typography>\n          ))}\n          \n          <Box mt={3} p={2} sx={{ backgroundColor: 'action.hover', borderRadius: 1, border: '1px solid', borderColor: 'divider' }}>\n            <Typography variant=\"subtitle2\" gutterBottom>\n              Recommandation pour cyclistes:\n            </Typography>\n            <Typography variant=\"body2\">\n              {pass1.name} est {comparison.recommendedFor.pass1}\n            </Typography>\n            <Typography variant=\"body2\">\n              {pass2.name} est {comparison.recommendedFor.pass2}\n            </Typography>\n          </Box>\n        </Paper>\n      </Box>\n    </ComparisonContainer>\n  );\n};\n\nexport default PassComparison;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}