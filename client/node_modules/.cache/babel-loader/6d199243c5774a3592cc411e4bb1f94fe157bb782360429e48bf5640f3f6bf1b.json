{"ast":null,"code":"import React,{useState}from'react';import{useTranslation}from'react-i18next';import{Dialog,DialogTitle,DialogContent,DialogActions,Button,Box,Typography,Grid,TextField,IconButton}from'@mui/material';import{Close as CloseIcon,Event as EventIcon,CalendarMonth as CalendarIcon}from'@mui/icons-material';/**\n * Composant de dialogue pour planifier une ascension\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ScheduleDialog=_ref=>{let{open,onClose,onSchedule,selectedColId,selectedColName}=_ref;const{t}=useTranslation();const[selectedDate,setSelectedDate]=useState('');const[dateError,setDateError]=useState('');// Valider la date sélectionnée\nconst validateDate=date=>{const today=new Date();const selected=new Date(date);if(isNaN(selected.getTime())){return t('common.invalid_date');}if(selected<today){return t('challenges.seven_majors.date_in_past');}return'';};// Gérer le changement de date\nconst handleDateChange=e=>{const date=e.target.value;setSelectedDate(date);setDateError(validateDate(date));};// Gérer la soumission du formulaire\nconst handleSubmit=()=>{const error=validateDate(selectedDate);if(error){setDateError(error);return;}onSchedule(selectedColId,selectedDate);onClose();};return/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:onClose,maxWidth:\"sm\",fullWidth:true,\"aria-labelledby\":\"schedule-ascent-dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"schedule-ascent-dialog-title\",children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[/*#__PURE__*/_jsx(CalendarIcon,{sx:{mr:1,verticalAlign:'middle'}}),t('challenges.seven_majors.schedule_ascent')]}),/*#__PURE__*/_jsx(IconButton,{onClick:onClose,\"aria-label\":\"close\",children:/*#__PURE__*/_jsx(CloseIcon,{})})]})}),/*#__PURE__*/_jsxs(DialogContent,{dividers:true,children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",gutterBottom:true,children:[t('challenges.seven_majors.scheduling_for'),\":\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"primary\",children:selectedColName})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",gutterBottom:true,children:t('challenges.seven_majors.schedule_instructions')}),/*#__PURE__*/_jsx(TextField,{label:t('challenges.seven_majors.ascent_date'),type:\"date\",value:selectedDate,onChange:handleDateChange,fullWidth:true,error:!!dateError,helperText:dateError,InputLabelProps:{shrink:true},sx:{mt:2},inputProps:{min:new Date().toISOString().split('T')[0]}})]})]}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:2},children:[/*#__PURE__*/_jsx(Button,{onClick:onClose,color:\"inherit\",children:t('common.cancel')}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,color:\"primary\",variant:\"contained\",disabled:!selectedDate||!!dateError,children:t('challenges.seven_majors.confirm_schedule')})]})]});};export default ScheduleDialog;","map":{"version":3,"names":["React","useState","useTranslation","Dialog","DialogTitle","DialogContent","DialogActions","Button","Box","Typography","Grid","TextField","IconButton","Close","CloseIcon","Event","EventIcon","CalendarMonth","CalendarIcon","jsx","_jsx","jsxs","_jsxs","ScheduleDialog","_ref","open","onClose","onSchedule","selectedColId","selectedColName","t","selectedDate","setSelectedDate","dateError","setDateError","validateDate","date","today","Date","selected","isNaN","getTime","handleDateChange","e","target","value","handleSubmit","error","maxWidth","fullWidth","children","id","sx","display","alignItems","justifyContent","variant","mr","verticalAlign","onClick","dividers","mb","gutterBottom","color","mt","label","type","onChange","helperText","InputLabelProps","shrink","inputProps","min","toISOString","split","p","disabled"],"sources":["C:/Users/busin/CascadeProjects/grand-est-cyclisme-website-final (1) VERSION FINAL/client/src/components/challenges/components/ScheduleDialog.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Box,\n  Typography,\n  Grid,\n  TextField,\n  IconButton\n} from '@mui/material';\nimport {\n  Close as CloseIcon,\n  Event as EventIcon,\n  CalendarMonth as CalendarIcon\n} from '@mui/icons-material';\n\n/**\n * Composant de dialogue pour planifier une ascension\n */\nconst ScheduleDialog = ({ \n  open, \n  onClose, \n  onSchedule, \n  selectedColId,\n  selectedColName \n}) => {\n  const { t } = useTranslation();\n  const [selectedDate, setSelectedDate] = useState('');\n  const [dateError, setDateError] = useState('');\n  \n  // Valider la date sélectionnée\n  const validateDate = (date) => {\n    const today = new Date();\n    const selected = new Date(date);\n    \n    if (isNaN(selected.getTime())) {\n      return t('common.invalid_date');\n    }\n    \n    if (selected < today) {\n      return t('challenges.seven_majors.date_in_past');\n    }\n    \n    return '';\n  };\n  \n  // Gérer le changement de date\n  const handleDateChange = (e) => {\n    const date = e.target.value;\n    setSelectedDate(date);\n    setDateError(validateDate(date));\n  };\n  \n  // Gérer la soumission du formulaire\n  const handleSubmit = () => {\n    const error = validateDate(selectedDate);\n    \n    if (error) {\n      setDateError(error);\n      return;\n    }\n    \n    onSchedule(selectedColId, selectedDate);\n    onClose();\n  };\n  \n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      maxWidth=\"sm\"\n      fullWidth\n      aria-labelledby=\"schedule-ascent-dialog-title\"\n    >\n      <DialogTitle id=\"schedule-ascent-dialog-title\">\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n          <Typography variant=\"h6\">\n            <CalendarIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\n            {t('challenges.seven_majors.schedule_ascent')}\n          </Typography>\n          <IconButton onClick={onClose} aria-label=\"close\">\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </DialogTitle>\n      \n      <DialogContent dividers>\n        <Box sx={{ mb: 2 }}>\n          <Typography variant=\"subtitle1\" gutterBottom>\n            {t('challenges.seven_majors.scheduling_for')}:\n          </Typography>\n          <Typography variant=\"h6\" color=\"primary\">\n            {selectedColName}\n          </Typography>\n        </Box>\n        \n        <Box sx={{ mt: 3 }}>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('challenges.seven_majors.schedule_instructions')}\n          </Typography>\n          \n          <TextField\n            label={t('challenges.seven_majors.ascent_date')}\n            type=\"date\"\n            value={selectedDate}\n            onChange={handleDateChange}\n            fullWidth\n            error={!!dateError}\n            helperText={dateError}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            sx={{ mt: 2 }}\n            inputProps={{\n              min: new Date().toISOString().split('T')[0]\n            }}\n          />\n        </Box>\n      </DialogContent>\n      \n      <DialogActions sx={{ p: 2 }}>\n        <Button onClick={onClose} color=\"inherit\">\n          {t('common.cancel')}\n        </Button>\n        <Button \n          onClick={handleSubmit} \n          color=\"primary\" \n          variant=\"contained\"\n          disabled={!selectedDate || !!dateError}\n        >\n          {t('challenges.seven_majors.confirm_schedule')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ScheduleDialog;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,cAAc,KAAQ,eAAe,CAC9C,OACEC,MAAM,CACNC,WAAW,CACXC,aAAa,CACbC,aAAa,CACbC,MAAM,CACNC,GAAG,CACHC,UAAU,CACVC,IAAI,CACJC,SAAS,CACTC,UAAU,KACL,eAAe,CACtB,OACEC,KAAK,GAAI,CAAAC,SAAS,CAClBC,KAAK,GAAI,CAAAC,SAAS,CAClBC,aAAa,GAAI,CAAAC,YAAY,KACxB,qBAAqB,CAE5B;AACA;AACA,GAFA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGA,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAMjB,IANkB,CACtBC,IAAI,CACJC,OAAO,CACPC,UAAU,CACVC,aAAa,CACbC,eACF,CAAC,CAAAL,IAAA,CACC,KAAM,CAAEM,CAAE,CAAC,CAAG5B,cAAc,CAAC,CAAC,CAC9B,KAAM,CAAC6B,YAAY,CAAEC,eAAe,CAAC,CAAG/B,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACgC,SAAS,CAAEC,YAAY,CAAC,CAAGjC,QAAQ,CAAC,EAAE,CAAC,CAE9C;AACA,KAAM,CAAAkC,YAAY,CAAIC,IAAI,EAAK,CAC7B,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACxB,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAD,IAAI,CAACF,IAAI,CAAC,CAE/B,GAAII,KAAK,CAACD,QAAQ,CAACE,OAAO,CAAC,CAAC,CAAC,CAAE,CAC7B,MAAO,CAAAX,CAAC,CAAC,qBAAqB,CAAC,CACjC,CAEA,GAAIS,QAAQ,CAAGF,KAAK,CAAE,CACpB,MAAO,CAAAP,CAAC,CAAC,sCAAsC,CAAC,CAClD,CAEA,MAAO,EAAE,CACX,CAAC,CAED;AACA,KAAM,CAAAY,gBAAgB,CAAIC,CAAC,EAAK,CAC9B,KAAM,CAAAP,IAAI,CAAGO,CAAC,CAACC,MAAM,CAACC,KAAK,CAC3Bb,eAAe,CAACI,IAAI,CAAC,CACrBF,YAAY,CAACC,YAAY,CAACC,IAAI,CAAC,CAAC,CAClC,CAAC,CAED;AACA,KAAM,CAAAU,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,KAAK,CAAGZ,YAAY,CAACJ,YAAY,CAAC,CAExC,GAAIgB,KAAK,CAAE,CACTb,YAAY,CAACa,KAAK,CAAC,CACnB,OACF,CAEApB,UAAU,CAACC,aAAa,CAAEG,YAAY,CAAC,CACvCL,OAAO,CAAC,CAAC,CACX,CAAC,CAED,mBACEJ,KAAA,CAACnB,MAAM,EACLsB,IAAI,CAAEA,IAAK,CACXC,OAAO,CAAEA,OAAQ,CACjBsB,QAAQ,CAAC,IAAI,CACbC,SAAS,MACT,kBAAgB,8BAA8B,CAAAC,QAAA,eAE9C9B,IAAA,CAAChB,WAAW,EAAC+C,EAAE,CAAC,8BAA8B,CAAAD,QAAA,cAC5C5B,KAAA,CAACd,GAAG,EAAC4C,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,eAAgB,CAAE,CAAAL,QAAA,eAClF5B,KAAA,CAACb,UAAU,EAAC+C,OAAO,CAAC,IAAI,CAAAN,QAAA,eACtB9B,IAAA,CAACF,YAAY,EAACkC,EAAE,CAAE,CAAEK,EAAE,CAAE,CAAC,CAAEC,aAAa,CAAE,QAAS,CAAE,CAAE,CAAC,CACvD5B,CAAC,CAAC,yCAAyC,CAAC,EACnC,CAAC,cACbV,IAAA,CAACR,UAAU,EAAC+C,OAAO,CAAEjC,OAAQ,CAAC,aAAW,OAAO,CAAAwB,QAAA,cAC9C9B,IAAA,CAACN,SAAS,GAAE,CAAC,CACH,CAAC,EACV,CAAC,CACK,CAAC,cAEdQ,KAAA,CAACjB,aAAa,EAACuD,QAAQ,MAAAV,QAAA,eACrB5B,KAAA,CAACd,GAAG,EAAC4C,EAAE,CAAE,CAAES,EAAE,CAAE,CAAE,CAAE,CAAAX,QAAA,eACjB5B,KAAA,CAACb,UAAU,EAAC+C,OAAO,CAAC,WAAW,CAACM,YAAY,MAAAZ,QAAA,EACzCpB,CAAC,CAAC,wCAAwC,CAAC,CAAC,GAC/C,EAAY,CAAC,cACbV,IAAA,CAACX,UAAU,EAAC+C,OAAO,CAAC,IAAI,CAACO,KAAK,CAAC,SAAS,CAAAb,QAAA,CACrCrB,eAAe,CACN,CAAC,EACV,CAAC,cAENP,KAAA,CAACd,GAAG,EAAC4C,EAAE,CAAE,CAAEY,EAAE,CAAE,CAAE,CAAE,CAAAd,QAAA,eACjB9B,IAAA,CAACX,UAAU,EAAC+C,OAAO,CAAC,OAAO,CAACM,YAAY,MAAAZ,QAAA,CACrCpB,CAAC,CAAC,+CAA+C,CAAC,CACzC,CAAC,cAEbV,IAAA,CAACT,SAAS,EACRsD,KAAK,CAAEnC,CAAC,CAAC,qCAAqC,CAAE,CAChDoC,IAAI,CAAC,MAAM,CACXrB,KAAK,CAAEd,YAAa,CACpBoC,QAAQ,CAAEzB,gBAAiB,CAC3BO,SAAS,MACTF,KAAK,CAAE,CAAC,CAACd,SAAU,CACnBmC,UAAU,CAAEnC,SAAU,CACtBoC,eAAe,CAAE,CACfC,MAAM,CAAE,IACV,CAAE,CACFlB,EAAE,CAAE,CAAEY,EAAE,CAAE,CAAE,CAAE,CACdO,UAAU,CAAE,CACVC,GAAG,CAAE,GAAI,CAAAlC,IAAI,CAAC,CAAC,CAACmC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAC5C,CAAE,CACH,CAAC,EACC,CAAC,EACO,CAAC,cAEhBpD,KAAA,CAAChB,aAAa,EAAC8C,EAAE,CAAE,CAAEuB,CAAC,CAAE,CAAE,CAAE,CAAAzB,QAAA,eAC1B9B,IAAA,CAACb,MAAM,EAACoD,OAAO,CAAEjC,OAAQ,CAACqC,KAAK,CAAC,SAAS,CAAAb,QAAA,CACtCpB,CAAC,CAAC,eAAe,CAAC,CACb,CAAC,cACTV,IAAA,CAACb,MAAM,EACLoD,OAAO,CAAEb,YAAa,CACtBiB,KAAK,CAAC,SAAS,CACfP,OAAO,CAAC,WAAW,CACnBoB,QAAQ,CAAE,CAAC7C,YAAY,EAAI,CAAC,CAACE,SAAU,CAAAiB,QAAA,CAEtCpB,CAAC,CAAC,0CAA0C,CAAC,CACxC,CAAC,EACI,CAAC,EACV,CAAC,CAEb,CAAC,CAED,cAAe,CAAAP,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}