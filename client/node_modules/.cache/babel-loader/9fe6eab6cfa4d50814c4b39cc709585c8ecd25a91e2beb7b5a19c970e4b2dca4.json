{"ast":null,"code":"/**\n * Service de collecte d'empreintes client\n * Ce service génère une empreinte unique pour chaque appareil/navigateur \n * afin d'améliorer la sécurité du système d'authentification\n */import{v4 as uuidv4}from'uuid';import*as UAParser from'ua-parser-js';class ClientFingerprintService{constructor(){this.fingerprintKey='client_fingerprint';this.uaParser=new UAParser();this.initFingerprint();}/**\n   * Initialise l'empreinte client si elle n'existe pas déjà\n   */initFingerprint(){if(!this.getFingerprint()){this.generateFingerprint();}}/**\n   * Génère et stocke une nouvelle empreinte client\n   * @returns {Object} L'empreinte complète avec toutes ses composantes\n   */generateFingerprint(){const uuid=uuidv4();const browserInfo=this.getBrowserInfo();const osInfo=this.getOSInfo();const screenInfo=this.getScreenInfo();const timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;const languages=navigator.languages||[navigator.language||navigator.userLanguage];// Informations sur le matériel (si disponibles)\nconst hardwareInfo=this.getHardwareInfo();// Informations sur les capacités du navigateur\nconst capabilities=this.getCapabilities();const fingerprint={id:uuid,browser:browserInfo,os:osInfo,screen:screenInfo,timeZone,languages,hardware:hardwareInfo,capabilities,createdAt:new Date().toISOString()};// Stocker l'empreinte complète\nlocalStorage.setItem(this.fingerprintKey,JSON.stringify(fingerprint));return fingerprint;}/**\n   * Récupère l'empreinte client stockée\n   * @returns {Object|null} L'empreinte client ou null si elle n'existe pas\n   */getFingerprint(){const stored=localStorage.getItem(this.fingerprintKey);return stored?JSON.parse(stored):null;}/**\n   * Récupère uniquement l'ID d'empreinte\n   * @returns {string|null} L'ID d'empreinte ou null\n   */getFingerprintId(){const fingerprint=this.getFingerprint();return fingerprint?fingerprint.id:null;}/**\n   * Met à jour l'empreinte existante avec les données actuelles\n   * Utile pour détecter les changements de configuration\n   * @returns {Object} L'empreinte mise à jour\n   */updateFingerprint(){const currentFingerprint=this.getFingerprint();if(!currentFingerprint){return this.generateFingerprint();}// Garder l'ID existant mais mettre à jour les autres informations\nconst updatedFingerprint={...this.generateFingerprint(),id:currentFingerprint.id,previousCreatedAt:currentFingerprint.createdAt,updatedAt:new Date().toISOString()};localStorage.setItem(this.fingerprintKey,JSON.stringify(updatedFingerprint));return updatedFingerprint;}/**\n   * Récupère les informations sur le navigateur\n   * @private\n   * @returns {Object} Informations sur le navigateur\n   */getBrowserInfo(){const browserResult=this.uaParser.getBrowser();const engineResult=this.uaParser.getEngine();return{name:browserResult.name||'Unknown',version:browserResult.version||'Unknown',engine:engineResult.name||'Unknown',engineVersion:engineResult.version||'Unknown',userAgent:navigator.userAgent};}/**\n   * Récupère les informations sur le système d'exploitation\n   * @private\n   * @returns {Object} Informations sur le système d'exploitation\n   */getOSInfo(){const osResult=this.uaParser.getOS();return{name:osResult.name||'Unknown',version:osResult.version||'Unknown',platform:navigator.platform||'Unknown'};}/**\n   * Récupère les informations sur l'écran\n   * @private\n   * @returns {Object} Informations sur l'écran\n   */getScreenInfo(){return{width:window.screen.width,height:window.screen.height,colorDepth:window.screen.colorDepth,pixelRatio:window.devicePixelRatio||1,orientation:window.screen.orientation?window.screen.orientation.type:'Unknown'};}/**\n   * Récupère les informations matérielles (si disponibles)\n   * @private\n   * @returns {Object} Informations sur le matériel\n   */getHardwareInfo(){const deviceResult=this.uaParser.getDevice();const hardwareInfo={deviceType:deviceResult.type||'Unknown',deviceModel:deviceResult.model||'Unknown',deviceVendor:deviceResult.vendor||'Unknown',isMobile:this.isMobileDevice(),isTablet:this.isTabletDevice()};// Essayer d'obtenir des informations sur les cœurs CPU\nif(navigator.hardwareConcurrency){hardwareInfo.cpuCores=navigator.hardwareConcurrency;}// Essayer d'obtenir des informations sur la mémoire\nif(navigator.deviceMemory){hardwareInfo.deviceMemory=navigator.deviceMemory;}return hardwareInfo;}/**\n   * Détermine si l'appareil est mobile\n   * @private\n   * @returns {boolean} True si l'appareil est un mobile\n   */isMobileDevice(){const deviceType=this.uaParser.getDevice().type;return deviceType==='mobile'||/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent);}/**\n   * Détermine si l'appareil est une tablette\n   * @private\n   * @returns {boolean} True si l'appareil est une tablette\n   */isTabletDevice(){const deviceType=this.uaParser.getDevice().type;return deviceType==='tablet'||/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(navigator.userAgent);}/**\n   * Récupère les capacités techniques du navigateur\n   * @private\n   * @returns {Object} Capacités du navigateur\n   */getCapabilities(){const capabilities={cookies:navigator.cookieEnabled,localStorage:this.isLocalStorageEnabled(),sessionStorage:this.isSessionStorageEnabled(),webGL:this.isWebGLEnabled(),webRTC:this.isWebRTCEnabled(),canvas:this.isCanvasEnabled(),svg:this.isSVGEnabled(),webP:null,// Sera déterminé de manière asynchrone\naudio:this.isAudioEnabled(),video:this.isVideoEnabled(),touchPoints:'maxTouchPoints'in navigator?navigator.maxTouchPoints:0,bluetooth:'bluetooth'in navigator,gyroscope:this.hasGyroscope(),serviceWorkers:'serviceWorker'in navigator};// Tester le support WebP de manière asynchrone\nthis.testWebPSupport().then(webPSupported=>{capabilities.webP=webPSupported;// Mettre à jour les capacités stockées\nconst fingerprint=this.getFingerprint();if(fingerprint){fingerprint.capabilities={...fingerprint.capabilities,webP:webPSupported};localStorage.setItem(this.fingerprintKey,JSON.stringify(fingerprint));}});return capabilities;}/**\n   * Vérifie si le localStorage est disponible\n   * @private\n   * @returns {boolean} True si le localStorage est disponible\n   */isLocalStorageEnabled(){try{localStorage.setItem('test','test');localStorage.removeItem('test');return true;}catch(e){return false;}}/**\n   * Vérifie si le sessionStorage est disponible\n   * @private\n   * @returns {boolean} True si le sessionStorage est disponible\n   */isSessionStorageEnabled(){try{sessionStorage.setItem('test','test');sessionStorage.removeItem('test');return true;}catch(e){return false;}}/**\n   * Vérifie si WebGL est disponible\n   * @private\n   * @returns {boolean} True si WebGL est disponible\n   */isWebGLEnabled(){try{const canvas=document.createElement('canvas');return!!(window.WebGLRenderingContext&&(canvas.getContext('webgl')||canvas.getContext('experimental-webgl')));}catch(e){return false;}}/**\n   * Vérifie si WebRTC est disponible\n   * @private\n   * @returns {boolean} True si WebRTC est disponible\n   */isWebRTCEnabled(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)||!!navigator.getUserMedia||!!navigator.webkitGetUserMedia||!!navigator.mozGetUserMedia;}/**\n   * Vérifie si Canvas est disponible\n   * @private\n   * @returns {boolean} True si Canvas est disponible\n   */isCanvasEnabled(){try{const canvas=document.createElement('canvas');return!!(canvas.getContext&&canvas.getContext('2d'));}catch(e){return false;}}/**\n   * Vérifie si SVG est disponible\n   * @private\n   * @returns {boolean} True si SVG est disponible\n   */isSVGEnabled(){return!!document.createElementNS&&!!document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect;}/**\n   * Teste le support du format WebP\n   * @private\n   * @returns {Promise<boolean>} Promise résolu avec true si WebP est supporté\n   */testWebPSupport(){return new Promise(resolve=>{const webP=new Image();webP.onload=webP.onerror=function(){resolve(webP.height===2);};webP.src='data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';});}/**\n   * Vérifie si l'API Audio est disponible\n   * @private\n   * @returns {boolean} True si l'API Audio est disponible\n   */isAudioEnabled(){return!!(window.AudioContext||window.webkitAudioContext||window.mozAudioContext);}/**\n   * Vérifie si l'API Vidéo est disponible\n   * @private\n   * @returns {boolean} True si l'API Vidéo est disponible\n   */isVideoEnabled(){try{const video=document.createElement('video');return!!video.canPlayType;}catch(e){return false;}}/**\n   * Vérifie si le gyroscope est disponible\n   * @private\n   * @returns {boolean} True si le gyroscope est disponible\n   */hasGyroscope(){return'DeviceOrientationEvent'in window||'DeviceMotionEvent'in window;}/**\n   * Récupère une version simplifiée de l'empreinte pour l'authentification\n   * @returns {Object} Empreinte simplifiée\n   */getAuthFingerprint(){const fingerprint=this.getFingerprint()||this.generateFingerprint();return{id:fingerprint.id,browser:`${fingerprint.browser.name}/${fingerprint.browser.version}`,os:`${fingerprint.os.name}/${fingerprint.os.version}`,screen:`${fingerprint.screen.width}x${fingerprint.screen.height}`,isMobile:fingerprint.hardware.isMobile,timeZone:fingerprint.timeZone,language:fingerprint.languages[0]||'unknown'};}}const clientFingerprintService=new ClientFingerprintService();export default clientFingerprintService;","map":{"version":3,"names":["v4","uuidv4","UAParser","ClientFingerprintService","constructor","fingerprintKey","uaParser","initFingerprint","getFingerprint","generateFingerprint","uuid","browserInfo","getBrowserInfo","osInfo","getOSInfo","screenInfo","getScreenInfo","timeZone","Intl","DateTimeFormat","resolvedOptions","languages","navigator","language","userLanguage","hardwareInfo","getHardwareInfo","capabilities","getCapabilities","fingerprint","id","browser","os","screen","hardware","createdAt","Date","toISOString","localStorage","setItem","JSON","stringify","stored","getItem","parse","getFingerprintId","updateFingerprint","currentFingerprint","updatedFingerprint","previousCreatedAt","updatedAt","browserResult","getBrowser","engineResult","getEngine","name","version","engine","engineVersion","userAgent","osResult","getOS","platform","width","window","height","colorDepth","pixelRatio","devicePixelRatio","orientation","type","deviceResult","getDevice","deviceType","deviceModel","model","deviceVendor","vendor","isMobile","isMobileDevice","isTablet","isTabletDevice","hardwareConcurrency","cpuCores","deviceMemory","test","cookies","cookieEnabled","isLocalStorageEnabled","sessionStorage","isSessionStorageEnabled","webGL","isWebGLEnabled","webRTC","isWebRTCEnabled","canvas","isCanvasEnabled","svg","isSVGEnabled","webP","audio","isAudioEnabled","video","isVideoEnabled","touchPoints","maxTouchPoints","bluetooth","gyroscope","hasGyroscope","serviceWorkers","testWebPSupport","then","webPSupported","removeItem","e","document","createElement","WebGLRenderingContext","getContext","mediaDevices","getUserMedia","webkitGetUserMedia","mozGetUserMedia","createElementNS","createSVGRect","Promise","resolve","Image","onload","onerror","src","AudioContext","webkitAudioContext","mozAudioContext","canPlayType","getAuthFingerprint","clientFingerprintService"],"sources":["C:/Users/busin/CascadeProjects/grand-est-cyclisme-website-final (1) VERSION FINAL/client/src/services/clientFingerprintService.js"],"sourcesContent":["/**\n * Service de collecte d'empreintes client\n * Ce service génère une empreinte unique pour chaque appareil/navigateur \n * afin d'améliorer la sécurité du système d'authentification\n */\n\nimport { v4 as uuidv4 } from 'uuid';\nimport * as UAParser from 'ua-parser-js';\n\nclass ClientFingerprintService {\n  constructor() {\n    this.fingerprintKey = 'client_fingerprint';\n    this.uaParser = new UAParser();\n    this.initFingerprint();\n  }\n\n  /**\n   * Initialise l'empreinte client si elle n'existe pas déjà\n   */\n  initFingerprint() {\n    if (!this.getFingerprint()) {\n      this.generateFingerprint();\n    }\n  }\n\n  /**\n   * Génère et stocke une nouvelle empreinte client\n   * @returns {Object} L'empreinte complète avec toutes ses composantes\n   */\n  generateFingerprint() {\n    const uuid = uuidv4();\n    const browserInfo = this.getBrowserInfo();\n    const osInfo = this.getOSInfo();\n    const screenInfo = this.getScreenInfo();\n    const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    const languages = navigator.languages || [navigator.language || navigator.userLanguage];\n    \n    // Informations sur le matériel (si disponibles)\n    const hardwareInfo = this.getHardwareInfo();\n    \n    // Informations sur les capacités du navigateur\n    const capabilities = this.getCapabilities();\n    \n    const fingerprint = {\n      id: uuid,\n      browser: browserInfo,\n      os: osInfo,\n      screen: screenInfo,\n      timeZone,\n      languages,\n      hardware: hardwareInfo,\n      capabilities,\n      createdAt: new Date().toISOString()\n    };\n    \n    // Stocker l'empreinte complète\n    localStorage.setItem(this.fingerprintKey, JSON.stringify(fingerprint));\n    \n    return fingerprint;\n  }\n  \n  /**\n   * Récupère l'empreinte client stockée\n   * @returns {Object|null} L'empreinte client ou null si elle n'existe pas\n   */\n  getFingerprint() {\n    const stored = localStorage.getItem(this.fingerprintKey);\n    return stored ? JSON.parse(stored) : null;\n  }\n  \n  /**\n   * Récupère uniquement l'ID d'empreinte\n   * @returns {string|null} L'ID d'empreinte ou null\n   */\n  getFingerprintId() {\n    const fingerprint = this.getFingerprint();\n    return fingerprint ? fingerprint.id : null;\n  }\n  \n  /**\n   * Met à jour l'empreinte existante avec les données actuelles\n   * Utile pour détecter les changements de configuration\n   * @returns {Object} L'empreinte mise à jour\n   */\n  updateFingerprint() {\n    const currentFingerprint = this.getFingerprint();\n    if (!currentFingerprint) {\n      return this.generateFingerprint();\n    }\n    \n    // Garder l'ID existant mais mettre à jour les autres informations\n    const updatedFingerprint = {\n      ...this.generateFingerprint(),\n      id: currentFingerprint.id,\n      previousCreatedAt: currentFingerprint.createdAt,\n      updatedAt: new Date().toISOString()\n    };\n    \n    localStorage.setItem(this.fingerprintKey, JSON.stringify(updatedFingerprint));\n    return updatedFingerprint;\n  }\n  \n  /**\n   * Récupère les informations sur le navigateur\n   * @private\n   * @returns {Object} Informations sur le navigateur\n   */\n  getBrowserInfo() {\n    const browserResult = this.uaParser.getBrowser();\n    const engineResult = this.uaParser.getEngine();\n    \n    return {\n      name: browserResult.name || 'Unknown',\n      version: browserResult.version || 'Unknown',\n      engine: engineResult.name || 'Unknown',\n      engineVersion: engineResult.version || 'Unknown',\n      userAgent: navigator.userAgent\n    };\n  }\n  \n  /**\n   * Récupère les informations sur le système d'exploitation\n   * @private\n   * @returns {Object} Informations sur le système d'exploitation\n   */\n  getOSInfo() {\n    const osResult = this.uaParser.getOS();\n    \n    return {\n      name: osResult.name || 'Unknown',\n      version: osResult.version || 'Unknown',\n      platform: navigator.platform || 'Unknown'\n    };\n  }\n  \n  /**\n   * Récupère les informations sur l'écran\n   * @private\n   * @returns {Object} Informations sur l'écran\n   */\n  getScreenInfo() {\n    return {\n      width: window.screen.width,\n      height: window.screen.height,\n      colorDepth: window.screen.colorDepth,\n      pixelRatio: window.devicePixelRatio || 1,\n      orientation: window.screen.orientation ? window.screen.orientation.type : 'Unknown'\n    };\n  }\n  \n  /**\n   * Récupère les informations matérielles (si disponibles)\n   * @private\n   * @returns {Object} Informations sur le matériel\n   */\n  getHardwareInfo() {\n    const deviceResult = this.uaParser.getDevice();\n    const hardwareInfo = {\n      deviceType: deviceResult.type || 'Unknown',\n      deviceModel: deviceResult.model || 'Unknown',\n      deviceVendor: deviceResult.vendor || 'Unknown',\n      isMobile: this.isMobileDevice(),\n      isTablet: this.isTabletDevice()\n    };\n    \n    // Essayer d'obtenir des informations sur les cœurs CPU\n    if (navigator.hardwareConcurrency) {\n      hardwareInfo.cpuCores = navigator.hardwareConcurrency;\n    }\n    \n    // Essayer d'obtenir des informations sur la mémoire\n    if (navigator.deviceMemory) {\n      hardwareInfo.deviceMemory = navigator.deviceMemory;\n    }\n    \n    return hardwareInfo;\n  }\n  \n  /**\n   * Détermine si l'appareil est mobile\n   * @private\n   * @returns {boolean} True si l'appareil est un mobile\n   */\n  isMobileDevice() {\n    const deviceType = this.uaParser.getDevice().type;\n    return deviceType === 'mobile' || /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent);\n  }\n  \n  /**\n   * Détermine si l'appareil est une tablette\n   * @private\n   * @returns {boolean} True si l'appareil est une tablette\n   */\n  isTabletDevice() {\n    const deviceType = this.uaParser.getDevice().type;\n    return deviceType === 'tablet' || /(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(navigator.userAgent);\n  }\n  \n  /**\n   * Récupère les capacités techniques du navigateur\n   * @private\n   * @returns {Object} Capacités du navigateur\n   */\n  getCapabilities() {\n    const capabilities = {\n      cookies: navigator.cookieEnabled,\n      localStorage: this.isLocalStorageEnabled(),\n      sessionStorage: this.isSessionStorageEnabled(),\n      webGL: this.isWebGLEnabled(),\n      webRTC: this.isWebRTCEnabled(),\n      canvas: this.isCanvasEnabled(),\n      svg: this.isSVGEnabled(),\n      webP: null, // Sera déterminé de manière asynchrone\n      audio: this.isAudioEnabled(),\n      video: this.isVideoEnabled(),\n      touchPoints: 'maxTouchPoints' in navigator ? navigator.maxTouchPoints : 0,\n      bluetooth: 'bluetooth' in navigator,\n      gyroscope: this.hasGyroscope(),\n      serviceWorkers: 'serviceWorker' in navigator\n    };\n    \n    // Tester le support WebP de manière asynchrone\n    this.testWebPSupport().then(webPSupported => {\n      capabilities.webP = webPSupported;\n      \n      // Mettre à jour les capacités stockées\n      const fingerprint = this.getFingerprint();\n      if (fingerprint) {\n        fingerprint.capabilities = {\n          ...fingerprint.capabilities,\n          webP: webPSupported\n        };\n        localStorage.setItem(this.fingerprintKey, JSON.stringify(fingerprint));\n      }\n    });\n    \n    return capabilities;\n  }\n  \n  /**\n   * Vérifie si le localStorage est disponible\n   * @private\n   * @returns {boolean} True si le localStorage est disponible\n   */\n  isLocalStorageEnabled() {\n    try {\n      localStorage.setItem('test', 'test');\n      localStorage.removeItem('test');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  /**\n   * Vérifie si le sessionStorage est disponible\n   * @private\n   * @returns {boolean} True si le sessionStorage est disponible\n   */\n  isSessionStorageEnabled() {\n    try {\n      sessionStorage.setItem('test', 'test');\n      sessionStorage.removeItem('test');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  /**\n   * Vérifie si WebGL est disponible\n   * @private\n   * @returns {boolean} True si WebGL est disponible\n   */\n  isWebGLEnabled() {\n    try {\n      const canvas = document.createElement('canvas');\n      return !!(window.WebGLRenderingContext && \n        (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  /**\n   * Vérifie si WebRTC est disponible\n   * @private\n   * @returns {boolean} True si WebRTC est disponible\n   */\n  isWebRTCEnabled() {\n    return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia) || \n           !!(navigator.getUserMedia) || \n           !!(navigator.webkitGetUserMedia) || \n           !!(navigator.mozGetUserMedia);\n  }\n  \n  /**\n   * Vérifie si Canvas est disponible\n   * @private\n   * @returns {boolean} True si Canvas est disponible\n   */\n  isCanvasEnabled() {\n    try {\n      const canvas = document.createElement('canvas');\n      return !!(canvas.getContext && canvas.getContext('2d'));\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  /**\n   * Vérifie si SVG est disponible\n   * @private\n   * @returns {boolean} True si SVG est disponible\n   */\n  isSVGEnabled() {\n    return !!document.createElementNS && \n           !!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n  }\n  \n  /**\n   * Teste le support du format WebP\n   * @private\n   * @returns {Promise<boolean>} Promise résolu avec true si WebP est supporté\n   */\n  testWebPSupport() {\n    return new Promise(resolve => {\n      const webP = new Image();\n      webP.onload = webP.onerror = function() {\n        resolve(webP.height === 2);\n      };\n      webP.src = 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';\n    });\n  }\n  \n  /**\n   * Vérifie si l'API Audio est disponible\n   * @private\n   * @returns {boolean} True si l'API Audio est disponible\n   */\n  isAudioEnabled() {\n    return !!(window.AudioContext || window.webkitAudioContext || window.mozAudioContext);\n  }\n  \n  /**\n   * Vérifie si l'API Vidéo est disponible\n   * @private\n   * @returns {boolean} True si l'API Vidéo est disponible\n   */\n  isVideoEnabled() {\n    try {\n      const video = document.createElement('video');\n      return !!(video.canPlayType);\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  /**\n   * Vérifie si le gyroscope est disponible\n   * @private\n   * @returns {boolean} True si le gyroscope est disponible\n   */\n  hasGyroscope() {\n    return 'DeviceOrientationEvent' in window || 'DeviceMotionEvent' in window;\n  }\n  \n  /**\n   * Récupère une version simplifiée de l'empreinte pour l'authentification\n   * @returns {Object} Empreinte simplifiée\n   */\n  getAuthFingerprint() {\n    const fingerprint = this.getFingerprint() || this.generateFingerprint();\n    \n    return {\n      id: fingerprint.id,\n      browser: `${fingerprint.browser.name}/${fingerprint.browser.version}`,\n      os: `${fingerprint.os.name}/${fingerprint.os.version}`,\n      screen: `${fingerprint.screen.width}x${fingerprint.screen.height}`,\n      isMobile: fingerprint.hardware.isMobile,\n      timeZone: fingerprint.timeZone,\n      language: fingerprint.languages[0] || 'unknown'\n    };\n  }\n}\n\nconst clientFingerprintService = new ClientFingerprintService();\nexport default clientFingerprintService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}