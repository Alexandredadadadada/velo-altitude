{"ast":null,"code":"import React,{createContext,useContext,useReducer,useEffect}from'react';import axios from'axios';import{useAuth}from'./AuthContext';// Création du contexte\nimport{jsx as _jsx}from\"react/jsx-runtime\";const ChallengeContext=/*#__PURE__*/createContext();// Actions types\nconst ACTIONS={SET_LOADING:'SET_LOADING',SET_ERROR:'SET_ERROR',SET_ALL_COLS:'SET_ALL_COLS',SET_TOTAL_ITEMS:'SET_TOTAL_ITEMS',SET_FILTERS:'SET_FILTERS',SET_PAGE:'SET_PAGE',SELECT_COL:'SELECT_COL',REMOVE_COL:'REMOVE_COL',SET_CHALLENGE_NAME:'SET_CHALLENGE_NAME',SET_IS_PUBLIC:'SET_IS_PUBLIC',SET_ACTIVE_TAB:'SET_ACTIVE_TAB',SET_PREDEFINED_CHALLENGES:'SET_PREDEFINED_CHALLENGES',SET_USER_CHALLENGES:'SET_USER_CHALLENGES',SET_SELECTED_COL:'SET_SELECTED_COL',SET_SHOW_COL_DETAILS:'SET_SHOW_COL_DETAILS',SET_WEATHER_DATA:'SET_WEATHER_DATA',SET_USER_COMPLETED_COLS:'SET_USER_COMPLETED_COLS',SET_SCHEDULED_ASCENTS:'SET_SCHEDULED_ASCENTS',SET_SCHEDULE_DIALOG:'SET_SCHEDULE_DIALOG',ADD_SCHEDULED_ASCENT:'ADD_SCHEDULED_ASCENT',SET_COMMUNITY_FILTER:'SET_COMMUNITY_FILTER',SET_COMMUNITY_SEARCH:'SET_COMMUNITY_SEARCH',SET_COMMUNITY_LIKES:'SET_COMMUNITY_LIKES',TOGGLE_LIKE_CHALLENGE:'TOGGLE_LIKE_CHALLENGE',LOAD_CHALLENGE:'LOAD_CHALLENGE',CLEAR_SELECTION:'CLEAR_SELECTION',SET_NOTIFICATION:'SET_NOTIFICATION',CLEAR_NOTIFICATION:'CLEAR_NOTIFICATION',SET_EXPORT_FORMAT:'SET_EXPORT_FORMAT'};// État initial\nconst initialState={loading:false,error:null,allCols:[],totalItems:0,filters:{region:'',country:'',minAltitude:'',maxAltitude:'',difficulty:'',searchQuery:''},page:1,rowsPerPage:20,selectedCols:[],challengeName:\"Mon défi des 7 Majeurs\",isPublic:false,activeTab:0,predefinedChallenges:[],userChallenges:[],selectedCol:null,showColDetails:false,weatherData:{},showScheduleDialog:false,scheduleColId:null,scheduleColName:'',communityFilter:'recent',communitySearch:'',communityLikes:{},userCompletedCols:[],scheduledAscents:{},exportFormat:'gpx',notification:null};// Reducer pour gérer les actions\nconst challengeReducer=(state,action)=>{switch(action.type){case ACTIONS.SET_LOADING:return{...state,loading:action.payload};case ACTIONS.SET_ERROR:return{...state,error:action.payload,loading:false};case ACTIONS.SET_ALL_COLS:return{...state,allCols:action.payload,loading:false};case ACTIONS.SET_TOTAL_ITEMS:return{...state,totalItems:action.payload};case ACTIONS.SET_FILTERS:return{...state,filters:{...state.filters,...action.payload},page:1// Réinitialiser la page lors du changement de filtres\n};case ACTIONS.SET_PAGE:return{...state,page:action.payload};case ACTIONS.SELECT_COL:// Éviter les doublons et limiter à 7 cols\nif(state.selectedCols.length>=7||state.selectedCols.some(col=>col.id===action.payload.id)){return state;}return{...state,selectedCols:[...state.selectedCols,action.payload]};case ACTIONS.REMOVE_COL:return{...state,selectedCols:state.selectedCols.filter(col=>col.id!==action.payload)};case ACTIONS.SET_CHALLENGE_NAME:return{...state,challengeName:action.payload};case ACTIONS.SET_IS_PUBLIC:return{...state,isPublic:action.payload};case ACTIONS.SET_ACTIVE_TAB:return{...state,activeTab:action.payload};case ACTIONS.SET_PREDEFINED_CHALLENGES:return{...state,predefinedChallenges:action.payload,loading:false};case ACTIONS.SET_USER_CHALLENGES:return{...state,userChallenges:action.payload,loading:false};case ACTIONS.SET_SELECTED_COL:return{...state,selectedCol:action.payload};case ACTIONS.SET_SHOW_COL_DETAILS:return{...state,showColDetails:action.payload};case ACTIONS.SET_WEATHER_DATA:return{...state,weatherData:{...state.weatherData,[action.payload.colId]:action.payload.data}};case ACTIONS.SET_USER_COMPLETED_COLS:return{...state,userCompletedCols:action.payload};case ACTIONS.SET_SCHEDULED_ASCENTS:return{...state,scheduledAscents:action.payload};case ACTIONS.SET_SCHEDULE_DIALOG:return{...state,showScheduleDialog:action.payload.show,scheduleColId:action.payload.colId||state.scheduleColId,scheduleColName:action.payload.colName||state.scheduleColName};case ACTIONS.ADD_SCHEDULED_ASCENT:return{...state,scheduledAscents:{...state.scheduledAscents,[action.payload.colId]:action.payload.date}};case ACTIONS.SET_COMMUNITY_FILTER:return{...state,communityFilter:action.payload};case ACTIONS.SET_COMMUNITY_SEARCH:return{...state,communitySearch:action.payload};case ACTIONS.SET_COMMUNITY_LIKES:return{...state,communityLikes:action.payload};case ACTIONS.TOGGLE_LIKE_CHALLENGE:return{...state,communityLikes:{...state.communityLikes,[action.payload]:!state.communityLikes[action.payload]}};case ACTIONS.LOAD_CHALLENGE:return{...state,challengeName:action.payload.name,selectedCols:action.payload.cols,isPublic:action.payload.isPublic||false,activeTab:1// Basculer vers l'onglet \"Mon défi\"\n};case ACTIONS.CLEAR_SELECTION:return{...state,selectedCols:[],challengeName:\"Mon défi des 7 Majeurs\",isPublic:false};case ACTIONS.SET_NOTIFICATION:return{...state,notification:action.payload};case ACTIONS.CLEAR_NOTIFICATION:return{...state,notification:null};case ACTIONS.SET_EXPORT_FORMAT:return{...state,exportFormat:action.payload};default:return state;}};// Provider du contexte\nexport const ChallengeProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(challengeReducer,initialState);const{isAuthenticated,user}=useAuth();// Fonctions d'effet de bord\n// Charger les données des cols avec pagination\nconst fetchColsData=async()=>{try{dispatch({type:ACTIONS.SET_LOADING,payload:true});const response=await axios.get('/api/european-cols',{params:{page:state.page,limit:state.rowsPerPage,search:state.filters.searchQuery,region:state.filters.region,country:state.filters.country,minAltitude:state.filters.minAltitude,maxAltitude:state.filters.maxAltitude,difficulty:state.filters.difficulty}});dispatch({type:ACTIONS.SET_ALL_COLS,payload:response.data.items});dispatch({type:ACTIONS.SET_TOTAL_ITEMS,payload:response.data.total});}catch(err){console.error('Erreur lors du chargement des cols:',err);dispatch({type:ACTIONS.SET_ERROR,payload:'Impossible de charger les données des cols. Veuillez réessayer plus tard.'});}};// Charger les défis prédéfinis\nconst fetchPredefinedChallenges=async()=>{try{dispatch({type:ACTIONS.SET_LOADING,payload:true});const response=await axios.get('/api/predefined-challenges');dispatch({type:ACTIONS.SET_PREDEFINED_CHALLENGES,payload:response.data});}catch(err){console.error('Erreur lors du chargement des défis prédéfinis:',err);dispatch({type:ACTIONS.SET_ERROR,payload:'Impossible de charger les défis prédéfinis. Veuillez réessayer plus tard.'});}};// Charger les défis de l'utilisateur\nconst fetchUserChallenges=async()=>{if(!isAuthenticated)return;try{dispatch({type:ACTIONS.SET_LOADING,payload:true});const response=await axios.get('/api/user-challenges');dispatch({type:ACTIONS.SET_USER_CHALLENGES,payload:response.data});}catch(err){console.error('Erreur lors du chargement des défis utilisateur:',err);dispatch({type:ACTIONS.SET_ERROR,payload:'Impossible de charger vos défis. Veuillez réessayer plus tard.'});}};// Charger les cols complétés par l'utilisateur\nconst fetchCompletedCols=async()=>{if(!isAuthenticated)return;try{const response=await axios.get('/api/user-completed-cols');dispatch({type:ACTIONS.SET_USER_COMPLETED_COLS,payload:response.data.map(item=>item.colId)});}catch(err){console.error('Erreur lors du chargement des cols complétés:',err);}};// Charger les ascensions programmées\nconst fetchScheduledAscents=async()=>{if(!isAuthenticated)return;try{const response=await axios.get('/api/scheduled-ascents');// Transformer le tableau en objet { colId: date }\nconst scheduledMap=response.data.reduce((acc,item)=>{acc[item.colId]=item.date;return acc;},{});dispatch({type:ACTIONS.SET_SCHEDULED_ASCENTS,payload:scheduledMap});}catch(err){console.error('Erreur lors du chargement des ascensions programmées:',err);}};// Sauvegarder un défi personnalisé\nconst saveChallenge=async()=>{if(!isAuthenticated||state.selectedCols.length===0)return;try{dispatch({type:ACTIONS.SET_LOADING,payload:true});const challengeData={name:state.challengeName,cols:state.selectedCols.map(col=>col.id),isPublic:state.isPublic};await axios.post('/api/user-challenges',challengeData);// Rafraîchir la liste des défis\nawait fetchUserChallenges();dispatch({type:ACTIONS.SET_NOTIFICATION,payload:{message:'Défi sauvegardé avec succès!',severity:'success'}});}catch(err){console.error('Erreur lors de la sauvegarde du défi:',err);dispatch({type:ACTIONS.SET_NOTIFICATION,payload:{message:'Impossible de sauvegarder le défi. Veuillez réessayer plus tard.',severity:'error'}});}finally{dispatch({type:ACTIONS.SET_LOADING,payload:false});}};// Marquer un col comme complété\nconst markColAsCompleted=async colId=>{if(!isAuthenticated)return;try{await axios.post('/api/user-completed-cols',{colId});// Mettre à jour la liste des cols complétés\ndispatch({type:ACTIONS.SET_USER_COMPLETED_COLS,payload:[...state.userCompletedCols,colId]});dispatch({type:ACTIONS.SET_NOTIFICATION,payload:{message:'Col marqué comme conquis!',severity:'success'}});}catch(err){console.error('Erreur lors du marquage du col:',err);dispatch({type:ACTIONS.SET_NOTIFICATION,payload:{message:'Impossible de marquer le col comme complété. Veuillez réessayer plus tard.',severity:'error'}});}};// Planifier une ascension\nconst scheduleAscent=async date=>{if(!isAuthenticated||!state.scheduleColId)return;try{await axios.post('/api/scheduled-ascents',{colId:state.scheduleColId,date:date});// Mettre à jour la liste des ascensions programmées\ndispatch({type:ACTIONS.ADD_SCHEDULED_ASCENT,payload:{colId:state.scheduleColId,date:date}});dispatch({type:ACTIONS.SET_NOTIFICATION,payload:{message:'Ascension programmée!',severity:'success'}});// Fermer la boîte de dialogue\ndispatch({type:ACTIONS.SET_SCHEDULE_DIALOG,payload:{show:false}});}catch(err){console.error('Erreur lors de la programmation de l\\'ascension:',err);dispatch({type:ACTIONS.SET_NOTIFICATION,payload:{message:'Impossible de programmer l\\'ascension. Veuillez réessayer plus tard.',severity:'error'}});}};// Récupérer les données météo pour un col\nconst fetchWeatherData=async(colId,lat,lng)=>{try{const response=await axios.get(`/api/weather?lat=${lat}&lng=${lng}`);dispatch({type:ACTIONS.SET_WEATHER_DATA,payload:{colId,data:response.data}});}catch(err){console.error('Erreur lors de la récupération des données météo:',err);}};// Supprimer un défi utilisateur\nconst deleteChallenge=async challengeId=>{if(!isAuthenticated)return;try{await axios.delete(`/api/user-challenges/${challengeId}`);// Rafraîchir la liste des défis\nawait fetchUserChallenges();dispatch({type:ACTIONS.SET_NOTIFICATION,payload:{message:'Défi supprimé avec succès!',severity:'success'}});}catch(err){console.error('Erreur lors de la suppression du défi:',err);dispatch({type:ACTIONS.SET_NOTIFICATION,payload:{message:'Impossible de supprimer le défi. Veuillez réessayer plus tard.',severity:'error'}});}};// \"Like\" un défi communautaire\nconst likeChallenge=async challengeId=>{if(!isAuthenticated)return;try{// Inverser l'état du like\nconst isLiked=state.communityLikes[challengeId];await axios.post(`/api/challenges/${challengeId}/like`,{like:!isLiked});dispatch({type:ACTIONS.TOGGLE_LIKE_CHALLENGE,payload:challengeId});}catch(err){console.error('Erreur lors du like/unlike:',err);}};// Exporter un parcours\nconst exportTrack=async(colId,format)=>{try{const response=await axios.get(`/api/cols/${colId}/export?format=${format}`,{responseType:'blob'});// Créer un URL pour le blob\nconst url=window.URL.createObjectURL(new Blob([response.data]));// Créer un lien temporaire\nconst link=document.createElement('a');link.href=url;link.setAttribute('download',`col_${colId}.${format}`);// Ajouter au document\ndocument.body.appendChild(link);// Cliquer sur le lien\nlink.click();// Nettoyer\nlink.parentNode.removeChild(link);window.URL.revokeObjectURL(url);}catch(err){console.error('Erreur lors de l\\'exportation du parcours:',err);dispatch({type:ACTIONS.SET_NOTIFICATION,payload:{message:'Impossible d\\'exporter le parcours. Veuillez réessayer plus tard.',severity:'error'}});}};// Effets pour le chargement initial des données\nuseEffect(()=>{fetchColsData();},[state.page,state.rowsPerPage,state.filters]);useEffect(()=>{fetchPredefinedChallenges();},[]);useEffect(()=>{if(isAuthenticated){fetchUserChallenges();fetchCompletedCols();fetchScheduledAscents();}},[isAuthenticated]);// Préparer l'objet de valeur du contexte\nconst value={...state,dispatch,actions:ACTIONS,// Actions d'effet de bord\nfetchColsData,fetchPredefinedChallenges,fetchUserChallenges,fetchCompletedCols,fetchScheduledAscents,fetchWeatherData,saveChallenge,markColAsCompleted,scheduleAscent,deleteChallenge,likeChallenge,exportTrack,// Actions simplifiées pour les composants\nselectCol:col=>dispatch({type:ACTIONS.SELECT_COL,payload:col}),removeCol:colId=>dispatch({type:ACTIONS.REMOVE_COL,payload:colId}),setChallengeName:name=>dispatch({type:ACTIONS.SET_CHALLENGE_NAME,payload:name}),setIsPublic:isPublic=>dispatch({type:ACTIONS.SET_IS_PUBLIC,payload:isPublic}),setActiveTab:tab=>dispatch({type:ACTIONS.SET_ACTIVE_TAB,payload:tab}),viewColDetails:col=>{dispatch({type:ACTIONS.SET_SELECTED_COL,payload:col});dispatch({type:ACTIONS.SET_SHOW_COL_DETAILS,payload:true});if(col&&col.latitude&&col.longitude){fetchWeatherData(col.id,col.latitude,col.longitude);}},closeColDetails:()=>dispatch({type:ACTIONS.SET_SHOW_COL_DETAILS,payload:false}),showScheduleDialog:(colId,colName)=>dispatch({type:ACTIONS.SET_SCHEDULE_DIALOG,payload:{show:true,colId,colName}}),closeScheduleDialog:()=>dispatch({type:ACTIONS.SET_SCHEDULE_DIALOG,payload:{show:false}}),setCommunityFilter:filter=>dispatch({type:ACTIONS.SET_COMMUNITY_FILTER,payload:filter}),setCommunitySearch:search=>dispatch({type:ACTIONS.SET_COMMUNITY_SEARCH,payload:search}),loadChallenge:challenge=>dispatch({type:ACTIONS.LOAD_CHALLENGE,payload:challenge}),clearSelection:()=>dispatch({type:ACTIONS.CLEAR_SELECTION}),setNotification:notification=>dispatch({type:ACTIONS.SET_NOTIFICATION,payload:notification}),clearNotification:()=>dispatch({type:ACTIONS.CLEAR_NOTIFICATION}),setExportFormat:format=>dispatch({type:ACTIONS.SET_EXPORT_FORMAT,payload:format}),setPage:page=>dispatch({type:ACTIONS.SET_PAGE,payload:page}),setFilters:filters=>dispatch({type:ACTIONS.SET_FILTERS,payload:filters})};return/*#__PURE__*/_jsx(ChallengeContext.Provider,{value:value,children:children});};// Hook custom pour utiliser le contexte\nexport const useChallenge=()=>{const context=useContext(ChallengeContext);if(context===undefined){throw new Error('useChallenge must be used within a ChallengeProvider');}return context;};export default ChallengeContext;","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","axios","useAuth","jsx","_jsx","ChallengeContext","ACTIONS","SET_LOADING","SET_ERROR","SET_ALL_COLS","SET_TOTAL_ITEMS","SET_FILTERS","SET_PAGE","SELECT_COL","REMOVE_COL","SET_CHALLENGE_NAME","SET_IS_PUBLIC","SET_ACTIVE_TAB","SET_PREDEFINED_CHALLENGES","SET_USER_CHALLENGES","SET_SELECTED_COL","SET_SHOW_COL_DETAILS","SET_WEATHER_DATA","SET_USER_COMPLETED_COLS","SET_SCHEDULED_ASCENTS","SET_SCHEDULE_DIALOG","ADD_SCHEDULED_ASCENT","SET_COMMUNITY_FILTER","SET_COMMUNITY_SEARCH","SET_COMMUNITY_LIKES","TOGGLE_LIKE_CHALLENGE","LOAD_CHALLENGE","CLEAR_SELECTION","SET_NOTIFICATION","CLEAR_NOTIFICATION","SET_EXPORT_FORMAT","initialState","loading","error","allCols","totalItems","filters","region","country","minAltitude","maxAltitude","difficulty","searchQuery","page","rowsPerPage","selectedCols","challengeName","isPublic","activeTab","predefinedChallenges","userChallenges","selectedCol","showColDetails","weatherData","showScheduleDialog","scheduleColId","scheduleColName","communityFilter","communitySearch","communityLikes","userCompletedCols","scheduledAscents","exportFormat","notification","challengeReducer","state","action","type","payload","length","some","col","id","filter","colId","data","show","colName","date","name","cols","ChallengeProvider","_ref","children","dispatch","isAuthenticated","user","fetchColsData","response","get","params","limit","search","items","total","err","console","fetchPredefinedChallenges","fetchUserChallenges","fetchCompletedCols","map","item","fetchScheduledAscents","scheduledMap","reduce","acc","saveChallenge","challengeData","post","message","severity","markColAsCompleted","scheduleAscent","fetchWeatherData","lat","lng","deleteChallenge","challengeId","delete","likeChallenge","isLiked","like","exportTrack","format","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","parentNode","removeChild","revokeObjectURL","value","actions","selectCol","removeCol","setChallengeName","setIsPublic","setActiveTab","tab","viewColDetails","latitude","longitude","closeColDetails","closeScheduleDialog","setCommunityFilter","setCommunitySearch","loadChallenge","challenge","clearSelection","setNotification","clearNotification","setExportFormat","setPage","setFilters","Provider","useChallenge","context","undefined","Error"],"sources":["C:/Users/busin/CascadeProjects/grand-est-cyclisme-website-final (1) VERSION FINAL/client/src/contexts/ChallengeContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from './AuthContext';\n\n// Création du contexte\nconst ChallengeContext = createContext();\n\n// Actions types\nconst ACTIONS = {\n  SET_LOADING: 'SET_LOADING',\n  SET_ERROR: 'SET_ERROR',\n  SET_ALL_COLS: 'SET_ALL_COLS',\n  SET_TOTAL_ITEMS: 'SET_TOTAL_ITEMS',\n  SET_FILTERS: 'SET_FILTERS',\n  SET_PAGE: 'SET_PAGE',\n  SELECT_COL: 'SELECT_COL',\n  REMOVE_COL: 'REMOVE_COL',\n  SET_CHALLENGE_NAME: 'SET_CHALLENGE_NAME',\n  SET_IS_PUBLIC: 'SET_IS_PUBLIC',\n  SET_ACTIVE_TAB: 'SET_ACTIVE_TAB',\n  SET_PREDEFINED_CHALLENGES: 'SET_PREDEFINED_CHALLENGES',\n  SET_USER_CHALLENGES: 'SET_USER_CHALLENGES',\n  SET_SELECTED_COL: 'SET_SELECTED_COL',\n  SET_SHOW_COL_DETAILS: 'SET_SHOW_COL_DETAILS',\n  SET_WEATHER_DATA: 'SET_WEATHER_DATA',\n  SET_USER_COMPLETED_COLS: 'SET_USER_COMPLETED_COLS',\n  SET_SCHEDULED_ASCENTS: 'SET_SCHEDULED_ASCENTS',\n  SET_SCHEDULE_DIALOG: 'SET_SCHEDULE_DIALOG',\n  ADD_SCHEDULED_ASCENT: 'ADD_SCHEDULED_ASCENT',\n  SET_COMMUNITY_FILTER: 'SET_COMMUNITY_FILTER',\n  SET_COMMUNITY_SEARCH: 'SET_COMMUNITY_SEARCH',\n  SET_COMMUNITY_LIKES: 'SET_COMMUNITY_LIKES',\n  TOGGLE_LIKE_CHALLENGE: 'TOGGLE_LIKE_CHALLENGE',\n  LOAD_CHALLENGE: 'LOAD_CHALLENGE',\n  CLEAR_SELECTION: 'CLEAR_SELECTION',\n  SET_NOTIFICATION: 'SET_NOTIFICATION',\n  CLEAR_NOTIFICATION: 'CLEAR_NOTIFICATION',\n  SET_EXPORT_FORMAT: 'SET_EXPORT_FORMAT',\n};\n\n// État initial\nconst initialState = {\n  loading: false,\n  error: null,\n  allCols: [],\n  totalItems: 0,\n  filters: {\n    region: '',\n    country: '',\n    minAltitude: '',\n    maxAltitude: '',\n    difficulty: '',\n    searchQuery: ''\n  },\n  page: 1,\n  rowsPerPage: 20,\n  selectedCols: [],\n  challengeName: \"Mon défi des 7 Majeurs\",\n  isPublic: false,\n  activeTab: 0,\n  predefinedChallenges: [],\n  userChallenges: [],\n  selectedCol: null,\n  showColDetails: false,\n  weatherData: {},\n  showScheduleDialog: false,\n  scheduleColId: null,\n  scheduleColName: '',\n  communityFilter: 'recent',\n  communitySearch: '',\n  communityLikes: {},\n  userCompletedCols: [],\n  scheduledAscents: {},\n  exportFormat: 'gpx',\n  notification: null\n};\n\n// Reducer pour gérer les actions\nconst challengeReducer = (state, action) => {\n  switch (action.type) {\n    case ACTIONS.SET_LOADING:\n      return { ...state, loading: action.payload };\n    \n    case ACTIONS.SET_ERROR:\n      return { ...state, error: action.payload, loading: false };\n    \n    case ACTIONS.SET_ALL_COLS:\n      return { ...state, allCols: action.payload, loading: false };\n    \n    case ACTIONS.SET_TOTAL_ITEMS:\n      return { ...state, totalItems: action.payload };\n    \n    case ACTIONS.SET_FILTERS:\n      return { \n        ...state, \n        filters: { ...state.filters, ...action.payload },\n        page: 1 // Réinitialiser la page lors du changement de filtres\n      };\n    \n    case ACTIONS.SET_PAGE:\n      return { ...state, page: action.payload };\n    \n    case ACTIONS.SELECT_COL:\n      // Éviter les doublons et limiter à 7 cols\n      if (state.selectedCols.length >= 7 || \n          state.selectedCols.some(col => col.id === action.payload.id)) {\n        return state;\n      }\n      return { \n        ...state, \n        selectedCols: [...state.selectedCols, action.payload] \n      };\n    \n    case ACTIONS.REMOVE_COL:\n      return { \n        ...state, \n        selectedCols: state.selectedCols.filter(col => col.id !== action.payload)\n      };\n    \n    case ACTIONS.SET_CHALLENGE_NAME:\n      return { ...state, challengeName: action.payload };\n    \n    case ACTIONS.SET_IS_PUBLIC:\n      return { ...state, isPublic: action.payload };\n    \n    case ACTIONS.SET_ACTIVE_TAB:\n      return { ...state, activeTab: action.payload };\n    \n    case ACTIONS.SET_PREDEFINED_CHALLENGES:\n      return { ...state, predefinedChallenges: action.payload, loading: false };\n    \n    case ACTIONS.SET_USER_CHALLENGES:\n      return { ...state, userChallenges: action.payload, loading: false };\n    \n    case ACTIONS.SET_SELECTED_COL:\n      return { ...state, selectedCol: action.payload };\n    \n    case ACTIONS.SET_SHOW_COL_DETAILS:\n      return { ...state, showColDetails: action.payload };\n    \n    case ACTIONS.SET_WEATHER_DATA:\n      return { \n        ...state, \n        weatherData: { \n          ...state.weatherData, \n          [action.payload.colId]: action.payload.data \n        } \n      };\n    \n    case ACTIONS.SET_USER_COMPLETED_COLS:\n      return { ...state, userCompletedCols: action.payload };\n    \n    case ACTIONS.SET_SCHEDULED_ASCENTS:\n      return { ...state, scheduledAscents: action.payload };\n    \n    case ACTIONS.SET_SCHEDULE_DIALOG:\n      return { \n        ...state, \n        showScheduleDialog: action.payload.show,\n        scheduleColId: action.payload.colId || state.scheduleColId,\n        scheduleColName: action.payload.colName || state.scheduleColName\n      };\n    \n    case ACTIONS.ADD_SCHEDULED_ASCENT:\n      return {\n        ...state,\n        scheduledAscents: {\n          ...state.scheduledAscents,\n          [action.payload.colId]: action.payload.date\n        }\n      };\n    \n    case ACTIONS.SET_COMMUNITY_FILTER:\n      return { ...state, communityFilter: action.payload };\n    \n    case ACTIONS.SET_COMMUNITY_SEARCH:\n      return { ...state, communitySearch: action.payload };\n    \n    case ACTIONS.SET_COMMUNITY_LIKES:\n      return { ...state, communityLikes: action.payload };\n    \n    case ACTIONS.TOGGLE_LIKE_CHALLENGE:\n      return {\n        ...state,\n        communityLikes: {\n          ...state.communityLikes,\n          [action.payload]: !state.communityLikes[action.payload]\n        }\n      };\n    \n    case ACTIONS.LOAD_CHALLENGE:\n      return {\n        ...state,\n        challengeName: action.payload.name,\n        selectedCols: action.payload.cols,\n        isPublic: action.payload.isPublic || false,\n        activeTab: 1 // Basculer vers l'onglet \"Mon défi\"\n      };\n    \n    case ACTIONS.CLEAR_SELECTION:\n      return {\n        ...state,\n        selectedCols: [],\n        challengeName: \"Mon défi des 7 Majeurs\",\n        isPublic: false\n      };\n    \n    case ACTIONS.SET_NOTIFICATION:\n      return { ...state, notification: action.payload };\n    \n    case ACTIONS.CLEAR_NOTIFICATION:\n      return { ...state, notification: null };\n    \n    case ACTIONS.SET_EXPORT_FORMAT:\n      return { ...state, exportFormat: action.payload };\n    \n    default:\n      return state;\n  }\n};\n\n// Provider du contexte\nexport const ChallengeProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(challengeReducer, initialState);\n  const { isAuthenticated, user } = useAuth();\n  \n  // Fonctions d'effet de bord\n  \n  // Charger les données des cols avec pagination\n  const fetchColsData = async () => {\n    try {\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\n      \n      const response = await axios.get('/api/european-cols', {\n        params: {\n          page: state.page,\n          limit: state.rowsPerPage,\n          search: state.filters.searchQuery,\n          region: state.filters.region,\n          country: state.filters.country,\n          minAltitude: state.filters.minAltitude,\n          maxAltitude: state.filters.maxAltitude,\n          difficulty: state.filters.difficulty\n        }\n      });\n      \n      dispatch({ type: ACTIONS.SET_ALL_COLS, payload: response.data.items });\n      dispatch({ type: ACTIONS.SET_TOTAL_ITEMS, payload: response.data.total });\n    } catch (err) {\n      console.error('Erreur lors du chargement des cols:', err);\n      dispatch({ \n        type: ACTIONS.SET_ERROR, \n        payload: 'Impossible de charger les données des cols. Veuillez réessayer plus tard.' \n      });\n    }\n  };\n  \n  // Charger les défis prédéfinis\n  const fetchPredefinedChallenges = async () => {\n    try {\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\n      \n      const response = await axios.get('/api/predefined-challenges');\n      dispatch({ type: ACTIONS.SET_PREDEFINED_CHALLENGES, payload: response.data });\n    } catch (err) {\n      console.error('Erreur lors du chargement des défis prédéfinis:', err);\n      dispatch({ \n        type: ACTIONS.SET_ERROR, \n        payload: 'Impossible de charger les défis prédéfinis. Veuillez réessayer plus tard.' \n      });\n    }\n  };\n  \n  // Charger les défis de l'utilisateur\n  const fetchUserChallenges = async () => {\n    if (!isAuthenticated) return;\n    \n    try {\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\n      \n      const response = await axios.get('/api/user-challenges');\n      dispatch({ type: ACTIONS.SET_USER_CHALLENGES, payload: response.data });\n    } catch (err) {\n      console.error('Erreur lors du chargement des défis utilisateur:', err);\n      dispatch({ \n        type: ACTIONS.SET_ERROR, \n        payload: 'Impossible de charger vos défis. Veuillez réessayer plus tard.' \n      });\n    }\n  };\n  \n  // Charger les cols complétés par l'utilisateur\n  const fetchCompletedCols = async () => {\n    if (!isAuthenticated) return;\n    \n    try {\n      const response = await axios.get('/api/user-completed-cols');\n      dispatch({ type: ACTIONS.SET_USER_COMPLETED_COLS, payload: response.data.map(item => item.colId) });\n    } catch (err) {\n      console.error('Erreur lors du chargement des cols complétés:', err);\n    }\n  };\n  \n  // Charger les ascensions programmées\n  const fetchScheduledAscents = async () => {\n    if (!isAuthenticated) return;\n    \n    try {\n      const response = await axios.get('/api/scheduled-ascents');\n      \n      // Transformer le tableau en objet { colId: date }\n      const scheduledMap = response.data.reduce((acc, item) => {\n        acc[item.colId] = item.date;\n        return acc;\n      }, {});\n      \n      dispatch({ type: ACTIONS.SET_SCHEDULED_ASCENTS, payload: scheduledMap });\n    } catch (err) {\n      console.error('Erreur lors du chargement des ascensions programmées:', err);\n    }\n  };\n  \n  // Sauvegarder un défi personnalisé\n  const saveChallenge = async () => {\n    if (!isAuthenticated || state.selectedCols.length === 0) return;\n    \n    try {\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\n      \n      const challengeData = {\n        name: state.challengeName,\n        cols: state.selectedCols.map(col => col.id),\n        isPublic: state.isPublic\n      };\n      \n      await axios.post('/api/user-challenges', challengeData);\n      \n      // Rafraîchir la liste des défis\n      await fetchUserChallenges();\n      \n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Défi sauvegardé avec succès!',\n          severity: 'success'\n        }\n      });\n    } catch (err) {\n      console.error('Erreur lors de la sauvegarde du défi:', err);\n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Impossible de sauvegarder le défi. Veuillez réessayer plus tard.',\n          severity: 'error'\n        } \n      });\n    } finally {\n      dispatch({ type: ACTIONS.SET_LOADING, payload: false });\n    }\n  };\n  \n  // Marquer un col comme complété\n  const markColAsCompleted = async (colId) => {\n    if (!isAuthenticated) return;\n    \n    try {\n      await axios.post('/api/user-completed-cols', { colId });\n      \n      // Mettre à jour la liste des cols complétés\n      dispatch({ \n        type: ACTIONS.SET_USER_COMPLETED_COLS, \n        payload: [...state.userCompletedCols, colId]\n      });\n      \n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Col marqué comme conquis!',\n          severity: 'success'\n        }\n      });\n    } catch (err) {\n      console.error('Erreur lors du marquage du col:', err);\n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Impossible de marquer le col comme complété. Veuillez réessayer plus tard.',\n          severity: 'error'\n        } \n      });\n    }\n  };\n  \n  // Planifier une ascension\n  const scheduleAscent = async (date) => {\n    if (!isAuthenticated || !state.scheduleColId) return;\n    \n    try {\n      await axios.post('/api/scheduled-ascents', {\n        colId: state.scheduleColId,\n        date: date\n      });\n      \n      // Mettre à jour la liste des ascensions programmées\n      dispatch({ \n        type: ACTIONS.ADD_SCHEDULED_ASCENT, \n        payload: {\n          colId: state.scheduleColId,\n          date: date\n        }\n      });\n      \n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Ascension programmée!',\n          severity: 'success'\n        }\n      });\n      \n      // Fermer la boîte de dialogue\n      dispatch({ \n        type: ACTIONS.SET_SCHEDULE_DIALOG, \n        payload: {\n          show: false\n        }\n      });\n    } catch (err) {\n      console.error('Erreur lors de la programmation de l\\'ascension:', err);\n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Impossible de programmer l\\'ascension. Veuillez réessayer plus tard.',\n          severity: 'error'\n        } \n      });\n    }\n  };\n  \n  // Récupérer les données météo pour un col\n  const fetchWeatherData = async (colId, lat, lng) => {\n    try {\n      const response = await axios.get(`/api/weather?lat=${lat}&lng=${lng}`);\n      \n      dispatch({ \n        type: ACTIONS.SET_WEATHER_DATA, \n        payload: {\n          colId,\n          data: response.data\n        }\n      });\n    } catch (err) {\n      console.error('Erreur lors de la récupération des données météo:', err);\n    }\n  };\n  \n  // Supprimer un défi utilisateur\n  const deleteChallenge = async (challengeId) => {\n    if (!isAuthenticated) return;\n    \n    try {\n      await axios.delete(`/api/user-challenges/${challengeId}`);\n      \n      // Rafraîchir la liste des défis\n      await fetchUserChallenges();\n      \n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Défi supprimé avec succès!',\n          severity: 'success'\n        }\n      });\n    } catch (err) {\n      console.error('Erreur lors de la suppression du défi:', err);\n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Impossible de supprimer le défi. Veuillez réessayer plus tard.',\n          severity: 'error'\n        } \n      });\n    }\n  };\n  \n  // \"Like\" un défi communautaire\n  const likeChallenge = async (challengeId) => {\n    if (!isAuthenticated) return;\n    \n    try {\n      // Inverser l'état du like\n      const isLiked = state.communityLikes[challengeId];\n      \n      await axios.post(`/api/challenges/${challengeId}/like`, { like: !isLiked });\n      \n      dispatch({ type: ACTIONS.TOGGLE_LIKE_CHALLENGE, payload: challengeId });\n    } catch (err) {\n      console.error('Erreur lors du like/unlike:', err);\n    }\n  };\n  \n  // Exporter un parcours\n  const exportTrack = async (colId, format) => {\n    try {\n      const response = await axios.get(`/api/cols/${colId}/export?format=${format}`, {\n        responseType: 'blob'\n      });\n      \n      // Créer un URL pour le blob\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      \n      // Créer un lien temporaire\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `col_${colId}.${format}`);\n      \n      // Ajouter au document\n      document.body.appendChild(link);\n      \n      // Cliquer sur le lien\n      link.click();\n      \n      // Nettoyer\n      link.parentNode.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error('Erreur lors de l\\'exportation du parcours:', err);\n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Impossible d\\'exporter le parcours. Veuillez réessayer plus tard.',\n          severity: 'error'\n        } \n      });\n    }\n  };\n  \n  // Effets pour le chargement initial des données\n  useEffect(() => {\n    fetchColsData();\n  }, [state.page, state.rowsPerPage, state.filters]);\n  \n  useEffect(() => {\n    fetchPredefinedChallenges();\n  }, []);\n  \n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchUserChallenges();\n      fetchCompletedCols();\n      fetchScheduledAscents();\n    }\n  }, [isAuthenticated]);\n  \n  // Préparer l'objet de valeur du contexte\n  const value = {\n    ...state,\n    dispatch,\n    actions: ACTIONS,\n    \n    // Actions d'effet de bord\n    fetchColsData,\n    fetchPredefinedChallenges,\n    fetchUserChallenges,\n    fetchCompletedCols,\n    fetchScheduledAscents,\n    fetchWeatherData,\n    saveChallenge,\n    markColAsCompleted,\n    scheduleAscent,\n    deleteChallenge,\n    likeChallenge,\n    exportTrack,\n    \n    // Actions simplifiées pour les composants\n    selectCol: (col) => dispatch({ type: ACTIONS.SELECT_COL, payload: col }),\n    removeCol: (colId) => dispatch({ type: ACTIONS.REMOVE_COL, payload: colId }),\n    setChallengeName: (name) => dispatch({ type: ACTIONS.SET_CHALLENGE_NAME, payload: name }),\n    setIsPublic: (isPublic) => dispatch({ type: ACTIONS.SET_IS_PUBLIC, payload: isPublic }),\n    setActiveTab: (tab) => dispatch({ type: ACTIONS.SET_ACTIVE_TAB, payload: tab }),\n    viewColDetails: (col) => {\n      dispatch({ type: ACTIONS.SET_SELECTED_COL, payload: col });\n      dispatch({ type: ACTIONS.SET_SHOW_COL_DETAILS, payload: true });\n      if (col && col.latitude && col.longitude) {\n        fetchWeatherData(col.id, col.latitude, col.longitude);\n      }\n    },\n    closeColDetails: () => dispatch({ type: ACTIONS.SET_SHOW_COL_DETAILS, payload: false }),\n    showScheduleDialog: (colId, colName) => dispatch({ \n      type: ACTIONS.SET_SCHEDULE_DIALOG, \n      payload: { show: true, colId, colName } \n    }),\n    closeScheduleDialog: () => dispatch({ \n      type: ACTIONS.SET_SCHEDULE_DIALOG, \n      payload: { show: false } \n    }),\n    setCommunityFilter: (filter) => dispatch({ type: ACTIONS.SET_COMMUNITY_FILTER, payload: filter }),\n    setCommunitySearch: (search) => dispatch({ type: ACTIONS.SET_COMMUNITY_SEARCH, payload: search }),\n    loadChallenge: (challenge) => dispatch({ type: ACTIONS.LOAD_CHALLENGE, payload: challenge }),\n    clearSelection: () => dispatch({ type: ACTIONS.CLEAR_SELECTION }),\n    setNotification: (notification) => dispatch({ type: ACTIONS.SET_NOTIFICATION, payload: notification }),\n    clearNotification: () => dispatch({ type: ACTIONS.CLEAR_NOTIFICATION }),\n    setExportFormat: (format) => dispatch({ type: ACTIONS.SET_EXPORT_FORMAT, payload: format }),\n    setPage: (page) => dispatch({ type: ACTIONS.SET_PAGE, payload: page }),\n    setFilters: (filters) => dispatch({ type: ACTIONS.SET_FILTERS, payload: filters })\n  };\n  \n  return (\n    <ChallengeContext.Provider value={value}>\n      {children}\n    </ChallengeContext.Provider>\n  );\n};\n\n// Hook custom pour utiliser le contexte\nexport const useChallenge = () => {\n  const context = useContext(ChallengeContext);\n  if (context === undefined) {\n    throw new Error('useChallenge must be used within a ChallengeProvider');\n  }\n  return context;\n};\n\nexport default ChallengeContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}