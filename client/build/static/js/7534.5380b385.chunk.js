"use strict";(self.webpackChunkgrand_est_cyclisme_client=self.webpackChunkgrand_est_cyclisme_client||[]).push([[7534],{12110:(e,t,n)=>{n.d(t,{A:()=>j});var o=n(58168),a=n(98587),r=n(65043),s=n(58387),i=n(98610),l=n(34535),c=n(98206),d=n(63336),m=n(92532),u=n(72372);function h(e){return(0,u.Ay)("MuiCard",e)}(0,m.A)("MuiCard",["root"]);var x=n(70579);const p=["className","raised"],f=(0,l.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),j=r.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiCard"}),{className:r,raised:l=!1}=n,d=(0,a.A)(n,p),m=(0,o.A)({},n,{raised:l}),u=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},h,t)})(m);return(0,x.jsx)(f,(0,o.A)({className:(0,s.A)(u.root,r),elevation:l?8:void 0,ref:t,ownerState:m},d))}))},26494:(e,t,n)=>{n.d(t,{A:()=>f});var o=n(58168),a=n(98587),r=n(65043),s=n(58387),i=n(98610),l=n(34535),c=n(98206),d=n(92532),m=n(72372);function u(e){return(0,m.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var h=n(70579);const x=["className","component"],p=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),f=r.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiCardContent"}),{className:r,component:l="div"}=n,d=(0,a.A)(n,x),m=(0,o.A)({},n,{component:l}),f=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},u,t)})(m);return(0,h.jsx)(p,(0,o.A)({as:l,className:(0,s.A)(f.root,r),ownerState:m,ref:t},d))}))},44836:(e,t,n)=>{n.d(t,{A:()=>y});var o=n(65043),a=n(79183),r=n(71985),s=n(31951),i=n(50007),l=n(29408),c=n(96446),d=n(81637),m=n(85865),u=n(63336),h=n(70579);const x=e=>{let{data:t,color:n="#444444"}=e;const a=(0,o.useRef)(),r=t.map((e=>new l.Vector3(e.x,e.y,e.z))),s=new l.CatmullRomCurve3(r),i=new l.TubeGeometry(s,100,.2,8,!1);return(0,h.jsxs)("mesh",{ref:a,children:[(0,h.jsx)("primitive",{object:i,attach:"geometry"}),(0,h.jsx)("meshStandardMaterial",{color:n,roughness:.6})]})},p=e=>{let{data:t}=e;const n=(0,o.useRef)(),a=Math.max(...t.map((e=>e.x)))+2,r=(Math.max(...t.map((e=>e.y))),Math.min(...t.map((e=>e.y)))-.5);return(0,h.jsxs)("mesh",{ref:n,rotation:[-Math.PI/2,0,0],position:[a/2,r-.1,0],children:[(0,h.jsx)("planeGeometry",{args:[1.5*a,10]}),(0,h.jsx)("meshStandardMaterial",{color:"#4b7f52",wireframe:!1})]})},f=e=>{let{position:t,name:n,type:a}=e;const[r,i]=(0,o.useState)(!1);let l;switch(a){case"viewpoint":l="#1E88E5";break;case"rest":l="#43A047";break;case"summit":l="#E53935";break;default:l="#FFC107"}return(0,h.jsxs)("group",{position:t,children:[(0,h.jsxs)("mesh",{onPointerOver:()=>i(!0),onPointerOut:()=>i(!1),children:[(0,h.jsx)("sphereGeometry",{args:[.15,16,16]}),(0,h.jsx)("meshStandardMaterial",{color:l})]}),r&&(0,h.jsx)(s.E,{position:[0,.3,0],color:"white",fontSize:.15,maxWidth:2,textAlign:"center",anchorX:"center",anchorY:"middle",outlineWidth:.01,outlineColor:"#000000",children:n})]})},j=e=>{let{data:t}=e;const{camera:n}=(0,a.D)(),r=Math.max(...t.map((e=>e.x))),s=Math.max(...t.map((e=>e.y)));return(0,o.useEffect)((()=>{n.position.set(r/2,2*s,5),n.lookAt(r/2,0,0)}),[n,r,s]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.N,{enablePan:!0,enableZoom:!0,enableRotate:!0,target:[r/2,s/2,0]}),(0,h.jsx)("ambientLight",{intensity:.5}),(0,h.jsx)("directionalLight",{position:[10,10,5],intensity:.7}),(0,h.jsx)("directionalLight",{position:[-10,10,5],intensity:.3})]})},A=e=>{let{data:t,isPlaying:n}=e;const{camera:r}=(0,a.D)(),s=t.map((e=>new l.Vector3(e.x,e.y+.5,e.z))),i=new l.CatmullRomCurve3(s),[c,d]=(0,o.useState)(0);return(0,a.F)((()=>{if(n){d((e=>(e+.001)%1));const e=i.getPoint(c),t=i.getPoint(Math.min(c+.01,1));r.position.set(e.x,e.y,e.z),r.lookAt(t.x,t.y,t.z)}})),null},y=e=>{let{colId:t,colData:n,pointsOfInterest:a}=e;const[s,i]=(0,o.useState)(!0),[l,y]=(0,o.useState)(null),[g,C]=(0,o.useState)(null),[v,M]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{n?(C(n),i(!1)):(y("Donn\xe9es du col non disponibles"),i(!1))}),[n]),s?(0,h.jsx)(c.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",children:(0,h.jsx)(d.A,{})}):l?(0,h.jsx)(c.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",children:(0,h.jsx)(m.A,{color:"error",children:l})}):g?(0,h.jsxs)(u.A,{elevation:2,sx:{height:"400px",width:"100%",overflow:"hidden",position:"relative"},children:[(0,h.jsx)(m.A,{variant:"button",sx:{position:"absolute",top:10,left:10,zIndex:1,backgroundColor:"rgba(0,0,0,0.6)",color:"white",padding:"5px 10px",borderRadius:"4px",cursor:"pointer"},onClick:()=>M(!v),children:v?"Arr\xeater l'animation":"Parcourir le col"}),(0,h.jsxs)(r.Hl,{shadows:!0,children:[(0,h.jsx)(j,{data:g}),(0,h.jsx)(A,{data:g,isPlaying:v}),(0,h.jsx)(p,{data:g}),(0,h.jsx)(x,{data:g}),a&&a.map(((e,t)=>{const n=e.distance/Math.max(...g.map((e=>e.x))),o=Math.floor(n*g.length),a=g[Math.min(o,g.length-1)];return(0,h.jsx)(f,{position:[a.x,a.y+.3,a.z],name:e.name,type:e.type},t)}))]})]}):null}}}]);
//# sourceMappingURL=7534.5380b385.chunk.js.map