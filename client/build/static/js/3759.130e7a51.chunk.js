"use strict";(self.webpackChunkgrand_est_cyclisme_client=self.webpackChunkgrand_est_cyclisme_client||[]).push([[3759],{73759:(e,r,a)=>{a.r(r),a.d(r,{default:()=>Y});var n=a(65043),t=a(68903),i=a(12110),s=a(26494),l=a(85865),o=a(96446),c=a(39336),d=a(27600),u=a(42518),m=a(63336),h=a(17392),p=a(88911),x=a(79650),j=a(71806),A=a(84882),g=a(28076),f=a(10039),b=a(73460),y=a(90035),v=a(26600),M=a(35316),k=a(53193),q=a(79190),C=a(69285),w=a(32143),D=a(67784),P=a(29347),I=a(43845),S=a(81637),z=a(14194),$=a(92968),W=a(28267),B=a(86687),T=a(37460),G=a(83560),L=a(15244),F=a(77466),N=a(70141),E=a(30513),_=a(43817),J=a(51387),O=a(15510),R=a(65918),H=a(70579);const Y=e=>{var r;let{nutritionData:a,userId:Y}=e;const{user:Q}=(0,R.As)(),[U,V]=(0,n.useState)(!1),[K,X]=(0,n.useState)(null),[Z,ee]=(0,n.useState)(null),[re,ae]=(0,n.useState)(null),[ne,te]=(0,n.useState)("ride-day"),[ie,se]=(0,n.useState)(!1),[le,oe]=(0,n.useState)(null),[ce,de]=(0,n.useState)(""),[ue,me]=(0,n.useState)(!1),[he,pe]=(0,n.useState)({goalType:"performance",mealCount:5,allergies:[],preferences:"balanced"}),[xe]=(0,n.useState)([{id:"breakfast",label:"Petit-d\xe9jeuner",icon:(0,H.jsx)($.A,{})},{id:"pre-ride",label:"Avant-effort",icon:(0,H.jsx)(W.A,{})},{id:"during-ride",label:"Pendant l'effort",icon:(0,H.jsx)(W.A,{})},{id:"post-ride",label:"Apr\xe8s-effort",icon:(0,H.jsx)(W.A,{})},{id:"lunch",label:"D\xe9jeuner",icon:(0,H.jsx)(B.A,{})},{id:"dinner",label:"D\xeener",icon:(0,H.jsx)(T.A,{})},{id:"snack",label:"Collation",icon:(0,H.jsx)(B.A,{})}]);(0,n.useEffect)((()=>{a?ee(a):je()}),[a,Y]);const je=async()=>{if(Y)try{V(!0),X(null);const e=await O.A.getUserNutritionData(Y);if(!e||!e.mealPlans)throw new Error("Donn\xe9es de plans de repas invalides");ee(e);const r=e.mealPlans.filter((e=>e.type===ne));r.length>0&&ae(r[0])}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des plans de repas:",e),X("Impossible de charger les plans de repas.")}finally{V(!1)}},Ae=(null===Z||void 0===Z||null===(r=Z.mealPlans)||void 0===r?void 0:r.filter((e=>e.type===ne)))||[],ge=e=>{te(e),ae(null)},fe=function(){oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),se(!0)},be=()=>{se(!1),oe(null)},ye=e=>e&&e.length?e.reduce(((e,r)=>({calories:e.calories+(r.calories||0),carbs:e.carbs+(r.carbs||0),protein:e.protein+(r.protein||0),fat:e.fat+(r.fat||0)})),{calories:0,carbs:0,protein:0,fat:0}):{calories:0,carbs:0,protein:0,fat:0},ve=e=>e&&e.length?e.reduce(((e,r)=>{const a=ye(r.items);return{calories:e.calories+a.calories,carbs:e.carbs+a.carbs,protein:e.protein+a.protein,fat:e.fat+a.fat}}),{calories:0,carbs:0,protein:0,fat:0}):{calories:0,carbs:0,protein:0,fat:0},Me=()=>{me(!1)},ke=(e,r)=>{pe((a=>({...a,[e]:r})))},qe=async()=>{try{V(!0);let e=Z;if(e&&e.metrics&&e.goals||(e=await O.A.getUserNutritionData(Y)),!e||!e.metrics||!e.goals)throw new Error("Donn\xe9es du profil incompl\xe8tes pour g\xe9n\xe9rer un plan");const r=await O.A.calculateNutrition({weight:e.metrics.weight,height:e.metrics.height,age:e.metrics.age||30,gender:e.metrics.gender||"male",activityLevel:e.metrics.activityLevel||"moderate",goals:he.goalType||e.goals.type}),a=`Plan ${he.goalType} (${(new Date).toLocaleDateString()})`,n={id:`plan-${Date.now()}`,name:a,type:ne,totalCalories:r.calories,macronutrients:r.macronutrients,meals:[]},t={breakfast:.25,lunch:.3,dinner:.25,snack:.1,"pre-ride":.15,"during-ride":.1,"post-ride":.15};if("ride-day"===ne){const e=[];e.push({id:`meal-${Date.now()}-1`,type:"breakfast",name:"Petit-d\xe9jeuner",time:"07:00",calories:Math.round(r.calories*t.breakfast),carbs:Math.round(r.macronutrients.carbs.grams*t.breakfast),protein:Math.round(r.macronutrients.protein.grams*t.breakfast),fat:Math.round(r.macronutrients.fat.grams*t.breakfast),items:Ce("breakfast",Math.round(r.calories*t.breakfast),he)}),e.push({id:`meal-${Date.now()}-2`,type:"pre-ride",name:"Collation pr\xe9-entra\xeenement",time:"09:30",calories:Math.round(r.calories*t["pre-ride"]),carbs:Math.round(r.macronutrients.carbs.grams*t["pre-ride"]),protein:Math.round(r.macronutrients.protein.grams*t["pre-ride"]),fat:Math.round(r.macronutrients.fat.grams*t["pre-ride"]),items:Ce("pre-ride",Math.round(r.calories*t["pre-ride"]),he)}),e.push({id:`meal-${Date.now()}-3`,type:"during-ride",name:"Nutrition pendant l'effort",time:"11:00",calories:Math.round(r.calories*t["during-ride"]),carbs:Math.round(r.macronutrients.carbs.grams*t["during-ride"]),protein:Math.round(r.macronutrients.protein.grams*t["during-ride"]),fat:Math.round(r.macronutrients.fat.grams*t["during-ride"]),items:Ce("during-ride",Math.round(r.calories*t["during-ride"]),he)}),e.push({id:`meal-${Date.now()}-4`,type:"post-ride",name:"R\xe9cup\xe9ration post-entra\xeenement",time:"13:00",calories:Math.round(r.calories*t["post-ride"]),carbs:Math.round(r.macronutrients.carbs.grams*t["post-ride"]),protein:Math.round(r.macronutrients.protein.grams*t["post-ride"]),fat:Math.round(r.macronutrients.fat.grams*t["post-ride"]),items:Ce("post-ride",Math.round(r.calories*t["post-ride"]),he)}),e.push({id:`meal-${Date.now()}-5`,type:"lunch",name:"D\xe9jeuner",time:"14:00",calories:Math.round(r.calories*t.lunch),carbs:Math.round(r.macronutrients.carbs.grams*t.lunch),protein:Math.round(r.macronutrients.protein.grams*t.lunch),fat:Math.round(r.macronutrients.fat.grams*t.lunch),items:Ce("lunch",Math.round(r.calories*t.lunch),he)}),e.push({id:`meal-${Date.now()}-6`,type:"dinner",name:"D\xeener",time:"19:30",calories:Math.round(r.calories*t.dinner),carbs:Math.round(r.macronutrients.carbs.grams*t.dinner),protein:Math.round(r.macronutrients.protein.grams*t.dinner),fat:Math.round(r.macronutrients.fat.grams*t.dinner),items:Ce("dinner",Math.round(r.calories*t.dinner),he)}),n.meals=e}else{const e=[];e.push({id:`meal-${Date.now()}-1`,type:"breakfast",name:"Petit-d\xe9jeuner",time:"08:00",calories:Math.round(r.calories*t.breakfast),carbs:Math.round(r.macronutrients.carbs.grams*t.breakfast),protein:Math.round(r.macronutrients.protein.grams*t.breakfast),fat:Math.round(r.macronutrients.fat.grams*t.breakfast),items:Ce("breakfast",Math.round(r.calories*t.breakfast),he)}),e.push({id:`meal-${Date.now()}-2`,type:"snack",name:"Collation matinale",time:"10:30",calories:Math.round(r.calories*t.snack),carbs:Math.round(r.macronutrients.carbs.grams*t.snack),protein:Math.round(r.macronutrients.protein.grams*t.snack),fat:Math.round(r.macronutrients.fat.grams*t.snack),items:Ce("snack",Math.round(r.calories*t.snack),he)}),e.push({id:`meal-${Date.now()}-3`,type:"lunch",name:"D\xe9jeuner",time:"13:00",calories:Math.round(r.calories*t.lunch),carbs:Math.round(r.macronutrients.carbs.grams*t.lunch),protein:Math.round(r.macronutrients.protein.grams*t.lunch),fat:Math.round(r.macronutrients.fat.grams*t.lunch),items:Ce("lunch",Math.round(r.calories*t.lunch),he)}),e.push({id:`meal-${Date.now()}-4`,type:"snack",name:"Collation apr\xe8s-midi",time:"16:30",calories:Math.round(r.calories*t.snack),carbs:Math.round(r.macronutrients.carbs.grams*t.snack),protein:Math.round(r.macronutrients.protein.grams*t.snack),fat:Math.round(r.macronutrients.fat.grams*t.snack),items:Ce("snack",Math.round(r.calories*t.snack),he)}),e.push({id:`meal-${Date.now()}-5`,type:"dinner",name:"D\xeener",time:"19:30",calories:Math.round(r.calories*t.dinner),carbs:Math.round(r.macronutrients.carbs.grams*t.dinner),protein:Math.round(r.macronutrients.protein.grams*t.dinner),fat:Math.round(r.macronutrients.fat.grams*t.dinner),items:Ce("dinner",Math.round(r.calories*t.dinner),he)}),n.meals=e}const i={...Z,mealPlans:[...Z.mealPlans||[],n]};ee(i),ae(n),me(!1),console.log("Nouveau plan de repas g\xe9n\xe9r\xe9:",n)}catch(e){console.error("Erreur lors de la g\xe9n\xe9ration du plan de repas:",e),X("Impossible de g\xe9n\xe9rer le plan de repas. V\xe9rifiez que votre profil est complet.")}finally{V(!1)}},Ce=(e,r,a)=>{const n={breakfast:[{name:"Flocons d'avoine",quantity:"60g",calories:240,carbs:40,protein:8,fat:5},{name:"Pain complet",quantity:"2 tranches",calories:180,carbs:30,protein:8,fat:2},{name:"\u0152ufs brouill\xe9s",quantity:"2 \u0153ufs",calories:160,carbs:2,protein:14,fat:10},{name:"Yaourt grec",quantity:"200g",calories:150,carbs:6,protein:15,fat:8},{name:"Banane",quantity:"1 moyenne",calories:100,carbs:25,protein:1,fat:0},{name:"Lait d'amande",quantity:"250ml",calories:80,carbs:3,protein:1,fat:5}],"pre-ride":[{name:"Banane",quantity:"1 moyenne",calories:100,carbs:25,protein:1,fat:0},{name:"Barre de c\xe9r\xe9ales",quantity:"1 barre",calories:150,carbs:25,protein:5,fat:3},{name:"Pain aux raisins",quantity:"2 tranches",calories:180,carbs:35,protein:6,fat:2},{name:"Compote de pommes",quantity:"1 pot",calories:80,carbs:20,protein:0,fat:0}],"during-ride":[{name:"Gel \xe9nerg\xe9tique",quantity:"1 sachet",calories:100,carbs:25,protein:0,fat:0},{name:"Boisson isotonique",quantity:"500ml",calories:120,carbs:30,protein:0,fat:0},{name:"Barre \xe9nerg\xe9tique",quantity:"1 barre",calories:180,carbs:40,protein:2,fat:1},{name:"Banane",quantity:"1 moyenne",calories:100,carbs:25,protein:1,fat:0},{name:"Abricots secs",quantity:"30g",calories:80,carbs:18,protein:1,fat:0}],"post-ride":[{name:"Shake prot\xe9in\xe9",quantity:"1 portion",calories:180,carbs:15,protein:25,fat:2},{name:"Yaourt grec avec miel",quantity:"200g + 15g",calories:200,carbs:25,protein:15,fat:5},{name:"Sandwich jambon fromage",quantity:"1 petit",calories:300,carbs:30,protein:20,fat:10},{name:"Lait chocolat\xe9",quantity:"250ml",calories:180,carbs:26,protein:8,fat:5}],lunch:[{name:"P\xe2tes au poulet et l\xe9gumes",quantity:"300g",calories:450,carbs:60,protein:30,fat:10},{name:"Salade de quinoa au saumon",quantity:"250g",calories:400,carbs:40,protein:25,fat:15},{name:"Bowl de riz, l\xe9gumineuses et l\xe9gumes",quantity:"350g",calories:500,carbs:70,protein:20,fat:12},{name:"Wrap au poulet et crudit\xe9s",quantity:"1 grand",calories:350,carbs:40,protein:25,fat:10}],dinner:[{name:"Poisson et l\xe9gumes vapeur",quantity:"300g",calories:350,carbs:20,protein:30,fat:15},{name:"Poulet aux l\xe9gumes et quinoa",quantity:"350g",calories:450,carbs:40,protein:35,fat:12},{name:"Omelette aux l\xe9gumes et pommes de terre",quantity:"300g",calories:400,carbs:30,protein:25,fat:20},{name:"Soupe de l\xe9gumes et cro\xfbtons",quantity:"400ml",calories:250,carbs:30,protein:10,fat:8}],snack:[{name:"Yaourt et fruits",quantity:"150g + 100g",calories:150,carbs:25,protein:8,fat:2},{name:"Poign\xe9e de fruits secs et noix",quantity:"30g",calories:180,carbs:15,protein:5,fat:10},{name:"Barre prot\xe9in\xe9e",quantity:"1 barre",calories:200,carbs:20,protein:15,fat:7},{name:"Smoothie fruits et lait",quantity:"250ml",calories:160,carbs:30,protein:5,fat:2}]}[e]||[];let t=r;const i=[];for(;t>50&&n.length>0;){const e=Math.floor(Math.random()*n.length),r={...n[e]};if(r.calories>t){const e=t/r.calories;r.quantity=`${Math.round(parseInt(r.quantity)*e)}g`,r.calories=Math.round(r.calories*e),r.carbs=Math.round(r.carbs*e),r.protein=Math.round(r.protein*e),r.fat=Math.round(r.fat*e)}i.push({id:`item-${Date.now()}-${i.length}`,...r}),t-=r.calories,n.splice(e,1)}return i};return(0,H.jsxs)(o.A,{children:[(0,H.jsxs)(m.A,{sx:{p:2,mb:4},children:[(0,H.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,H.jsx)(l.A,{variant:"h5",children:"Planificateur de repas"}),(0,H.jsx)(u.A,{variant:"contained",color:"primary",startIcon:(0,H.jsx)(N.A,{}),onClick:()=>{me(!0)},children:"G\xe9n\xe9rer un plan"})]}),(0,H.jsx)(l.A,{variant:"body2",paragraph:!0,children:"Cr\xe9ez et g\xe9rez vos plans de repas pour optimiser votre alimentation en fonction de vos objectifs et de vos entra\xeenements."}),(0,H.jsxs)(o.A,{sx:{mb:2},children:[(0,H.jsx)(u.A,{variant:"ride-day"===ne?"contained":"outlined",onClick:()=>ge("ride-day"),sx:{mr:2},startIcon:(0,H.jsx)(W.A,{}),children:"Jours d'entra\xeenement"}),(0,H.jsx)(u.A,{variant:"recovery-day"===ne?"contained":"outlined",onClick:()=>ge("recovery-day"),startIcon:(0,H.jsx)(B.A,{}),children:"Jours de r\xe9cup\xe9ration"})]})]}),U?(0,H.jsx)(o.A,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,H.jsx)(S.A,{})}):K?(0,H.jsx)(z.A,{severity:"error",sx:{mb:3},children:K}):(0,H.jsxs)(H.Fragment,{children:[Z&&Z.mealPlans&&0!==Z.mealPlans.length?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(t.Ay,{container:!0,spacing:2,sx:{mb:4},children:[Ae.map((e=>{var r;return(0,H.jsx)(t.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,H.jsxs)(i.A,{variant:re&&re.id===e.id?"elevation":"outlined",elevation:re&&re.id===e.id?3:1,sx:{cursor:"pointer",borderColor:re&&re.id===e.id?"primary.main":"divider"},onClick:()=>(e=>{ae(e)})(e),children:[(0,H.jsxs)(s.A,{children:[(0,H.jsx)(l.A,{variant:"h6",component:"div",children:e.name}),(0,H.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,H.jsx)(W.A,{fontSize:"small",color:"primary",sx:{mr:1}}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"ride-day"===e.type?"Jour d'entra\xeenement":"Jour de r\xe9cup\xe9ration"})]}),(0,H.jsx)(c.A,{sx:{my:1}}),(0,H.jsxs)(l.A,{variant:"body2",children:[(null===(r=e.meals)||void 0===r?void 0:r.length)||0," repas \u2022 ",ve(e.meals).calories," kcal"]})]}),(0,H.jsxs)(d.A,{children:[(0,H.jsx)(u.A,{size:"small",startIcon:(0,H.jsx)(G.A,{}),onClick:e=>{e.stopPropagation()},children:"Modifier"}),(0,H.jsx)(u.A,{size:"small",startIcon:e.favorite?(0,H.jsx)(L.A,{color:"error"}):(0,H.jsx)(F.A,{}),onClick:e=>{e.stopPropagation()},children:e.favorite?"Favori":"Ajouter aux favoris"})]})]})},e.id)})),(0,H.jsx)(t.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,H.jsx)(i.A,{variant:"outlined",sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer",borderStyle:"dashed"},onClick:()=>{},children:(0,H.jsxs)(s.A,{sx:{textAlign:"center"},children:[(0,H.jsx)(N.A,{fontSize:"large",color:"primary"}),(0,H.jsx)(l.A,{variant:"body1",sx:{mt:1},children:"Cr\xe9er un nouveau plan"})]})})})]}),re&&(()=>{var e;if(!re)return null;const r=ve(re.meals);return(0,H.jsxs)(o.A,{children:[(0,H.jsxs)(m.A,{elevation:0,sx:{p:2,mb:3,bgcolor:"background.default"},children:[(0,H.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,H.jsx)(l.A,{variant:"h5",children:re.name}),(0,H.jsxs)(o.A,{children:[(0,H.jsx)(h.A,{size:"small",sx:{mr:1},title:"Imprimer",children:(0,H.jsx)(E.A,{})}),(0,H.jsx)(h.A,{size:"small",sx:{mr:1},title:"Partager",children:(0,H.jsx)(_.A,{})})]})]}),(0,H.jsxs)(t.Ay,{container:!0,spacing:3,children:[(0,H.jsx)(t.Ay,{item:!0,xs:12,md:8,children:(0,H.jsxs)(l.A,{variant:"body2",paragraph:!0,children:["Ce plan est con\xe7u pour les ","ride-day"===re.type?"jours d'entra\xeenement avec une consommation adapt\xe9e avant, pendant et apr\xe8s l'effort.":"jours de r\xe9cup\xe9ration pour optimiser la r\xe9g\xe9n\xe9ration musculaire et le repos."]})}),(0,H.jsx)(t.Ay,{item:!0,xs:12,md:4,children:(0,H.jsxs)(p.A,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,H.jsxs)(o.A,{textAlign:"center",children:[(0,H.jsx)(l.A,{variant:"h6",children:r.calories}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"kcal"})]}),(0,H.jsx)(c.A,{orientation:"vertical",flexItem:!0}),(0,H.jsxs)(o.A,{textAlign:"center",children:[(0,H.jsxs)(l.A,{variant:"h6",children:[r.carbs,"g"]}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"Glucides"})]}),(0,H.jsx)(c.A,{orientation:"vertical",flexItem:!0}),(0,H.jsxs)(o.A,{textAlign:"center",children:[(0,H.jsxs)(l.A,{variant:"h6",children:[r.protein,"g"]}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"Prot\xe9ines"})]}),(0,H.jsx)(c.A,{orientation:"vertical",flexItem:!0}),(0,H.jsxs)(o.A,{textAlign:"center",children:[(0,H.jsxs)(l.A,{variant:"h6",children:[r.fat,"g"]}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"Lipides"})]})]})})]})]}),null===(e=re.meals)||void 0===e?void 0:e.map(((e,r)=>{var a;const n=xe.find((r=>r.id===e.type))||{label:e.type,icon:(0,H.jsx)(B.A,{})},t=ye(e.items);return(0,H.jsxs)(m.A,{elevation:1,sx:{p:2,mb:2},children:[(0,H.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,H.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[n.icon,(0,H.jsx)(l.A,{variant:"h6",sx:{ml:1},children:n.label})]}),(0,H.jsx)(o.A,{children:(0,H.jsx)(u.A,{size:"small",startIcon:(0,H.jsx)(G.A,{}),onClick:()=>fe(e),children:"Modifier"})})]}),(0,H.jsx)(x.A,{children:(0,H.jsxs)(j.A,{size:"small",children:[(0,H.jsx)(A.A,{children:(0,H.jsxs)(g.A,{children:[(0,H.jsx)(f.A,{children:"Aliment"}),(0,H.jsx)(f.A,{children:"Quantit\xe9"}),(0,H.jsx)(f.A,{align:"right",children:"Calories"}),(0,H.jsx)(f.A,{align:"right",children:"G"}),(0,H.jsx)(f.A,{align:"right",children:"P"}),(0,H.jsx)(f.A,{align:"right",children:"L"})]})}),(0,H.jsxs)(b.A,{children:[null===(a=e.items)||void 0===a?void 0:a.map(((e,r)=>(0,H.jsxs)(g.A,{children:[(0,H.jsx)(f.A,{children:e.name}),(0,H.jsx)(f.A,{children:e.quantity}),(0,H.jsx)(f.A,{align:"right",children:e.calories}),(0,H.jsxs)(f.A,{align:"right",children:[e.carbs,"g"]}),(0,H.jsxs)(f.A,{align:"right",children:[e.protein,"g"]}),(0,H.jsxs)(f.A,{align:"right",children:[e.fat,"g"]})]},r))),(0,H.jsxs)(g.A,{children:[(0,H.jsx)(f.A,{colSpan:2,children:(0,H.jsx)("strong",{children:"Total"})}),(0,H.jsx)(f.A,{align:"right",children:(0,H.jsx)("strong",{children:t.calories})}),(0,H.jsx)(f.A,{align:"right",children:(0,H.jsxs)("strong",{children:[t.carbs,"g"]})}),(0,H.jsx)(f.A,{align:"right",children:(0,H.jsxs)("strong",{children:[t.protein,"g"]})}),(0,H.jsx)(f.A,{align:"right",children:(0,H.jsxs)("strong",{children:[t.fat,"g"]})})]})]})]})})]},r)})),(0,H.jsx)(o.A,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,H.jsx)(u.A,{variant:"outlined",startIcon:(0,H.jsx)(N.A,{}),onClick:()=>fe(),children:"Ajouter un repas"})})]})})()]}):(0,H.jsx)(z.A,{severity:"info",sx:{mb:3},children:'Aucun plan de repas disponible. Cr\xe9ez votre premier plan en cliquant sur "G\xe9n\xe9rer un plan".'}),(()=>{var e;return(0,H.jsxs)(y.A,{open:ie,onClose:be,maxWidth:"md",fullWidth:!0,children:[(0,H.jsx)(v.A,{children:le?"Modifier le repas":"Ajouter un repas"}),(0,H.jsx)(M.A,{dividers:!0,children:(0,H.jsxs)(t.Ay,{container:!0,spacing:2,children:[(0,H.jsx)(t.Ay,{item:!0,xs:12,children:(0,H.jsxs)(k.A,{fullWidth:!0,children:[(0,H.jsx)(q.A,{id:"meal-type-label",children:"Type de repas"}),(0,H.jsx)(C.A,{labelId:"meal-type-label",value:(null===le||void 0===le?void 0:le.type)||"",label:"Type de repas",children:xe.map((e=>(0,H.jsx)(w.A,{value:e.id,children:(0,H.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[e.icon,(0,H.jsx)(l.A,{sx:{ml:1},children:e.label})]})},e.id)))})]})}),(0,H.jsxs)(t.Ay,{item:!0,xs:12,children:[(0,H.jsx)(l.A,{variant:"subtitle1",gutterBottom:!0,children:"Aliments"}),null===le||void 0===le||null===(e=le.items)||void 0===e?void 0:e.map(((e,r)=>(0,H.jsx)(m.A,{variant:"outlined",sx:{p:1,mb:1},children:(0,H.jsxs)(t.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,H.jsx)(t.Ay,{item:!0,xs:5,children:(0,H.jsx)(l.A,{variant:"body2",children:e.name})}),(0,H.jsx)(t.Ay,{item:!0,xs:3,children:(0,H.jsx)(l.A,{variant:"body2",children:e.quantity})}),(0,H.jsx)(t.Ay,{item:!0,xs:3,children:(0,H.jsxs)(l.A,{variant:"body2",children:[e.calories," kcal"]})}),(0,H.jsx)(t.Ay,{item:!0,xs:1,children:(0,H.jsx)(h.A,{size:"small",color:"error",children:(0,H.jsx)(J.A,{fontSize:"small"})})})]})},r))),(0,H.jsxs)(o.A,{sx:{border:"1px dashed",borderColor:"divider",p:2,mt:2},children:[(0,H.jsx)(l.A,{variant:"subtitle2",gutterBottom:!0,children:"Ajouter un aliment"}),(0,H.jsxs)(t.Ay,{container:!0,spacing:2,children:[(0,H.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,H.jsx)(D.A,{label:"Nom de l'aliment",size:"small",fullWidth:!0})}),(0,H.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,H.jsx)(D.A,{label:"Quantit\xe9",size:"small",fullWidth:!0})}),(0,H.jsx)(t.Ay,{item:!0,xs:12,sm:3,children:(0,H.jsx)(D.A,{label:"Calories",size:"small",fullWidth:!0,type:"number"})}),(0,H.jsx)(t.Ay,{item:!0,xs:12,sm:3,children:(0,H.jsx)(D.A,{label:"Glucides (g)",size:"small",fullWidth:!0,type:"number"})}),(0,H.jsx)(t.Ay,{item:!0,xs:12,sm:3,children:(0,H.jsx)(D.A,{label:"Prot\xe9ines (g)",size:"small",fullWidth:!0,type:"number"})}),(0,H.jsx)(t.Ay,{item:!0,xs:12,sm:3,children:(0,H.jsx)(D.A,{label:"Lipides (g)",size:"small",fullWidth:!0,type:"number"})}),(0,H.jsx)(t.Ay,{item:!0,xs:12,children:(0,H.jsx)(u.A,{variant:"contained",startIcon:(0,H.jsx)(N.A,{}),children:"Ajouter"})})]})]})]})]})}),(0,H.jsxs)(P.A,{children:[(0,H.jsx)(u.A,{onClick:be,children:"Annuler"}),(0,H.jsx)(u.A,{variant:"contained",onClick:be,children:le?"Enregistrer les modifications":"Ajouter le repas"})]})]})})(),(0,H.jsxs)(y.A,{open:ue,onClose:Me,maxWidth:"md",fullWidth:!0,children:[(0,H.jsx)(v.A,{children:"G\xe9n\xe9rer un plan de repas automatiquement"}),(0,H.jsx)(M.A,{children:(0,H.jsxs)(t.Ay,{container:!0,spacing:3,sx:{mt:1},children:[(0,H.jsx)(t.Ay,{item:!0,xs:12,children:(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Configurez les options pour g\xe9n\xe9rer un plan de repas personnalis\xe9 qui correspond \xe0 vos objectifs et pr\xe9f\xe9rences."})}),(0,H.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,H.jsxs)(k.A,{fullWidth:!0,children:[(0,H.jsx)(q.A,{children:"Objectif"}),(0,H.jsxs)(C.A,{value:he.goalType,onChange:e=>ke("goalType",e.target.value),label:"Objectif",children:[(0,H.jsx)(w.A,{value:"performance",children:"Performance"}),(0,H.jsx)(w.A,{value:"weight-loss",children:"Perte de poids"}),(0,H.jsx)(w.A,{value:"maintenance",children:"Maintenance"}),(0,H.jsx)(w.A,{value:"recovery",children:"R\xe9cup\xe9ration"})]}),(0,H.jsx)(FormHelperText,{children:"S\xe9lectionnez votre objectif principal"})]})}),(0,H.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,H.jsxs)(k.A,{fullWidth:!0,children:[(0,H.jsx)(q.A,{children:"Nombre de repas"}),(0,H.jsxs)(C.A,{value:he.mealCount,onChange:e=>ke("mealCount",e.target.value),label:"Nombre de repas",children:[(0,H.jsx)(w.A,{value:3,children:"3 repas par jour"}),(0,H.jsx)(w.A,{value:4,children:"4 repas par jour"}),(0,H.jsx)(w.A,{value:5,children:"5 repas par jour"}),(0,H.jsx)(w.A,{value:6,children:"6 repas par jour"})]}),(0,H.jsx)(FormHelperText,{children:"Incluant repas principaux et collations"})]})}),(0,H.jsx)(t.Ay,{item:!0,xs:12,children:(0,H.jsxs)(k.A,{fullWidth:!0,children:[(0,H.jsx)(q.A,{children:"Style alimentaire"}),(0,H.jsxs)(C.A,{value:he.preferences,onChange:e=>ke("preferences",e.target.value),label:"Style alimentaire",children:[(0,H.jsx)(w.A,{value:"balanced",children:"\xc9quilibr\xe9"}),(0,H.jsx)(w.A,{value:"high-carb",children:"Riche en glucides"}),(0,H.jsx)(w.A,{value:"high-protein",children:"Riche en prot\xe9ines"}),(0,H.jsx)(w.A,{value:"vegetarian",children:"V\xe9g\xe9tarien"})]}),(0,H.jsx)(FormHelperText,{children:"Adaptez la distribution des macronutriments selon vos pr\xe9f\xe9rences"})]})}),(0,H.jsxs)(t.Ay,{item:!0,xs:12,children:[(0,H.jsx)(l.A,{variant:"subtitle2",gutterBottom:!0,children:"Allergies ou intol\xe9rances"}),(0,H.jsx)(o.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:["Gluten","Lactose","Arachides","Fruits \xe0 coque","Soja"].map((e=>(0,H.jsx)(I.A,{label:e,onClick:()=>{const r=[...he.allergies];if(r.includes(e)){const a=r.indexOf(e);r.splice(a,1)}else r.push(e);ke("allergies",r)},color:he.allergies.includes(e)?"primary":"default",variant:he.allergies.includes(e)?"filled":"outlined"},e)))})]})]})}),(0,H.jsxs)(P.A,{children:[(0,H.jsx)(u.A,{onClick:Me,children:"Annuler"}),(0,H.jsx)(u.A,{variant:"contained",onClick:qe,disabled:U,children:U?(0,H.jsx)(S.A,{size:24}):"G\xe9n\xe9rer mon plan"})]})]})]})]})}}}]);
//# sourceMappingURL=3759.130e7a51.chunk.js.map