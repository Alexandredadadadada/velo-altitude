"use strict";(self.webpackChunkgrand_est_cyclisme_client=self.webpackChunkgrand_est_cyclisme_client||[]).push([[2962],{72962:(e,n,s)=>{s.r(n),s.d(n,{default:()=>ae});var r=s(65043),i=s(96446),t=s(19252),a=s(85865),l=s(63336),o=s(8939),c=s(24056),d=s(42518),h=s(68903),x=s(12110),u=s(26494),j=s(27600),A=s(74605),m=s(4598),v=s(39336),y=s(14194),p=s(28267),b=s(13479),g=s(32069),f=s(68746),S=s(46987),C=s(41591),D=s(81637),T=s(18483),w=s(17392),k=s(43845),z=s(10611),q=s(47805),I=s(98606),$=s(17548),_=s(75456),F=s(91794),B=s(52161),E=s(23294),P=s(86213),R=s(70579);const N={initializing:"info",in_progress:"info",completed:"success",error:"error",cancelled:"warning",never_synced:"default"},M={initializing:"Initialisation",in_progress:"En cours",completed:"Termin\xe9e",error:"Erreur",cancelled:"Annul\xe9e",never_synced:"Jamais synchronis\xe9"},W=e=>{let{onHistoryClick:n}=e;const[s,t]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0),[x,u]=(0,r.useState)(null),[j,A]=(0,r.useState)(null),{enqueueSnackbar:m}=(0,S.dh)(),p=e=>{if(!e)return"N/A";return new Date(e).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},b=async()=>{try{const e=await P.A.get("/api/strava/sync/status");t(e.data),["completed","error","cancelled"].includes(e.data.status)&&j&&(clearInterval(j),A(null)),u(null)}catch(s){var e,n;u((null===(e=s.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||"Erreur lors de la r\xe9cup\xe9ration du statut"),j&&(clearInterval(j),A(null))}finally{c(!1)}},g=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{c(!0);const n=await P.A.post("/api/strava/sync",e);if(t(n.data.status),m("Synchronisation Strava d\xe9marr\xe9e",{variant:"success"}),!j){const e=setInterval(b,2e3);A(e)}}catch(a){var n,s,r,i;u((null===(n=a.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.error)||"Erreur lors du d\xe9marrage de la synchronisation"),m((null===(r=a.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error)||"\xc9chec du d\xe9marrage de la synchronisation",{variant:"error"})}finally{c(!1)}};return(0,r.useEffect)((()=>(b(),()=>{j&&clearInterval(j)})),[]),(0,r.useEffect)((()=>{if(s&&["initializing","in_progress"].includes(s.status)&&!j){const e=setInterval(b,2e3);return A(e),()=>clearInterval(e)}}),[s]),o&&!s?(0,R.jsx)(i.A,{display:"flex",justifyContent:"center",alignItems:"center",p:3,children:(0,R.jsx)(D.A,{})}):x&&!s?(0,R.jsx)(y.A,{severity:"error",sx:{mt:2,mb:2},children:x}):(0,R.jsxs)(l.A,{elevation:3,sx:{p:3,mb:3},children:[(0,R.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,R.jsx)(a.A,{variant:"h6",children:"Synchronisation Strava"}),(0,R.jsxs)(i.A,{children:[(0,R.jsx)(T.A,{title:"Rafra\xeechir",children:(0,R.jsx)(w.A,{size:"small",onClick:b,disabled:o,children:(0,R.jsx)(q.A,{})})}),(0,R.jsx)(T.A,{title:"Historique des synchronisations",children:(0,R.jsx)(w.A,{size:"small",onClick:n,disabled:o,sx:{ml:1},children:(0,R.jsx)(f.A,{})})})]})]}),s?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(i.A,{mb:2,children:(0,R.jsxs)(h.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,R.jsx)(h.Ay,{item:!0,children:(0,R.jsx)(k.A,{label:M[s.status]||s.status,color:N[s.status]||"default",icon:"completed"===s.status?(0,R.jsx)(I.A,{}):"error"===s.status?(0,R.jsx)($.A,{}):"in_progress"===s.status?(0,R.jsx)(D.A,{size:16}):(0,R.jsx)(_.A,{})})}),(0,R.jsx)(h.Ay,{item:!0,xs:!0,children:(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:s.message||"Aucune information disponible"})}),["in_progress","initializing"].includes(s.status)&&(0,R.jsx)(h.Ay,{item:!0,children:(0,R.jsx)(d.A,{variant:"outlined",color:"secondary",size:"small",startIcon:(0,R.jsx)(F.A,{}),onClick:async()=>{try{c(!0),await P.A.delete("/api/strava/sync"),b(),m("Synchronisation annul\xe9e",{variant:"info"})}catch(i){var e,n,s,r;u((null===(e=i.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||"Erreur lors de l'annulation"),m((null===(s=i.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||"\xc9chec de l'annulation",{variant:"error"})}finally{c(!1)}},disabled:o,children:"Annuler"})}),["completed","error","cancelled","never_synced"].includes(s.status)&&(0,R.jsx)(h.Ay,{item:!0,children:(0,R.jsx)(d.A,{variant:"contained",color:"primary",size:"small",startIcon:(0,R.jsx)(q.A,{}),onClick:()=>g({daysToSync:30}),disabled:o,children:"Synchroniser (30j)"})})]})}),["in_progress","initializing"].includes(s.status)&&(0,R.jsxs)(i.A,{mb:2,children:[(0,R.jsxs)(a.A,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:["Progression: ",s.progress,"%"]}),(0,R.jsx)(z.A,{variant:"determinate",value:s.progress||0,sx:{height:10,borderRadius:5}})]}),s.stats&&(0,R.jsxs)(i.A,{mb:2,children:[(0,R.jsx)(a.A,{variant:"subtitle2",gutterBottom:!0,children:"Statistiques"}),(0,R.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,R.jsxs)(h.Ay,{item:!0,xs:6,sm:4,md:2,children:[(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Total"}),(0,R.jsx)(a.A,{variant:"body1",children:s.stats.total||0})]}),(0,R.jsxs)(h.Ay,{item:!0,xs:6,sm:4,md:2,children:[(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Trait\xe9es"}),(0,R.jsx)(a.A,{variant:"body1",children:s.stats.processed||0})]}),(0,R.jsxs)(h.Ay,{item:!0,xs:6,sm:4,md:2,children:[(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Ajout\xe9es"}),(0,R.jsx)(a.A,{variant:"body1",children:s.stats.added||0})]}),(0,R.jsxs)(h.Ay,{item:!0,xs:6,sm:4,md:2,children:[(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Mises \xe0 jour"}),(0,R.jsx)(a.A,{variant:"body1",children:s.stats.updated||0})]}),(0,R.jsxs)(h.Ay,{item:!0,xs:6,sm:4,md:2,children:[(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Ignor\xe9es"}),(0,R.jsx)(a.A,{variant:"body1",children:s.stats.skipped||0})]}),(0,R.jsxs)(h.Ay,{item:!0,xs:6,sm:4,md:2,children:[(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"\xc9checs"}),(0,R.jsx)(a.A,{variant:"body1",children:s.stats.failed||0})]})]})]}),(0,R.jsx)(v.A,{sx:{my:2}}),(0,R.jsx)(i.A,{children:(0,R.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,R.jsxs)(h.Ay,{item:!0,xs:12,sm:6,children:[(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"D\xe9but"}),(0,R.jsx)(a.A,{variant:"body2",children:s.startTime?(0,R.jsxs)(R.Fragment,{children:[p(s.startTime),(0,R.jsx)(T.A,{title:p(s.startTime),children:(0,R.jsx)(a.A,{variant:"caption",display:"block",color:"textSecondary",children:(0,B.m)(new Date(s.startTime),{addSuffix:!0,locale:E.fr})})})]}):"N/A"})]}),(0,R.jsxs)(h.Ay,{item:!0,xs:12,sm:6,children:[(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Derni\xe8re mise \xe0 jour"}),(0,R.jsx)(a.A,{variant:"body2",children:s.lastUpdate?(0,R.jsxs)(R.Fragment,{children:[p(s.lastUpdate),(0,R.jsx)(T.A,{title:p(s.lastUpdate),children:(0,R.jsx)(a.A,{variant:"caption",display:"block",color:"textSecondary",children:(0,B.m)(new Date(s.lastUpdate),{addSuffix:!0,locale:E.fr})})})]}):"N/A"})]}),s.endTime&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(h.Ay,{item:!0,xs:12,sm:6,children:[(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Fin"}),(0,R.jsxs)(a.A,{variant:"body2",children:[p(s.endTime),(0,R.jsx)(T.A,{title:p(s.endTime),children:(0,R.jsx)(a.A,{variant:"caption",display:"block",color:"textSecondary",children:(0,B.m)(new Date(s.endTime),{addSuffix:!0,locale:E.fr})})})]})]}),(0,R.jsxs)(h.Ay,{item:!0,xs:12,sm:6,children:[(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Dur\xe9e"}),(0,R.jsx)(a.A,{variant:"body2",children:s.startTime&&s.endTime?(e=>{if(!e)return"N/A";const n=Math.floor(e/1e3),s=Math.floor(n/60),r=Math.floor(s/60);return r>0?`${r}h ${s%60}m ${n%60}s`:s>0?`${s}m ${n%60}s`:`${n}s`})(new Date(s.endTime)-new Date(s.startTime)):"N/A"})]})]})]})}),s.error&&(0,R.jsxs)(y.A,{severity:"error",sx:{mt:2},children:[(0,R.jsx)(a.A,{variant:"subtitle2",children:s.error.code?`Erreur (${s.error.code})`:"Erreur"}),(0,R.jsx)(a.A,{variant:"body2",children:s.error.message})]})]}):(0,R.jsxs)(i.A,{display:"flex",flexDirection:"column",alignItems:"center",p:3,children:[(0,R.jsx)(a.A,{variant:"body1",gutterBottom:!0,children:"Aucune synchronisation Strava n'a encore \xe9t\xe9 effectu\xe9e."}),(0,R.jsx)(d.A,{variant:"contained",color:"primary",startIcon:(0,R.jsx)(q.A,{}),onClick:()=>g({daysToSync:30}),disabled:o,sx:{mt:2},children:"Synchroniser maintenant (30 derniers jours)"}),(0,R.jsx)(d.A,{variant:"outlined",color:"primary",onClick:()=>g({fullSync:!0}),disabled:o,sx:{mt:1},children:"Synchronisation compl\xe8te"})]})]})};var H=s(90035),L=s(26600),U=s(35316),O=s(79650),V=s(71806),G=s(84882),J=s(28076),X=s(10039),K=s(73460),Q=s(29347),Y=s(89735),Z=s(33438),ee=s(34642);const ne={initializing:"info",in_progress:"info",completed:"success",error:"error",cancelled:"warning",never_synced:"default"},se={initializing:"Initialisation",in_progress:"En cours",completed:"Termin\xe9e",error:"Erreur",cancelled:"Annul\xe9e",never_synced:"Jamais synchronis\xe9"},re=e=>{var n,s,r,t,o,c,h,x,u,j,A,m,v,p;let{open:b,onClose:g,syncDetails:f}=e;if(!f)return null;const S=e=>{if(!e)return"N/A";return new Date(e).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})};return(0,R.jsxs)(H.A,{open:b,onClose:g,maxWidth:"md",fullWidth:!0,children:[(0,R.jsx)(L.A,{children:(0,R.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,R.jsx)(a.A,{variant:"h6",children:"D\xe9tails de la synchronisation"}),(0,R.jsx)(w.A,{size:"small",onClick:g,children:(0,R.jsx)(Z.A,{})})]})}),(0,R.jsxs)(U.A,{dividers:!0,children:[(0,R.jsxs)(i.A,{mb:3,children:[(0,R.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,children:"Statut"}),(0,R.jsxs)(i.A,{display:"flex",alignItems:"center",mb:1,children:[(0,R.jsx)(k.A,{label:se[f.status]||f.status,color:ne[f.status]||"default",size:"small",sx:{mr:2}}),(0,R.jsx)(a.A,{variant:"body2",children:f.message||"Aucune information disponible"})]})]}),(0,R.jsxs)(i.A,{mb:3,children:[(0,R.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,children:"P\xe9riode de synchronisation"}),(0,R.jsxs)(a.A,{variant:"body2",children:[null!==(n=f.options)&&void 0!==n&&n.startDate?`Du ${S(f.options.startDate)}`:"",null!==(s=f.options)&&void 0!==s&&s.endDate?` au ${S(f.options.endDate)}`:"",null!==(r=f.options)&&void 0!==r&&r.fullSync?"Synchronisation compl\xe8te":"",null!==(t=f.options)&&void 0!==t&&t.daysToSync?`Derniers ${f.options.daysToSync} jours`:"",null!==(o=f.options)&&void 0!==o&&o.startDate||null!==(c=f.options)&&void 0!==c&&c.endDate||null!==(h=f.options)&&void 0!==h&&h.fullSync||null!==(x=f.options)&&void 0!==x&&x.daysToSync?"":"P\xe9riode non sp\xe9cifi\xe9e"]})]}),(0,R.jsxs)(i.A,{mb:3,children:[(0,R.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,children:"Statistiques"}),(0,R.jsx)(O.A,{component:l.A,variant:"outlined",sx:{mb:2},children:(0,R.jsxs)(V.A,{size:"small",children:[(0,R.jsx)(G.A,{children:(0,R.jsxs)(J.A,{children:[(0,R.jsx)(X.A,{children:"Total"}),(0,R.jsx)(X.A,{children:"Trait\xe9es"}),(0,R.jsx)(X.A,{children:"Ajout\xe9es"}),(0,R.jsx)(X.A,{children:"Mises \xe0 jour"}),(0,R.jsx)(X.A,{children:"Ignor\xe9es"}),(0,R.jsx)(X.A,{children:"\xc9checs"})]})}),(0,R.jsx)(K.A,{children:(0,R.jsxs)(J.A,{children:[(0,R.jsx)(X.A,{children:(null===(u=f.stats)||void 0===u?void 0:u.total)||0}),(0,R.jsx)(X.A,{children:(null===(j=f.stats)||void 0===j?void 0:j.processed)||0}),(0,R.jsx)(X.A,{children:(null===(A=f.stats)||void 0===A?void 0:A.added)||0}),(0,R.jsx)(X.A,{children:(null===(m=f.stats)||void 0===m?void 0:m.updated)||0}),(0,R.jsx)(X.A,{children:(null===(v=f.stats)||void 0===v?void 0:v.skipped)||0}),(0,R.jsx)(X.A,{children:(null===(p=f.stats)||void 0===p?void 0:p.failed)||0})]})})]})})]}),(0,R.jsxs)(i.A,{mb:3,children:[(0,R.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,children:"Timing"}),(0,R.jsx)(O.A,{component:l.A,variant:"outlined",children:(0,R.jsx)(V.A,{size:"small",children:(0,R.jsxs)(K.A,{children:[(0,R.jsxs)(J.A,{children:[(0,R.jsx)(X.A,{width:"30%",children:"D\xe9but"}),(0,R.jsx)(X.A,{children:S(f.startTime)})]}),(0,R.jsxs)(J.A,{children:[(0,R.jsx)(X.A,{children:"Derni\xe8re mise \xe0 jour"}),(0,R.jsx)(X.A,{children:S(f.lastUpdate)})]}),(0,R.jsxs)(J.A,{children:[(0,R.jsx)(X.A,{children:"Fin"}),(0,R.jsx)(X.A,{children:S(f.endTime)})]}),(0,R.jsxs)(J.A,{children:[(0,R.jsx)(X.A,{children:"Dur\xe9e"}),(0,R.jsx)(X.A,{children:f.startTime&&f.endTime?(e=>{if(!e)return"N/A";const n=Math.floor(e/1e3),s=Math.floor(n/60),r=Math.floor(s/60);return r>0?`${r}h ${s%60}m ${n%60}s`:s>0?`${s}m ${n%60}s`:`${n}s`})(new Date(f.endTime)-new Date(f.startTime)):"N/A"})]})]})})})]}),f.error&&(0,R.jsxs)(i.A,{children:[(0,R.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,children:"D\xe9tails de l'erreur"}),(0,R.jsxs)(y.A,{severity:"error",children:[(0,R.jsx)(a.A,{variant:"subtitle2",children:f.error.code?`Code: ${f.error.code}`:"Erreur"}),(0,R.jsx)(a.A,{variant:"body2",children:f.error.message}),f.error.details&&(0,R.jsx)(i.A,{mt:1,children:(0,R.jsx)(a.A,{variant:"caption",component:"pre",sx:{whiteSpace:"pre-wrap",overflowX:"auto",maxHeight:"200px",backgroundColor:"rgba(0,0,0,0.03)",p:1,borderRadius:1},children:f.error.details})})]})]})]}),(0,R.jsx)(Q.A,{children:(0,R.jsx)(d.A,{onClick:g,color:"primary",children:"Fermer"})})]})},ie=()=>{const[e,n]=(0,r.useState)([]),[s,t]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null),[d,h]=(0,r.useState)(0),[x,u]=(0,r.useState)(5),[j,A]=(0,r.useState)(null),[m,v]=(0,r.useState)(!1),{enqueueSnackbar:p}=(0,S.dh)(),b=async()=>{try{t(!0);const e=await P.A.get("/api/strava/sync/history",{params:{limit:20}});n(e.data),c(null)}catch(a){var e,s,r,i;c((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Erreur lors de la r\xe9cup\xe9ration de l'historique"),p((null===(r=a.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error)||"\xc9chec de la r\xe9cup\xe9ration de l'historique",{variant:"error"})}finally{t(!1)}};(0,r.useEffect)((()=>{b()}),[]);const g=e=>{switch(e){case"completed":return(0,R.jsx)(I.A,{fontSize:"small"});case"error":return(0,R.jsx)($.A,{fontSize:"small"});case"cancelled":return(0,R.jsx)(ee.A,{fontSize:"small"});case"in_progress":return(0,R.jsx)(D.A,{size:16});default:return(0,R.jsx)(_.A,{fontSize:"small"})}};return s&&0===e.length?(0,R.jsx)(i.A,{display:"flex",justifyContent:"center",alignItems:"center",p:3,children:(0,R.jsx)(D.A,{})}):o&&0===e.length?(0,R.jsx)(y.A,{severity:"error",sx:{mt:2,mb:2},children:o}):0!==e.length||s?(0,R.jsxs)(l.A,{elevation:3,sx:{p:3,mb:3},children:[(0,R.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,R.jsx)(a.A,{variant:"h6",children:"Historique des synchronisations"}),(0,R.jsx)(T.A,{title:"Rafra\xeechir",children:(0,R.jsx)(w.A,{size:"small",onClick:b,disabled:s,children:(0,R.jsx)(q.A,{})})})]}),(0,R.jsx)(O.A,{children:(0,R.jsxs)(V.A,{size:"small",children:[(0,R.jsx)(G.A,{children:(0,R.jsxs)(J.A,{children:[(0,R.jsx)(X.A,{children:"Statut"}),(0,R.jsx)(X.A,{children:"D\xe9but"}),(0,R.jsx)(X.A,{children:"Dur\xe9e"}),(0,R.jsx)(X.A,{children:"Activit\xe9s"}),(0,R.jsx)(X.A,{align:"right",children:"Actions"})]})}),(0,R.jsx)(K.A,{children:s&&0===e.length?(0,R.jsx)(J.A,{children:(0,R.jsx)(X.A,{colSpan:5,align:"center",children:(0,R.jsx)(D.A,{size:24})})}):e.slice(d*x,d*x+x).map((e=>{return(0,R.jsxs)(J.A,{hover:!0,children:[(0,R.jsx)(X.A,{children:(0,R.jsxs)(i.A,{display:"flex",alignItems:"center",children:[(0,R.jsx)(T.A,{title:se[e.status]||e.status,children:(0,R.jsx)(w.A,{size:"small",sx:{mr:1,color:`${ne[e.status]}.main`},children:g(e.status)})}),(0,R.jsx)(a.A,{variant:"body2",noWrap:!0,sx:{maxWidth:150},children:e.message||se[e.status]||e.status})]})}),(0,R.jsx)(X.A,{children:(0,R.jsx)(T.A,{title:new Date(e.startTime).toLocaleString(),children:(0,R.jsx)(a.A,{variant:"body2",children:(n=e.startTime,n?(0,B.m)(new Date(n),{addSuffix:!0,locale:E.fr}):"N/A")})})}),(0,R.jsx)(X.A,{children:e.startTime&&e.endTime?(0,R.jsxs)(a.A,{variant:"body2",children:[Math.round((new Date(e.endTime)-new Date(e.startTime))/1e3),"s"]}):(0,R.jsx)(a.A,{variant:"body2",children:"-"})}),(0,R.jsx)(X.A,{children:(0,R.jsx)(a.A,{variant:"body2",children:e.stats?(0,R.jsxs)(R.Fragment,{children:[e.stats.processed," (",e.stats.added," ajout\xe9es)"]}):"-"})}),(0,R.jsx)(X.A,{align:"right",children:(0,R.jsx)(T.A,{title:"Voir les d\xe9tails",children:(0,R.jsx)(w.A,{size:"small",onClick:()=>(e=>{A(e),v(!0)})(e),children:(0,R.jsx)(_.A,{fontSize:"small"})})})})]},e._id);var n}))})]})}),(0,R.jsx)(Y.A,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:x,page:d,onPageChange:(e,n)=>{h(n)},onRowsPerPageChange:e=>{u(parseInt(e.target.value,10)),h(0)},labelRowsPerPage:"Lignes par page:",labelDisplayedRows:e=>{let{from:n,to:s,count:r}=e;return`${n}-${s} sur ${r}`}}),(0,R.jsx)(re,{open:m,onClose:()=>{v(!1)},syncDetails:j})]}):(0,R.jsx)(y.A,{severity:"info",sx:{mt:2,mb:2},children:"Aucun historique de synchronisation disponible."})};function te(e){const{children:n,value:s,index:r,...t}=e;return(0,R.jsx)("div",{role:"tabpanel",hidden:s!==r,id:`strava-sync-tabpanel-${r}`,"aria-labelledby":`strava-sync-tab-${r}`,...t,children:s===r&&(0,R.jsx)(i.A,{p:3,children:n})})}const ae=()=>{const[e,n]=(0,r.useState)(0),[s,D]=(0,r.useState)(!1),{enqueueSnackbar:T}=(0,S.dh)(),w=()=>{D(!s)};return(0,R.jsxs)(t.A,{maxWidth:"lg",children:[(0,R.jsx)(C.m,{children:(0,R.jsx)("title",{children:"Synchronisation Strava | Grand Est Cyclisme"})}),(0,R.jsxs)(i.A,{my:4,children:[(0,R.jsxs)(a.A,{variant:"h4",component:"h1",gutterBottom:!0,children:[(0,R.jsx)(p.A,{sx:{mr:1,verticalAlign:"middle"}}),"Synchronisation Strava"]}),(0,R.jsx)(a.A,{variant:"subtitle1",color:"textSecondary",paragraph:!0,children:"G\xe9rez la synchronisation de vos activit\xe9s Strava avec notre plateforme pour suivre vos performances."})]}),(0,R.jsx)(l.A,{elevation:1,sx:{mb:4},children:(0,R.jsxs)(o.A,{value:e,onChange:(e,s)=>{n(s)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[(0,R.jsx)(c.A,{icon:(0,R.jsx)(b.A,{}),label:"Synchronisation",id:"strava-sync-tab-0"}),(0,R.jsx)(c.A,{icon:(0,R.jsx)(g.A,{}),label:"Param\xe8tres",id:"strava-sync-tab-1"})]})}),(0,R.jsxs)(te,{value:e,index:0,children:[(0,R.jsx)(W,{onHistoryClick:w}),s&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,R.jsxs)(a.A,{variant:"h6",children:[(0,R.jsx)(f.A,{sx:{mr:1,verticalAlign:"middle"}}),"Historique des synchronisations"]}),(0,R.jsx)(d.A,{variant:"outlined",size:"small",onClick:w,children:"Masquer l'historique"})]}),(0,R.jsx)(ie,{})]}),(0,R.jsxs)(i.A,{mt:4,children:[(0,R.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Options de synchronisation avanc\xe9es"}),(0,R.jsxs)(h.Ay,{container:!0,spacing:3,children:[(0,R.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,R.jsxs)(x.A,{variant:"outlined",children:[(0,R.jsxs)(u.A,{children:[(0,R.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Synchronisation compl\xe8te"}),(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:"R\xe9cup\xe8re toutes vos activit\xe9s Strava, quel que soit leur \xe2ge. Cette op\xe9ration peut prendre un certain temps."})]}),(0,R.jsx)(j.A,{children:(0,R.jsx)(d.A,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{T("Veuillez utiliser le bouton de synchronisation compl\xe8te dans le panneau de statut",{variant:"info"})},children:"Synchroniser tout"})})]})}),(0,R.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,R.jsxs)(x.A,{variant:"outlined",children:[(0,R.jsxs)(u.A,{children:[(0,R.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Derniers 6 mois"}),(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:"R\xe9cup\xe8re uniquement les activit\xe9s des 6 derniers mois. Option recommand\xe9e pour une mise \xe0 jour r\xe9guli\xe8re."})]}),(0,R.jsx)(j.A,{children:(0,R.jsx)(d.A,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{T("Veuillez utiliser le bouton de synchronisation dans le panneau de statut",{variant:"info"})},children:"Synchroniser 6 mois"})})]})}),(0,R.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,R.jsxs)(x.A,{variant:"outlined",children:[(0,R.jsxs)(u.A,{children:[(0,R.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Derniers 30 jours"}),(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:"R\xe9cup\xe8re uniquement les activit\xe9s des 30 derniers jours. Option la plus rapide pour des mises \xe0 jour fr\xe9quentes."})]}),(0,R.jsx)(j.A,{children:(0,R.jsx)(d.A,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{T("Veuillez utiliser le bouton de synchronisation dans le panneau de statut",{variant:"info"})},children:"Synchroniser 30 jours"})})]})})]})]})]}),(0,R.jsxs)(te,{value:e,index:1,children:[(0,R.jsxs)(l.A,{elevation:3,sx:{p:3,mb:3},children:[(0,R.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Param\xe8tres de synchronisation"}),(0,R.jsxs)(i.A,{mb:3,children:[(0,R.jsx)(A.A,{control:(0,R.jsx)(m.A,{color:"primary",checked:!0,onChange:()=>{T("Fonctionnalit\xe9 en cours de d\xe9veloppement",{variant:"info"})}}),label:"Synchronisation automatique quotidienne"}),(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Synchronise automatiquement vos activit\xe9s Strava chaque jour"})]}),(0,R.jsxs)(i.A,{mb:3,children:[(0,R.jsx)(A.A,{control:(0,R.jsx)(m.A,{color:"primary",checked:!0,onChange:()=>{T("Fonctionnalit\xe9 en cours de d\xe9veloppement",{variant:"info"})}}),label:"Synchroniser les nouvelles activit\xe9s en temps r\xe9el"}),(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Synchronise automatiquement les nouvelles activit\xe9s d\xe8s qu'elles sont cr\xe9\xe9es dans Strava"})]}),(0,R.jsxs)(i.A,{mb:3,children:[(0,R.jsx)(A.A,{control:(0,R.jsx)(m.A,{color:"primary",checked:!1,onChange:()=>{T("Fonctionnalit\xe9 en cours de d\xe9veloppement",{variant:"info"})}}),label:"Synchroniser les activit\xe9s priv\xe9es"}),(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Inclut vos activit\xe9s priv\xe9es Strava dans la synchronisation"})]}),(0,R.jsx)(v.A,{sx:{my:3}}),(0,R.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Notifications"}),(0,R.jsxs)(i.A,{mb:3,children:[(0,R.jsx)(A.A,{control:(0,R.jsx)(m.A,{color:"primary",checked:!0,onChange:()=>{T("Fonctionnalit\xe9 en cours de d\xe9veloppement",{variant:"info"})}}),label:"Notifications par email"}),(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Recevez un email lorsqu'une synchronisation est termin\xe9e ou a \xe9chou\xe9"})]}),(0,R.jsxs)(i.A,{mb:3,children:[(0,R.jsx)(A.A,{control:(0,R.jsx)(m.A,{color:"primary",checked:!0,onChange:()=>{T("Fonctionnalit\xe9 en cours de d\xe9veloppement",{variant:"info"})}}),label:"Notifications dans l'application"}),(0,R.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Recevez des notifications dans l'application concernant les synchronisations"})]})]}),(0,R.jsx)(y.A,{severity:"info",sx:{mt:2},children:"Les param\xe8tres de synchronisation sont en cours de d\xe9veloppement. Certaines fonctionnalit\xe9s peuvent ne pas \xeatre encore disponibles."})]})]})}}}]);
//# sourceMappingURL=2962.52b8131f.chunk.js.map