"use strict";(self.webpackChunkgrand_est_cyclisme_client=self.webpackChunkgrand_est_cyclisme_client||[]).push([[5204],{15510:(e,t,i)=>{i.d(t,{A:()=>a});const a=new class{async getUserNutritionData(e){try{if(!e)throw new Error("ID utilisateur requis");return new Promise((e=>{setTimeout((()=>{e({dailyIntake:{calories:2800,carbs:350,protein:120,fat:80,hydration:3.5},metrics:{weight:75,height:180,bodyFat:12,basalMetabolicRate:1700},goals:{type:"performance",weeklyCalories:19600,calorieSurplusOnRideDays:800,calorieDeficitOnRestDays:200},mealPlans:[{id:"mp001",name:"Plan Haute Intensit\xe9",type:"ride-day",meals:[{type:"breakfast",items:[{name:"Flocons d'avoine",quantity:"100g",calories:370,carbs:65,protein:10,fat:7},{name:"Banane",quantity:"1",calories:105,carbs:27,protein:1,fat:0},{name:"Lait d'amande",quantity:"250ml",calories:35,carbs:1,protein:1,fat:3},{name:"Miel",quantity:"15g",calories:45,carbs:12,protein:0,fat:0}]},{type:"pre-ride",items:[{name:"Pain complet",quantity:"2 tranches",calories:160,carbs:30,protein:8,fat:2},{name:"Beurre d'amande",quantity:"30g",calories:190,carbs:6,protein:7,fat:16},{name:"Banane",quantity:"1",calories:105,carbs:27,protein:1,fat:0}]},{type:"during-ride",items:[{name:"Barre \xe9nerg\xe9tique",quantity:"2",calories:440,carbs:64,protein:10,fat:16},{name:"Gel \xe9nerg\xe9tique",quantity:"2",calories:200,carbs:50,protein:0,fat:0},{name:"Boisson \xe9lectrolytes",quantity:"750ml",calories:150,carbs:38,protein:0,fat:0}]},{type:"post-ride",items:[{name:"Boisson prot\xe9in\xe9e",quantity:"500ml",calories:280,carbs:30,protein:25,fat:8},{name:"Banane",quantity:"1",calories:105,carbs:27,protein:1,fat:0}]},{type:"dinner",items:[{name:"Poulet grill\xe9",quantity:"200g",calories:330,carbs:0,protein:62,fat:10},{name:"Riz brun",quantity:"150g",calories:160,carbs:35,protein:3,fat:1},{name:"L\xe9gumes vari\xe9s",quantity:"200g",calories:70,carbs:12,protein:4,fat:1},{name:"Huile d'olive",quantity:"15ml",calories:120,carbs:0,protein:0,fat:14}]}]},{id:"mp002",name:"Plan R\xe9cup\xe9ration",type:"recovery-day",meals:[{type:"breakfast",items:[{name:"\u0152ufs",quantity:"3",calories:215,carbs:1,protein:18,fat:15},{name:"Pain complet",quantity:"1 tranche",calories:80,carbs:15,protein:4,fat:1},{name:"Avocat",quantity:"1/2",calories:160,carbs:8,protein:2,fat:15}]},{type:"lunch",items:[{name:"Salade de quinoa",quantity:"200g",calories:280,carbs:40,protein:12,fat:8},{name:"Saumon",quantity:"125g",calories:240,carbs:0,protein:36,fat:12},{name:"L\xe9gumes vari\xe9s",quantity:"150g",calories:50,carbs:9,protein:3,fat:1}]},{type:"snack",items:[{name:"Yaourt grec",quantity:"150g",calories:135,carbs:5,protein:12,fat:8},{name:"Baies",quantity:"50g",calories:30,carbs:7,protein:1,fat:0},{name:"Noix",quantity:"30g",calories:190,carbs:4,protein:6,fat:18}]},{type:"dinner",items:[{name:"Poulet r\xf4ti",quantity:"150g",calories:250,carbs:0,protein:47,fat:7},{name:"Patate douce",quantity:"150g",calories:130,carbs:30,protein:2,fat:0},{name:"L\xe9gumes verts",quantity:"200g",calories:70,carbs:12,protein:4,fat:1}]}]}],recommendations:[{id:"rec001",type:"pre-ride",title:"Avant l'effort",description:"Consommez 1-4g de glucides par kg de poids corporel 1-4 heures avant l'effort pour optimiser les r\xe9serves de glycog\xe8ne.",foods:["Flocons d'avoine","Banane","Pain complet","Miel","Riz"]},{id:"rec002",type:"during-ride",title:"Pendant l'effort",description:"Pour les efforts > 90 minutes, consommez 30-60g de glucides par heure pour maintenir la glyc\xe9mie.",foods:["Barres \xe9nerg\xe9tiques","Gels","Boissons sportives","Bananes"]},{id:"rec003",type:"post-ride",title:"Apr\xe8s l'effort",description:"Consommez des prot\xe9ines (20-25g) et des glucides (1g/kg) dans les 30-60 minutes apr\xe8s l'effort pour optimiser la r\xe9cup\xe9ration.",foods:["Boisson prot\xe9in\xe9e","Yaourt grec","\u0152ufs","Smoothie r\xe9cup\xe9ration"]},{id:"rec004",type:"hydration",title:"Hydratation",description:"Buvez 500-750ml par heure d'effort selon les conditions climatiques et votre taux de transpiration.",foods:["Eau","Boissons \xe9lectrolytes","Boissons isotoniques"]}],activityLog:[{date:"2024-04-01",calories:{consumed:2950,burned:3200,balance:-250},nutrients:{carbs:370,protein:130,fat:85},hydration:3.8,notes:"Sortie longue, bonne gestion de la nutrition pendant l'effort"},{date:"2024-04-02",calories:{consumed:2600,burned:2400,balance:200},nutrients:{carbs:320,protein:135,fat:75},hydration:3.2,notes:"Jour de r\xe9cup\xe9ration, focus sur les prot\xe9ines"}]})}),800)}))}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es de nutrition:",t),t}}async logMeal(e,t){try{if(!e)throw new Error("ID utilisateur requis");if(!t||!t.type||!t.items||!Array.isArray(t.items))throw new Error("Donn\xe9es de repas invalides");return new Promise((e=>{setTimeout((()=>{e({success:!0,message:"Repas enregistr\xe9 avec succ\xe8s",mealId:`meal-${Date.now()}`})}),500)}))}catch(i){throw console.error("Erreur lors de l'enregistrement du repas:",i),i}}async getMealPlans(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(!e)throw new Error("ID utilisateur requis");return new Promise((e=>{setTimeout((()=>{const i={mealPlans:[{id:"mp001",name:"Plan Haute Intensit\xe9",type:"ride-day",totalCalories:2500,macros:{carbs:65,protein:20,fat:15}},{id:"mp002",name:"Plan R\xe9cup\xe9ration",type:"recovery-day",totalCalories:2100,macros:{carbs:45,protein:30,fat:25}},{id:"mp003",name:"Plan Sortie Longue",type:"ride-day",totalCalories:3200,macros:{carbs:70,protein:15,fat:15}}]},a=t?i.mealPlans.filter((e=>e.type===t)):i.mealPlans;e(a)}),600)}))}catch(i){throw console.error("Erreur lors de la r\xe9cup\xe9ration des plans de repas:",i),i}}async calculateNutrition(e,t){try{if(!e||!e.weight||!e.height||!e.age||!e.gender)throw new Error("Donn\xe9es utilisateur incompl\xe8tes");if(!t||!t.activityLevel||!t.goals)throw new Error("Donn\xe9es d'activit\xe9 incompl\xe8tes");return new Promise((i=>{setTimeout((()=>{let a;a="male"===e.gender?10*e.weight+6.25*e.height-5*e.age+5:10*e.weight+6.25*e.height-5*e.age-161;const n={sedentary:1.2,lightlyActive:1.375,moderatelyActive:1.55,veryActive:1.725,extremelyActive:1.9}[t.activityLevel]||1.55,r=Math.round(a*n);let s,o;switch(t.goals){case"weightLoss":s=Math.round(.85*r);break;case"performance":s=Math.round(1.1*r);break;default:s=r}switch(t.goals){case"weightLoss":o={carbs:40,protein:35,fat:25};break;case"performance":o={carbs:60,protein:20,fat:20};break;default:o={carbs:50,protein:25,fat:25}}const l=Math.round(s*(o.carbs/100)/4),u=Math.round(s*(o.protein/100)/4),c=Math.round(s*(o.fat/100)/9),m=4*l+4*u+9*c;let d=l;Math.abs(m-s)>50&&(d=l+Math.round((s-m)/4));const p=Math.round(.035*e.weight*100)/100;let g=0;t.trainingDuration&&(g=Math.round(t.trainingDuration/60*.75*100)/100),i({dailyCalories:s,macronutrients:{carbs:{percentage:o.carbs,grams:d},protein:{percentage:o.protein,grams:u},fat:{percentage:o.fat,grams:c}},hydration:{base:p,training:g,total:Math.round(100*(p+g))/100},bmr:Math.round(a),tdee:r})}),700)}))}catch(i){throw console.error("Erreur lors du calcul des besoins nutritionnels:",i),i}}async getRecipes(){return new Promise((e=>{setTimeout((()=>{e(this.getMockRecipes())}),500)}))}async getUserFavoriteRecipes(e){return new Promise((e=>{const t=["recipe-1","recipe-4","recipe-7"];setTimeout((()=>{const i=this.getMockRecipes().filter((e=>t.includes(e.id)));e(i)}),300)}))}async addToFavorites(e,t){return new Promise((i=>{setTimeout((()=>{console.log(`Recette ${t} ajout\xe9e aux favoris de l'utilisateur ${e}`),i({success:!0})}),300)}))}async removeFromFavorites(e,t){return new Promise((i=>{setTimeout((()=>{console.log(`Recette ${t} retir\xe9e des favoris de l'utilisateur ${e}`),i({success:!0})}),300)}))}getMockRecipes(){return[{id:"recipe-1",name:"Porridge \xe9nerg\xe9tique aux fruits",description:"Un petit-d\xe9jeuner riche en glucides complexes pour pr\xe9parer votre organisme \xe0 l'effort. Id\xe9al avant une sortie matinale.",image:"https://images.unsplash.com/photo-1565299999261-751e7b18aaa5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",prepTimeMinutes:10,difficulty:"easy",mealType:"breakfast",dietaryTags:["vegetarian","high-carb"],ingredients:[{name:"Flocons d'avoine",quantity:"60g"},{name:"Lait ou boisson v\xe9g\xe9tale",quantity:"250ml"},{name:"Banane",quantity:"1"},{name:"Fruits rouges",quantity:"100g"},{name:"Miel",quantity:"1 cuill\xe8re \xe0 soupe"},{name:"Graines de chia",quantity:"1 cuill\xe8re \xe0 soupe"}],instructions:["Dans une casserole, m\xe9langez les flocons d'avoine et le lait.","Faites chauffer \xe0 feu moyen en remuant r\xe9guli\xe8rement jusqu'\xe0 \xe9paississement.","Pendant ce temps, coupez la banane en rondelles.","Une fois le porridge cuit, ajoutez la banane, les fruits rouges, le miel et les graines de chia.","M\xe9langez et servez chaud."],nutrition:{calories:450,carbs:80,protein:12,fat:8},cyclingNotes:"Consommez ce porridge 2-3h avant une sortie longue. Les glucides complexes des flocons d'avoine lib\xe8rent progressivement de l'\xe9nergie et vous \xe9viteront les coups de pompe."},{id:"recipe-2",name:"Barres \xe9nerg\xe9tiques maison",description:"Des barres faciles \xe0 transporter et \xe0 consommer pendant l'effort, id\xe9ales pour les sorties longues.",image:"https://images.unsplash.com/photo-1490567674076-8bd264180bf6?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",prepTimeMinutes:25,difficulty:"medium",mealType:"during-ride",dietaryTags:["vegetarian","high-carb"],ingredients:[{name:"Flocons d'avoine",quantity:"150g"},{name:"Miel",quantity:"80g"},{name:"Beurre de cacahu\xe8te",quantity:"50g"},{name:"Dattes d\xe9noyaut\xe9es",quantity:"100g"},{name:"Bananes m\xfbres",quantity:"2"},{name:"P\xe9pites de chocolat noir",quantity:"50g"}],instructions:["Pr\xe9chauffez le four \xe0 180\xb0C.","Mixez les dattes avec les bananes jusqu'\xe0 obtenir une pur\xe9e homog\xe8ne.","Dans un grand bol, m\xe9langez les flocons d'avoine, le miel et le beurre de cacahu\xe8te.","Ajoutez la pur\xe9e de dattes et bananes, puis les p\xe9pites de chocolat. M\xe9langez bien.","\xc9talez le m\xe9lange dans un moule carr\xe9 tapiss\xe9 de papier cuisson en tassant bien.","Enfournez pour 15 minutes jusqu'\xe0 ce que les bords soient dor\xe9s.","Laissez refroidir compl\xe8tement puis d\xe9coupez en barres."],nutrition:{calories:180,carbs:30,protein:5,fat:6},cyclingNotes:"Emballez chaque barre individuellement dans du papier sulfuris\xe9 pour les transporter facilement. Consommez une barre toutes les 45-60 minutes pendant l'effort pour maintenir votre niveau d'\xe9nergie."},{id:"recipe-3",name:"Shake de r\xe9cup\xe9ration prot\xe9in\xe9",description:"Un shake complet pour optimiser votre r\xe9cup\xe9ration musculaire apr\xe8s l'effort.",image:"https://images.unsplash.com/photo-1553530666-ba11a90bb110?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",prepTimeMinutes:5,difficulty:"easy",mealType:"post-ride",dietaryTags:["high-protein"],ingredients:[{name:"Lait ou boisson v\xe9g\xe9tale",quantity:"250ml"},{name:"Poudre de prot\xe9ine whey ou v\xe9g\xe9tale",quantity:"30g (1 mesure)"},{name:"Banane",quantity:"1"},{name:"Flocons d'avoine",quantity:"20g"},{name:"Miel",quantity:"1 cuill\xe8re \xe0 caf\xe9"},{name:"Gla\xe7ons",quantity:"4-5"}],instructions:["Placez tous les ingr\xe9dients dans un blender.","Mixez \xe0 haute vitesse jusqu'\xe0 obtenir une texture homog\xe8ne.","Servez imm\xe9diatement."],nutrition:{calories:350,carbs:40,protein:30,fat:5},cyclingNotes:"Consommez ce shake dans les 30 minutes suivant votre effort pour maximiser la r\xe9cup\xe9ration musculaire. Le ratio prot\xe9ines/glucides id\xe9al favorise la reconstruction musculaire et la reconstitution des r\xe9serves de glycog\xe8ne."},{id:"recipe-4",name:"Bowl de quinoa au saumon",description:"Un repas complet riche en prot\xe9ines, glucides complexes et acides gras essentiels.",image:"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",prepTimeMinutes:30,difficulty:"medium",mealType:"lunch",dietaryTags:["high-protein","gluten-free"],ingredients:[{name:"Quinoa",quantity:"150g"},{name:"Filet de saumon",quantity:"150g"},{name:"Avocat",quantity:"1/2"},{name:"Concombre",quantity:"1/2"},{name:"Tomates cerises",quantity:"10"},{name:"Jus de citron",quantity:"1 cuill\xe8re \xe0 soupe"},{name:"Huile d'olive",quantity:"1 cuill\xe8re \xe0 soupe"},{name:"Graines de s\xe9same",quantity:"1 cuill\xe8re \xe0 caf\xe9"}],instructions:["Rincez le quinoa puis cuisez-le selon les instructions du paquet (g\xe9n\xe9ralement 15 minutes dans 2 fois son volume d'eau).","Pendant ce temps, faites cuire le filet de saumon \xe0 la po\xeale 3-4 minutes de chaque c\xf4t\xe9.","Coupez l'avocat et le concombre en d\xe9s, et les tomates cerises en deux.","Dans un bol, disposez le quinoa, puis ajoutez le saumon \xe9miett\xe9 et les l\xe9gumes.","Arrosez de jus de citron et d'huile d'olive, puis saupoudrez de graines de s\xe9same."],nutrition:{calories:550,carbs:50,protein:35,fat:25},cyclingNotes:"Ce plat \xe9quilibr\xe9 est id\xe9al pour un d\xe9jeuner avant une sortie l'apr\xe8s-midi, ou pour reconstituer vos r\xe9serves apr\xe8s un entra\xeenement matinal. Les acides gras om\xe9ga-3 du saumon contribuent \xe0 r\xe9duire l'inflammation musculaire."},{id:"recipe-5",name:"P\xe2tes compl\xe8tes au poulet et l\xe9gumes",description:"Un plat classique riche en glucides et prot\xe9ines pour les cyclistes.",image:"https://images.unsplash.com/photo-1473093295043-cdd812d0e601?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",prepTimeMinutes:25,difficulty:"easy",mealType:"dinner",dietaryTags:["high-carb","high-protein"],ingredients:[{name:"P\xe2tes compl\xe8tes",quantity:"150g"},{name:"Blanc de poulet",quantity:"150g"},{name:"Courgette",quantity:"1"},{name:"Poivron rouge",quantity:"1"},{name:"Tomates cerises",quantity:"10"},{name:"Ail",quantity:"2 gousses"},{name:"Huile d'olive",quantity:"2 cuill\xe8res \xe0 soupe"},{name:"Parmesan r\xe2p\xe9",quantity:"20g"},{name:"Basilic frais",quantity:"quelques feuilles"}],instructions:["Faites cuire les p\xe2tes al dente selon les instructions du paquet.","Pendant ce temps, coupez le poulet en d\xe9s et faites-le revenir dans une po\xeale avec 1 cuill\xe8re \xe0 soupe d'huile d'olive, jusqu'\xe0 ce qu'il soit bien cuit.","\xc9mincez l'ail et coupez les l\xe9gumes en d\xe9s.","Dans une grande po\xeale, faites revenir l'ail dans le reste d'huile d'olive, puis ajoutez les l\xe9gumes. Faites-les sauter 5-7 minutes.","Ajoutez le poulet aux l\xe9gumes, puis incorporez les p\xe2tes \xe9goutt\xe9es. M\xe9langez bien.","Servez avec le parmesan r\xe2p\xe9 et des feuilles de basilic."],nutrition:{calories:650,carbs:80,protein:40,fat:18},cyclingNotes:"Ce plat est parfait pour la veille d'une sortie longue ou intense. Les p\xe2tes compl\xe8tes fournissent des glucides \xe0 lib\xe9ration lente qui maximiseront vos r\xe9serves de glycog\xe8ne."},{id:"recipe-6",name:"Smoothie pr\xe9-entra\xeenement aux fruits",description:"Une boisson rafra\xeechissante et \xe9nergisante pour pr\xe9parer votre corps \xe0 l'effort.",image:"https://images.unsplash.com/photo-1502741224143-90386d7f8c82?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",prepTimeMinutes:5,difficulty:"easy",mealType:"pre-ride",dietaryTags:["vegetarian","vegan","high-carb"],ingredients:[{name:"Banane",quantity:"1"},{name:"Fruits rouges surgel\xe9s",quantity:"100g"},{name:"Jus d'orange",quantity:"150ml"},{name:"Eau de coco",quantity:"100ml"},{name:"Miel",quantity:"1 cuill\xe8re \xe0 caf\xe9"},{name:"Gingembre frais r\xe2p\xe9",quantity:"1 pinc\xe9e"}],instructions:["Placez tous les ingr\xe9dients dans un blender.","Mixez \xe0 haute vitesse jusqu'\xe0 obtenir une texture homog\xe8ne.","Servez imm\xe9diatement ou conservez au frais jusqu'\xe0 2 heures."],nutrition:{calories:240,carbs:55,protein:3,fat:1},cyclingNotes:"Consommez ce smoothie 30-60 minutes avant une sortie pour un boost d'\xe9nergie imm\xe9diat. L'eau de coco apporte des \xe9lectrolytes naturels qui aideront \xe0 pr\xe9venir la d\xe9shydratation."},{id:"recipe-7",name:"Omelette aux l\xe9gumes et patates douces",description:"Un petit-d\xe9jeuner prot\xe9in\xe9 et \xe9nerg\xe9tique pour bien d\xe9marrer la journ\xe9e.",image:"https://images.unsplash.com/photo-1510693206972-df098062cb71?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",prepTimeMinutes:20,difficulty:"medium",mealType:"breakfast",dietaryTags:["high-protein","gluten-free"],ingredients:[{name:"\u0152ufs",quantity:"3"},{name:"Patate douce",quantity:"1 petite"},{name:"Poivron",quantity:"1/2"},{name:"Oignon rouge",quantity:"1/4"},{name:"\xc9pinards frais",quantity:"30g"},{name:"Fromage de ch\xe8vre",quantity:"30g"},{name:"Huile d'olive",quantity:"1 cuill\xe8re \xe0 soupe"},{name:"Sel et poivre",quantity:"\xe0 votre go\xfbt"}],instructions:["\xc9pluchez et coupez la patate douce en petits cubes. Faites-les cuire \xe0 la vapeur pendant 8-10 minutes jusqu'\xe0 ce qu'ils soient tendres.","\xc9mincez l'oignon et le poivron, hachez les \xe9pinards.","Dans une po\xeale, faites chauffer l'huile et faites revenir l'oignon et le poivron pendant 3-4 minutes.","Ajoutez les cubes de patate douce et faites-les dorer l\xe9g\xe8rement.","Battez les \u0153ufs dans un bol, assaisonnez avec du sel et du poivre.","Versez les \u0153ufs battus dans la po\xeale, ajoutez les \xe9pinards et laissez cuire \xe0 feu moyen.","\xc9miettez le fromage de ch\xe8vre sur l'omelette.","Lorsque les \u0153ufs sont presque cuits, pliez l'omelette en deux et servez."],nutrition:{calories:420,carbs:30,protein:25,fat:22},cyclingNotes:"Cette omelette fournit un excellent \xe9quilibre de prot\xe9ines et de glucides complexes, id\xe9al pour un petit-d\xe9jeuner avant un entra\xeenement matinal. Les patates douces apportent des glucides \xe0 lib\xe9ration lente qui vous soutiendront pendant plusieurs heures."},{id:"recipe-8",name:"Riz au poulet et l\xe9gumes pour bidon",description:"Une recette sp\xe9ciale \xe0 emporter dans votre bidon pour les sorties de plus de 3 heures.",image:"https://images.unsplash.com/photo-1536304993881-ff6e9eefa2a6?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",prepTimeMinutes:15,difficulty:"easy",mealType:"during-ride",dietaryTags:["high-carb"],ingredients:[{name:"Riz blanc cuit",quantity:"100g"},{name:"Poulet \xe9minc\xe9 cuit",quantity:"50g"},{name:"Carottes r\xe2p\xe9es",quantity:"50g"},{name:"Sel",quantity:"1/4 cuill\xe8re \xe0 caf\xe9"},{name:"Miel",quantity:"1 cuill\xe8re \xe0 soupe"},{name:"Eau",quantity:"150ml"}],instructions:["M\xe9langez tous les ingr\xe9dients solides dans un bol.","Ajoutez l'eau et le miel, puis mixez jusqu'\xe0 obtenir une consistance fluide adapt\xe9e au bidon.","Versez dans un bidon propre et stockez au frais jusqu'au d\xe9part."],nutrition:{calories:300,carbs:50,protein:15,fat:3},cyclingNotes:"Cette pr\xe9paration semblable \xe0 une bouillie est parfaite pour les sorties longues. Elle fournit \xe0 la fois des glucides rapides et des prot\xe9ines l\xe9g\xe8res. Consommez par petites gorg\xe9es r\xe9guli\xe8rement apr\xe8s la premi\xe8re heure d'effort, en alternant avec de l'eau."}]}}},55178:(e,t,i)=>{i.d(t,{f$:()=>d,jc:()=>m});var a=i(65043),n=i(96446),r=i(88312),s=i(10611),o=i(63336),l=i(85865),u=i(28267),c=i(70579);const m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{moduleName:i="Composant",minDelay:n=300,skeletonType:r="content",skeletonHeight:s=400}=t,o=()=>Promise.all([e(),new Promise((e=>setTimeout(e,n)))]).then((e=>{let[t]=e;return t})),l=(0,a.lazy)(o);return e=>(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(d,{type:r,name:i,height:s}),children:(0,c.jsx)(l,{...e})})},d=e=>{let{type:t="content",name:i="Contenu",height:a=400}=e;const m={width:"100%",height:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden"},d={"@keyframes ride":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(100%)"}},animation:"ride 4s infinite linear",position:"absolute",bottom:"20%",fontSize:40,color:"primary.main"};switch(t){case"text":return(0,c.jsxs)(n.A,{sx:{width:"100%",p:2},children:[(0,c.jsx)(r.A,{animation:"wave",height:40,width:"70%"}),(0,c.jsx)(r.A,{animation:"wave",height:20,width:"90%"}),(0,c.jsx)(r.A,{animation:"wave",height:20,width:"85%"}),(0,c.jsx)(r.A,{animation:"wave",height:20,width:"80%"}),(0,c.jsx)(s.A,{color:"primary",sx:{mt:1}})]});case"card":return(0,c.jsxs)(o.A,{elevation:2,sx:{p:2,width:"100%"},children:[(0,c.jsx)(r.A,{animation:"wave",variant:"rectangular",height:140,width:"100%"}),(0,c.jsx)(r.A,{animation:"wave",height:40,width:"60%",sx:{mt:2}}),(0,c.jsx)(r.A,{animation:"wave",height:20,width:"90%"}),(0,c.jsx)(r.A,{animation:"wave",height:20,width:"85%"}),(0,c.jsx)(r.A,{animation:"wave",height:36,width:"30%",sx:{mt:1}}),(0,c.jsx)(s.A,{color:"primary",sx:{mt:2}})]});case"complex":return(0,c.jsxs)(n.A,{sx:{width:"100%"},children:[(0,c.jsxs)(n.A,{sx:{mb:2},children:[(0,c.jsx)(r.A,{animation:"wave",height:40,width:"50%"}),(0,c.jsx)(s.A,{color:"primary",sx:{mt:1}})]}),(0,c.jsx)(Grid,{container:!0,spacing:2,children:[1,2,3,4].map((e=>(0,c.jsx)(Grid,{item:!0,xs:12,sm:6,md:3,children:(0,c.jsxs)(o.A,{elevation:1,sx:{p:2},children:[(0,c.jsx)(r.A,{animation:"wave",variant:"rectangular",height:120}),(0,c.jsx)(r.A,{animation:"wave",height:30,width:"80%",sx:{mt:1}}),(0,c.jsx)(r.A,{animation:"wave",height:20,width:"90%"})]})},e)))})]});default:return(0,c.jsxs)(n.A,{sx:m,children:[(0,c.jsxs)(n.A,{sx:{borderRadius:2,backgroundColor:"background.paper",p:3,textAlign:"center",maxWidth:400,zIndex:1},children:[(0,c.jsxs)(l.A,{variant:"h6",color:"primary",gutterBottom:!0,children:["Chargement du module ",i]}),(0,c.jsx)(s.A,{color:"primary",sx:{mb:2,mt:1}}),(0,c.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"Pr\xe9paration des donn\xe9es en cours..."})]}),(0,c.jsx)(n.A,{sx:d,children:(0,c.jsx)(u.A,{fontSize:"inherit",color:"inherit"})})]})}}},65204:(e,t,i)=>{i.r(t),i.d(t,{default:()=>q});var a=i(65043),n=i(19252),r=i(14194),s=i(96446),o=i(81637),l=i(85865),u=i(63336),c=i(42518),m=i(8939),d=i(24056),p=i(40794),g=i(17392),h=i(8729),f=i(15510),y=i(55178),b=i(47805),v=i(33438),x=i(70579);const q=()=>{var e,t,q,j;const{user:w}=(0,h.As)(),[z,A]=(0,a.useState)(!0),[P,C]=(0,a.useState)(null),[T,k]=(0,a.useState)(null),[M,D]=(0,a.useState)(0),[B,S]=(0,a.useState)(null),[R,N]=(0,a.useState)(null),E=(0,y.jc)((()=>Promise.all([i.e(461),i.e(6025)]).then(i.bind(i,56025))),{moduleName:"Tableau de bord nutritionnel",skeletonType:"complex"}),L=(0,y.jc)((()=>Promise.all([i.e(9285),i.e(2275),i.e(7784),i.e(9070),i.e(4873)]).then(i.bind(i,14873))),{moduleName:"Calculateur nutritionnel",skeletonType:"content"}),F=(0,y.jc)((()=>Promise.all([i.e(3845),i.e(5109)]).then(i.bind(i,65109))),{moduleName:"Recommandations nutritionnelles",skeletonType:"card"}),I=(0,y.jc)((()=>Promise.all([i.e(3845),i.e(9285),i.e(7784),i.e(4909),i.e(3628),i.e(6377),i.e(6605),i.e(5918),i.e(3759)]).then(i.bind(i,73759))),{moduleName:"Planificateur de repas",skeletonType:"complex",minDelay:500}),U=(0,y.jc)((()=>Promise.all([i.e(3845),i.e(9285),i.e(7784),i.e(8483),i.e(4909),i.e(3628),i.e(6377),i.e(2139),i.e(5918),i.e(2459)]).then(i.bind(i,32459))),{moduleName:"Explorateur de recettes",skeletonType:"complex"}),$=(0,a.useCallback)((async()=>{if(!w||!w.id)return C("Vous devez \xeatre connect\xe9 pour acc\xe9der \xe0 cette page."),void A(!1);try{A(!0),C(null);const e=setTimeout((()=>{C("La requ\xeate a pris trop de temps. Veuillez r\xe9essayer."),A(!1)}),8e3),t=await f.A.getUserNutritionData(w.id);if(clearTimeout(e),!t)throw new Error("Aucune donn\xe9e nutritionnelle disponible.");H(t)||S({severity:"warning",message:"Certaines donn\xe9es de votre profil sont incompl\xe8tes. Compl\xe9tez votre profil pour des recommandations plus pr\xe9cises."}),k(t)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es nutritionnelles:",e),C("Impossible de charger vos donn\xe9es nutritionnelles. Veuillez r\xe9essayer plus tard.")}finally{A(!1)}}),[w]),H=e=>{if(!e)return!1;const t=e.metrics&&e.metrics.weight&&e.metrics.height&&e.metrics.age,i=e.goals&&e.goals.type,a=e.metrics&&e.metrics.activityLevel;return t&&i&&a};(0,a.useEffect)((()=>($(),()=>{R&&clearTimeout(R)})),[$]);const G=()=>{S(null)},O=()=>{$()};return w?z?(0,x.jsx)(n.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:(0,x.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",my:4},children:[(0,x.jsx)(o.A,{sx:{mb:2}}),(0,x.jsx)(l.A,{children:"Chargement de vos donn\xe9es nutritionnelles..."})]})}):(0,x.jsxs)(n.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,x.jsxs)(u.A,{elevation:3,sx:{p:3,mb:3},children:[(0,x.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsx)(l.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Nutrition"}),(0,x.jsx)(c.A,{variant:"outlined",startIcon:(0,x.jsx)(b.A,{}),onClick:O,children:"Actualiser"})]}),(0,x.jsx)(l.A,{variant:"body1",children:"Optimisez votre alimentation pour am\xe9liorer vos performances cyclistes et votre r\xe9cup\xe9ration."})]}),P&&(0,x.jsx)(r.A,{severity:"error",sx:{mb:3},action:(0,x.jsx)(c.A,{color:"inherit",size:"small",onClick:O,children:"R\xe9essayer"}),children:P}),(0,x.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,x.jsxs)(m.A,{value:M,onChange:(e,t)=>{D(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary",children:[(0,x.jsx)(d.A,{label:"Tableau de bord"}),(0,x.jsx)(d.A,{label:"Calculateur nutritionnel"}),(0,x.jsx)(d.A,{label:"Recommandations"}),(0,x.jsx)(d.A,{label:"Planificateur de repas"}),(0,x.jsx)(d.A,{label:"Explorateur de recettes"})]})}),(0,x.jsxs)(s.A,{sx:{mt:2},children:[0===M&&(0,x.jsx)(a.Suspense,{fallback:(0,x.jsx)(y.f$,{moduleName:"Tableau de bord nutritionnel"}),children:(0,x.jsx)(E,{nutritionData:T,userId:w.id,onRefresh:O})}),1===M&&(0,x.jsx)(a.Suspense,{fallback:(0,x.jsx)(y.f$,{moduleName:"Calculateur nutritionnel"}),children:(0,x.jsx)(L,{userId:w.id,nutritionData:T,onCalculationComplete:e=>{k((t=>({...t,calculations:e}))),S({severity:"success",message:"Calculs nutritionnels mis \xe0 jour avec succ\xe8s !"})}})}),2===M&&(0,x.jsx)(a.Suspense,{fallback:(0,x.jsx)(y.f$,{moduleName:"Recommandations nutritionnelles"}),children:(0,x.jsx)(F,{userId:w.id,nutritionData:T})}),3===M&&(0,x.jsx)(a.Suspense,{fallback:(0,x.jsx)(y.f$,{moduleName:"Planificateur de repas"}),children:(0,x.jsx)(I,{nutritionData:T,userId:w.id})}),4===M&&(0,x.jsx)(a.Suspense,{fallback:(0,x.jsx)(y.f$,{moduleName:"Explorateur de recettes"}),children:(0,x.jsx)(U,{userProfile:T?{goal:(null===(e=T.goals)||void 0===e?void 0:e.type)||"performance",dietaryRestrictions:(null===(t=T.preferences)||void 0===t?void 0:t.dietaryRestrictions)||[],weight:null===(q=T.metrics)||void 0===q?void 0:q.weight,preferences:(null===(j=T.preferences)||void 0===j?void 0:j.favoriteRecipes)||[]}:null})})]}),(0,x.jsx)(p.A,{open:null!==B,autoHideDuration:6e3,onClose:G,message:null===B||void 0===B?void 0:B.message,action:(0,x.jsx)(g.A,{size:"small",color:"inherit",onClick:G,children:(0,x.jsx)(v.A,{fontSize:"small"})}),anchorOrigin:{vertical:"bottom",horizontal:"center"},ContentProps:{sx:{backgroundColor:"success"===(null===B||void 0===B?void 0:B.severity)?"success.main":"warning"===(null===B||void 0===B?void 0:B.severity)?"warning.main":"error"===(null===B||void 0===B?void 0:B.severity)?"error.main":"info.main"}}})]}):(0,x.jsx)(n.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:(0,x.jsx)(r.A,{severity:"error",children:"Vous devez \xeatre connect\xe9 pour acc\xe9der \xe0 cette page."})})}}}]);
//# sourceMappingURL=5204.34f71682.chunk.js.map