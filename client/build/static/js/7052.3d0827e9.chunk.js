"use strict";(self.webpackChunkgrand_est_cyclisme_client=self.webpackChunkgrand_est_cyclisme_client||[]).push([[7052],{47052:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Pe});var n=i(65043),r=i(74117),a=i(43845),s=i(96446),o=i(85865),l=i(81637),c=i(63336),d=i(68903),u=i(15078),y=i(84511),p=i(99070),m=i(53193),h=i(79190),x=i(69285),v=i(32143),g=i(12110),j=i(26494),A=i(39336),b=i(42518),f=i(67784),w=i(51787),I=i(79650),C=i(71806),k=i(84882),S=i(28076),T=i(10039),B=i(73460),D=i(14194),P=i(18483),F=i(8939),W=i(24056),L=i(97186),$=i(30839),_=i(94271),z=i(68767),M=i(48102),E=i(9345),q=i(75456),Z=i(59383),R=i(27795),V=i(97187),G=i(15244),K=i(37141),N=i(62690),H=i(35682),O=i(52076),Y=i(59131),J=i(99972),Q=i(97461),U=i(10961),X=i(57650),ee=i(80444),te=i(96078),ie=i(77743),ne=i(80150),re=i(94382),ae=i(45577);const se={siteName:"Velo-Altitude",previousName:"Grand Est Cyclisme",domain:"velo-altitude.com",partnershipText:"en partenariat avec Grand Est Cyclisme",partnershipShort:"Partenaire: Grand Est Cyclisme",logoPath:"/assets/images/velo-altitude-logo.svg",logoAlt:"Logo Velo-Altitude - Le dashboard v\xe9lo ultime",favicon:"/favicon.ico",tagline:"Le plus grand dashboard v\xe9lo d'Europe",taglineShort:"Dashboard v\xe9lo ultime",description:"Velo-Altitude est la plateforme de r\xe9f\xe9rence pour les cyclistes passionn\xe9s d'ascension et de cols. Visualisez, planifiez et partagez vos d\xe9fis cyclistes avec notre technologie de pointe.",social:{twitter:"@VeloAltitude",facebook:"VeloAltitude",instagram:"velo.altitude",strava:"clubs/velo-altitude"},colors:{primary:"#1976d2",secondary:"#ff9800",altitude:"#3f51b5",mountain:"#4caf50"},visualIdentity:{mountainIcon:!0,elevationGraphic:!0,cyclistIcon:!0},defaultMetaTags:{title:"Velo-Altitude | Le dashboard v\xe9lo ultime pour les passionn\xe9s de cols",description:"Planifiez, visualisez et relevez vos d\xe9fis cyclistes avec Velo-Altitude, la plateforme de r\xe9f\xe9rence pour les cyclistes passionn\xe9s d'ascension et de cols.",keywords:"v\xe9lo, cyclisme, cols, altitude, dashboard, d\xe9fis, 7 majeurs, visualisation 3D"},legal:{companyName:"Velo-Altitude SAS",address:"Paris, France",contactEmail:"contact@velo-altitude.com",copyright:`\xa9 ${(new Date).getFullYear()} Velo-Altitude. Tous droits r\xe9serv\xe9s.`}};var oe=i(90035),le=i(26600),ce=i(17392),de=i(35316),ue=i(78492),ye=i(74605),pe=i(14256),me=i(81673),he=i(12008),xe=i(29347),ve=i(33438),ge=i(59893),je=i(3231),Ae=i(1781),be=i(73794),fe=i(65550);i(8619);const we=[{id:"quick15",name:"Express 15",description:"S\xe9ance courte et intense pour maximiser l'effet en minimum de temps",duration:15,caloriesBurned:200,intensity:"high",type:"power",badgeType:"express",focusArea:["cardio","lactate"],format:[{type:"warmup",duration:3,intensity:50},{type:"interval",duration:.5,intensity:95,repeat:10,recovery:.5,recoveryIntensity:40},{type:"cooldown",duration:2,intensity:40}]},{id:"tabata15",name:"Tabata Express",description:"Protocole Tabata classique adapt\xe9 pour les cyclistes press\xe9s",duration:15,caloriesBurned:220,intensity:"very-high",type:"power",badgeType:"express",focusArea:["anaerobic","vo2max"],format:[{type:"warmup",duration:4,intensity:60},{type:"interval",duration:.33,intensity:100,repeat:8,recovery:.67,recoveryIntensity:30},{type:"interval",duration:.33,intensity:100,repeat:8,recovery:.67,recoveryIntensity:30},{type:"cooldown",duration:3,intensity:40}]},{id:"standard30",name:"Classique 30",description:"S\xe9ance \xe9quilibr\xe9e de 30 minutes pour am\xe9liorer votre endurance et puissance",duration:30,caloriesBurned:450,intensity:"medium-high",type:"endurance",badgeType:"balanced",focusArea:["threshold","vo2max"],format:[{type:"warmup",duration:5,intensity:60},{type:"interval",duration:2,intensity:85,repeat:5,recovery:1,recoveryIntensity:50},{type:"interval",duration:1,intensity:95,repeat:5,recovery:1,recoveryIntensity:40},{type:"cooldown",duration:5,intensity:50}]},{id:"pyramid30",name:"Pyramide 30",description:"Structure pyramidale pour travailler progressivement jusqu'au pic d'intensit\xe9",duration:30,caloriesBurned:420,intensity:"medium-high",type:"endurance",badgeType:"structured",focusArea:["lactate","threshold"],format:[{type:"warmup",duration:5,intensity:55},{type:"interval",duration:1,intensity:75,repeat:1,recovery:1,recoveryIntensity:50},{type:"interval",duration:2,intensity:80,repeat:1,recovery:1,recoveryIntensity:50},{type:"interval",duration:3,intensity:85,repeat:1,recovery:1,recoveryIntensity:45},{type:"interval",duration:4,intensity:90,repeat:1,recovery:2,recoveryIntensity:40},{type:"interval",duration:3,intensity:85,repeat:1,recovery:1,recoveryIntensity:45},{type:"interval",duration:2,intensity:80,repeat:1,recovery:1,recoveryIntensity:50},{type:"interval",duration:1,intensity:75,repeat:1,recovery:1,recoveryIntensity:50},{type:"cooldown",duration:3,intensity:45}]},{id:"complete45",name:"Progressive 45",description:"S\xe9ance compl\xe8te avec progression d'intensit\xe9 pour am\xe9liorer votre endurance lactique",duration:45,caloriesBurned:650,intensity:"medium",type:"endurance",badgeType:"complete",focusArea:["endurance","threshold"],format:[{type:"warmup",duration:8,intensity:60},{type:"interval",duration:3,intensity:75,repeat:3,recovery:2,recoveryIntensity:50},{type:"interval",duration:2,intensity:85,repeat:4,recovery:1,recoveryIntensity:45},{type:"interval",duration:1,intensity:95,repeat:5,recovery:1,recoveryIntensity:40},{type:"cooldown",duration:5,intensity:50}]},{id:"mountain45",name:"Col Virtuel 45",description:"Simulation d'ascension de col avec variations d'intensit\xe9 comme sur un vrai col",duration:45,caloriesBurned:680,intensity:"medium-high",type:"mountain",badgeType:"climb",focusArea:["climbing","threshold"],format:[{type:"warmup",duration:7,intensity:60},{type:"interval",duration:3,intensity:80,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:2,intensity:90,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:1,intensity:70,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:3,intensity:85,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:2,intensity:95,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:1,intensity:75,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:4,intensity:85,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:3,intensity:100,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:2,intensity:70,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:5,intensity:80,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:2,intensity:95,repeat:1,recovery:0,recoveryIntensity:0},{type:"cooldown",duration:5,intensity:50}]},{id:"endurance60",name:"Endurance 60",description:"Travail d'endurance avec intervalles longs pour pr\xe9parer les longues ascensions",duration:60,caloriesBurned:800,intensity:"medium",type:"endurance",badgeType:"endurance",focusArea:["endurance","fatigue_resistance"],format:[{type:"warmup",duration:10,intensity:60},{type:"interval",duration:8,intensity:75,repeat:2,recovery:4,recoveryIntensity:55},{type:"interval",duration:5,intensity:85,repeat:3,recovery:3,recoveryIntensity:50},{type:"interval",duration:3,intensity:90,repeat:1,recovery:2,recoveryIntensity:45},{type:"cooldown",duration:8,intensity:50}]},{id:"power60",name:"Puissance 60",description:"S\xe9ance orient\xe9e d\xe9veloppement de la puissance maximale et r\xe9sistance \xe0 la fatigue",duration:60,caloriesBurned:900,intensity:"high",type:"power",badgeType:"burn",focusArea:["power","lactate_tolerance"],format:[{type:"warmup",duration:10,intensity:60},{type:"interval",duration:1,intensity:120,repeat:5,recovery:3,recoveryIntensity:40},{type:"interval",duration:2,intensity:110,repeat:5,recovery:2,recoveryIntensity:40},{type:"interval",duration:5,intensity:90,repeat:3,recovery:2,recoveryIntensity:50},{type:"cooldown",duration:8,intensity:45}]}],Ie=[{id:"burn300_quick",name:"Br\xfble 300 Express",description:"S\xe9ance rapide concentr\xe9e sur la d\xe9pense calorique maximale en temps minimum",duration:20,caloriesBurned:300,intensity:"high",type:"power",badgeType:"burn",focusArea:["fat_burning","cardio"],format:[{type:"warmup",duration:3,intensity:60},{type:"interval",duration:.5,intensity:100,repeat:12,recovery:.5,recoveryIntensity:50},{type:"interval",duration:1,intensity:90,repeat:5,recovery:1,recoveryIntensity:60},{type:"cooldown",duration:2,intensity:50}]},{id:"burn300_balanced",name:"Br\xfble 300 \xc9quilibr\xe9",description:"S\xe9ance \xe9quilibr\xe9e pour br\xfbler 300 calories avec un niveau d'intensit\xe9 mod\xe9r\xe9",duration:25,caloriesBurned:300,intensity:"medium",type:"endurance",badgeType:"balanced",focusArea:["fat_burning","endurance"],format:[{type:"warmup",duration:5,intensity:60},{type:"interval",duration:3,intensity:80,repeat:3,recovery:2,recoveryIntensity:60},{type:"interval",duration:1,intensity:90,repeat:5,recovery:1,recoveryIntensity:50},{type:"cooldown",duration:3,intensity:50}]},{id:"burn500_intense",name:"Intense 500",description:"S\xe9ance \xe0 haute intensit\xe9 con\xe7ue pour maximiser la d\xe9pense de 500 calories",duration:35,caloriesBurned:500,intensity:"high",type:"power",badgeType:"burn",focusArea:["fat_burning","vo2max"],format:[{type:"warmup",duration:5,intensity:60},{type:"interval",duration:1,intensity:95,repeat:8,recovery:1,recoveryIntensity:50},{type:"interval",duration:2,intensity:85,repeat:5,recovery:1,recoveryIntensity:55},{type:"interval",duration:3,intensity:90,repeat:2,recovery:2,recoveryIntensity:50},{type:"cooldown",duration:5,intensity:45}]},{id:"burn500_threshold",name:"Seuil 500",description:"Travail au seuil pour d\xe9velopper l'endurance tout en br\xfblant 500 calories",duration:40,caloriesBurned:500,intensity:"medium-high",type:"endurance",badgeType:"structured",focusArea:["threshold","fat_burning"],format:[{type:"warmup",duration:8,intensity:60},{type:"interval",duration:5,intensity:85,repeat:4,recovery:2,recoveryIntensity:50},{type:"interval",duration:1,intensity:95,repeat:3,recovery:1,recoveryIntensity:45},{type:"cooldown",duration:5,intensity:50}]},{id:"burn700_mountain",name:"Col 700",description:"Simulation d'ascension pour br\xfbler 700 calories en travaillant la r\xe9sistance en montagne",duration:50,caloriesBurned:700,intensity:"medium-high",type:"mountain",badgeType:"climb",focusArea:["climbing","fat_burning"],format:[{type:"warmup",duration:8,intensity:60},{type:"interval",duration:8,intensity:80,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:3,intensity:90,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:1,intensity:70,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:6,intensity:85,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:2,intensity:95,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:2,intensity:75,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:8,intensity:80,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:3,intensity:100,repeat:1,recovery:0,recoveryIntensity:0},{type:"interval",duration:2,intensity:70,repeat:1,recovery:0,recoveryIntensity:0},{type:"cooldown",duration:6,intensity:50}]},{id:"burn700_power",name:"Puissance 700",description:"S\xe9ance orient\xe9e puissance avec des efforts maximaux pour une d\xe9pense de 700 calories",duration:45,caloriesBurned:700,intensity:"very-high",type:"power",badgeType:"burn",focusArea:["power","fat_burning"],format:[{type:"warmup",duration:8,intensity:60},{type:"interval",duration:.5,intensity:120,repeat:10,recovery:1.5,recoveryIntensity:40},{type:"interval",duration:1,intensity:110,repeat:8,recovery:1,recoveryIntensity:40},{type:"interval",duration:3,intensity:90,repeat:3,recovery:2,recoveryIntensity:50},{type:"cooldown",duration:7,intensity:45}]},{id:"burn1000_endurance",name:"Endurance 1000",description:"S\xe9ance longue pour br\xfbler 1000 calories en d\xe9veloppant l'endurance",duration:75,caloriesBurned:1e3,intensity:"medium",type:"endurance",badgeType:"endurance",focusArea:["endurance","fat_burning"],format:[{type:"warmup",duration:10,intensity:60},{type:"interval",duration:10,intensity:75,repeat:3,recovery:5,recoveryIntensity:55},{type:"interval",duration:5,intensity:85,repeat:3,recovery:3,recoveryIntensity:50},{type:"interval",duration:2,intensity:95,repeat:2,recovery:2,recoveryIntensity:45},{type:"cooldown",duration:10,intensity:50}]},{id:"burn1000_complete",name:"Complet 1000",description:"S\xe9ance compl\xe8te qui travaille tous les syst\xe8mes \xe9nerg\xe9tiques tout en br\xfblant 1000 calories",duration:70,caloriesBurned:1e3,intensity:"high",type:"power",badgeType:"burn",focusArea:["complete","fat_burning"],format:[{type:"warmup",duration:10,intensity:60},{type:"interval",duration:.5,intensity:120,repeat:6,recovery:1.5,recoveryIntensity:40},{type:"interval",duration:3,intensity:95,repeat:3,recovery:2,recoveryIntensity:40},{type:"interval",duration:5,intensity:85,repeat:4,recovery:2,recoveryIntensity:50},{type:"interval",duration:8,intensity:75,repeat:1,recovery:0,recoveryIntensity:0},{type:"cooldown",duration:7,intensity:45}]}],Ce={express:{label:"Express",color:"#ff9800",icon:"bolt",description:"S\xe9ance courte et efficace pour les emplois du temps charg\xe9s"},burn:{label:"Br\xfble-graisse",color:"#f44336",icon:"local_fire_department",description:"Maximise la d\xe9pense calorique et la combustion des graisses"},climb:{label:"Grimpeur",color:"#4caf50",icon:"terrain",description:"Simule les conditions d'ascension des cols"},endurance:{label:"Endurance",color:"#2196f3",icon:"watch_later",description:"D\xe9veloppe l'endurance sur la dur\xe9e"},balanced:{label:"\xc9quilibr\xe9",color:"#9c27b0",icon:"balance",description:"Travail \xe9quilibr\xe9 de plusieurs qualit\xe9s physiques"},structured:{label:"Structur\xe9",color:"#3f51b5",icon:"view_module",description:"Progression structur\xe9e avec phases distinctes"}},ke=()=>[...we,...Ie],Se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ke();return void 0!==e.minDuration&&(t=t.filter((t=>t.duration>=e.minDuration))),void 0!==e.maxDuration&&(t=t.filter((t=>t.duration<=e.maxDuration))),void 0!==e.minCalories&&(t=t.filter((t=>t.caloriesBurned>=e.minCalories))),void 0!==e.maxCalories&&(t=t.filter((t=>t.caloriesBurned<=e.maxCalories))),e.intensity&&(t=t.filter((t=>t.intensity===e.intensity))),e.type&&(t=t.filter((t=>t.type===e.type))),e.badgeType&&(t=t.filter((t=>t.badgeType===e.badgeType))),e.focusArea&&(t=t.filter((t=>t.focusArea.includes(e.focusArea)))),t};var Te=i(70579);const Be=[{id:"beginner",label:"D\xe9butant",description:"Moins de 3 heures d'activit\xe9 par semaine, FTP estim\xe9e < 2.5 W/kg",multiplier:.8,ftpEstimate:2},{id:"recreational",label:"Loisir",description:"3-5 heures d'activit\xe9 par semaine, FTP estim\xe9e 2.5-3.0 W/kg",multiplier:1,ftpEstimate:2.7},{id:"intermediate",label:"Interm\xe9diaire",description:"5-8 heures d'activit\xe9 par semaine, FTP estim\xe9e 3.0-3.5 W/kg",multiplier:1.2,ftpEstimate:3.2},{id:"advanced",label:"Avanc\xe9",description:"8-12 heures d'activit\xe9 par semaine, FTP estim\xe9e 3.5-4.1 W/kg",multiplier:1.4,ftpEstimate:3.8},{id:"expert",label:"Expert",description:"Plus de 12 heures d'activit\xe9 par semaine, FTP estim\xe9e > 4.1 W/kg",multiplier:1.6,ftpEstimate:4.3}],De=e=>{var t,i;let{userProfile:a,onCalorieSettingsChange:l,open:c,onClose:u}=e;const{t:y}=(0,r.Bd)(),[I,C]=(0,n.useState)(!1),[k,S]=(0,n.useState)("auto"),[T,B]=(0,n.useState)({weight:70,age:35,gender:"male",activityLevel:"recreational",ftp:200,useCustomFTP:!1}),[D,F]=(0,n.useState)({duration:45,intensity:"medium-high",standardCalories:650});(0,n.useEffect)((()=>{a&&W()}),[a]);const W=async()=>{C(!0);try{if(a){const e={...T,weight:a.weight||T.weight,age:a.age||T.age,gender:a.gender||T.gender,activityLevel:"beginner"===a.cyclist_type?"beginner":"all-rounder"===a.cyclist_type?"recreational":"climber"===a.cyclist_type?"intermediate":"sprinter"===a.cyclist_type?"advanced":"recreational",ftp:a.ftp||T.ftp,useCustomFTP:!!a.ftp};B(e),l&&l(e)}}catch(e){console.error("Erreur lors du chargement des donn\xe9es utilisateur:",e)}finally{C(!1)}},L=(e,t)=>{const i={...T,[e]:t};if("activityLevel"===e&&!T.useCustomFTP){const e=Be.find((e=>e.id===t));e&&(i.ftp=Math.round(e.ftpEstimate*i.weight))}if("weight"===e&&!T.useCustomFTP){const e=Be.find((e=>e.id===T.activityLevel));e&&(i.ftp=Math.round(e.ftpEstimate*t))}if("useCustomFTP"===e&&!t){const e=Be.find((e=>e.id===T.activityLevel));e&&(i.ftp=Math.round(e.ftpEstimate*T.weight))}B(i)},_=(e=>{const t=Be.find((e=>e.id===T.activityLevel)),i=(t?t.multiplier:1)*("female"===T.gender?.9:1)*(T.age<30?1.1:T.age<40?1:T.age<50?.95:T.age<60?.9:.85)*(T.weight/70)*(T.ftp/200);return Math.round(e*i)})(D.standardCalories),z=_-D.standardCalories;return(0,Te.jsxs)(oe.A,{open:c,onClose:u,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2,overflow:"hidden"}},children:[(0,Te.jsxs)(le.A,{sx:{bgcolor:se.colors.primary,color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Te.jsxs)(s.A,{display:"flex",alignItems:"center",children:[(0,Te.jsx)($.A,{sx:{mr:1}}),y("personalizedCalorieCalculator")]}),(0,Te.jsx)(ce.A,{size:"small",onClick:u,sx:{color:"white"},children:(0,Te.jsx)(ve.A,{})})]}),(0,Te.jsxs)(de.A,{dividers:!0,children:[(0,Te.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:y("calorieCalculatorDescription")}),(0,Te.jsx)(A.A,{sx:{my:2}}),(0,Te.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,Te.jsxs)(d.Ay,{item:!0,xs:12,md:7,children:[(0,Te.jsxs)(o.A,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[(0,Te.jsx)(ge.A,{sx:{mr:1}}),y("yourProfile")]}),(0,Te.jsx)(g.A,{variant:"outlined",sx:{mb:2},children:(0,Te.jsx)(j.A,{children:(0,Te.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,Te.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,Te.jsx)(f.A,{label:y("weight"),type:"number",value:T.weight,onChange:e=>L("weight",parseInt(e.target.value)),fullWidth:!0,InputProps:{endAdornment:(0,Te.jsx)(w.A,{position:"end",children:"kg"})}})}),(0,Te.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,Te.jsx)(f.A,{label:y("age"),type:"number",value:T.age,onChange:e=>L("age",parseInt(e.target.value)),fullWidth:!0,InputProps:{endAdornment:(0,Te.jsx)(w.A,{position:"end",children:y("years")})}})}),(0,Te.jsx)(d.Ay,{item:!0,xs:12,children:(0,Te.jsx)(m.A,{component:"fieldset",children:(0,Te.jsxs)(ue.A,{row:!0,value:T.gender,onChange:e=>L("gender",e.target.value),children:[(0,Te.jsx)(ye.A,{value:"male",control:(0,Te.jsx)(pe.A,{}),label:y("male")}),(0,Te.jsx)(ye.A,{value:"female",control:(0,Te.jsx)(pe.A,{}),label:y("female")})]})})})]})})}),(0,Te.jsxs)(o.A,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[(0,Te.jsx)(je.A,{sx:{mr:1}}),y("activityLevel")]}),(0,Te.jsx)(g.A,{variant:"outlined",sx:{mb:2},children:(0,Te.jsx)(j.A,{children:(0,Te.jsxs)(m.A,{fullWidth:!0,children:[(0,Te.jsx)(h.A,{children:y("yourCyclingLevel")}),(0,Te.jsx)(x.A,{value:T.activityLevel,onChange:e=>L("activityLevel",e.target.value),label:y("yourCyclingLevel"),children:Be.map((e=>(0,Te.jsx)(v.A,{value:e.id,children:e.label},e.id)))}),(0,Te.jsx)(me.A,{children:null===(t=Be.find((e=>e.id===T.activityLevel)))||void 0===t?void 0:t.description})]})})}),(0,Te.jsxs)(o.A,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[(0,Te.jsx)(Ae.A,{sx:{mr:1}}),y("yourFTP"),(0,Te.jsx)(P.A,{title:y("ftpDescription"),arrow:!0,TransitionComponent:he.A,children:(0,Te.jsx)(be.A,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]}),(0,Te.jsx)(g.A,{variant:"outlined",children:(0,Te.jsx)(j.A,{children:(0,Te.jsx)(d.Ay,{container:!0,spacing:2,children:(0,Te.jsxs)(d.Ay,{item:!0,xs:12,children:[(0,Te.jsx)(ye.A,{control:(0,Te.jsx)(pe.A,{checked:!T.useCustomFTP,onChange:()=>L("useCustomFTP",!1)}),label:y("estimatedFTP")}),!T.useCustomFTP&&(0,Te.jsxs)(s.A,{sx:{ml:4,mb:2},children:[(0,Te.jsxs)(o.A,{variant:"body1",color:"primary",fontWeight:"bold",children:[T.ftp," watts",(0,Te.jsxs)(o.A,{component:"span",variant:"body2",color:"text.secondary",sx:{ml:1},children:["(",(T.ftp/T.weight).toFixed(1)," W/kg)"]})]}),(0,Te.jsx)(o.A,{variant:"caption",color:"text.secondary",children:y("basedOnProfileAndActivity")})]}),(0,Te.jsx)(ye.A,{control:(0,Te.jsx)(pe.A,{checked:T.useCustomFTP,onChange:()=>L("useCustomFTP",!0)}),label:y("customFTP")}),T.useCustomFTP&&(0,Te.jsx)(s.A,{sx:{ml:4},children:(0,Te.jsx)(f.A,{label:y("yourFTPWatts"),type:"number",value:T.ftp,onChange:e=>L("ftp",parseInt(e.target.value)),fullWidth:!0,InputProps:{endAdornment:(0,Te.jsx)(w.A,{position:"end",children:"watts"})},helperText:`${(T.ftp/T.weight).toFixed(1)} W/kg`})})]})})})})]}),(0,Te.jsxs)(d.Ay,{item:!0,xs:12,md:5,children:[(0,Te.jsxs)(o.A,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[(0,Te.jsx)($.A,{sx:{mr:1}}),y("calorieImpact")]}),(0,Te.jsx)(g.A,{sx:{height:"100%",display:"flex",flexDirection:"column",bgcolor:"background.default",borderRadius:2},children:(0,Te.jsxs)(j.A,{sx:{flexGrow:1},children:[(0,Te.jsxs)(s.A,{sx:{p:2,borderRadius:2,mb:2,bgcolor:"white"},children:[(0,Te.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:y("exampleWorkout")}),(0,Te.jsxs)(o.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[y("intensityLevel"),": ","low"===D.intensity?y("low"):"medium"===D.intensity?y("medium"):"medium-high"===D.intensity?y("mediumHigh"):"high"===D.intensity?y("high"):y("veryHigh")]}),(0,Te.jsxs)(o.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[y("duration"),": ",D.duration," min"]}),(0,Te.jsx)(A.A,{sx:{my:1}}),(0,Te.jsxs)(d.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,Te.jsx)(d.Ay,{item:!0,xs:6,children:(0,Te.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:[y("standardCalories"),":"]})}),(0,Te.jsx)(d.Ay,{item:!0,xs:6,children:(0,Te.jsxs)(o.A,{variant:"h6",align:"right",children:[D.standardCalories," kcal"]})}),(0,Te.jsx)(d.Ay,{item:!0,xs:6,children:(0,Te.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:[y("yourCalories"),":"]})}),(0,Te.jsx)(d.Ay,{item:!0,xs:6,children:(0,Te.jsxs)(o.A,{variant:"h5",color:"primary",align:"right",fontWeight:"bold",children:[_," kcal"]})}),(0,Te.jsx)(d.Ay,{item:!0,xs:12,children:(0,Te.jsx)(s.A,{sx:{mt:1,p:1,borderRadius:1,bgcolor:z>0?"success.light":"warning.light",color:z>0?"success.contrastText":"warning.contrastText",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,Te.jsxs)(o.A,{variant:"body2",fontWeight:"medium",children:[z>0?"+":"",z," kcal (",Math.round(z/D.standardCalories*100),"%)"]})})})]})]}),(0,Te.jsxs)(o.A,{variant:"subtitle2",gutterBottom:!0,children:[y("testDifferentWorkout"),":"]}),(0,Te.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,Te.jsxs)(d.Ay,{item:!0,xs:12,children:[(0,Te.jsxs)(o.A,{variant:"body2",gutterBottom:!0,children:[y("duration"),": ",D.duration," min"]}),(0,Te.jsx)(p.Ay,{value:D.duration,onChange:(e,t)=>F({...D,duration:t}),min:15,max:90,step:5,marks:[{value:15,label:"15"},{value:30,label:"30"},{value:45,label:"45"},{value:60,label:"60"},{value:90,label:"90"}],valueLabelDisplay:"auto"})]}),(0,Te.jsx)(d.Ay,{item:!0,xs:12,children:(0,Te.jsxs)(m.A,{fullWidth:!0,size:"small",children:[(0,Te.jsx)(h.A,{children:y("intensityLevel")}),(0,Te.jsxs)(x.A,{value:D.intensity,onChange:e=>{const t=e.target.value;let i;i="low"===t?Math.round(8*D.duration):"medium"===t?Math.round(10*D.duration):"medium-high"===t?Math.round(14*D.duration):"high"===t?Math.round(18*D.duration):Math.round(22*D.duration),F({...D,intensity:t,standardCalories:i})},label:y("intensityLevel"),children:[(0,Te.jsx)(v.A,{value:"low",children:y("low")}),(0,Te.jsx)(v.A,{value:"medium",children:y("medium")}),(0,Te.jsx)(v.A,{value:"medium-high",children:y("mediumHigh")}),(0,Te.jsx)(v.A,{value:"high",children:y("high")}),(0,Te.jsx)(v.A,{value:"very-high",children:y("veryHigh")})]})]})})]}),(0,Te.jsxs)(s.A,{sx:{mt:3},children:[(0,Te.jsxs)(o.A,{variant:"subtitle2",gutterBottom:!0,children:[y("calorieCalculationFactors"),":"]}),(0,Te.jsxs)(o.A,{variant:"body2",gutterBottom:!0,children:["\u2022 ",y("weightFactor"),": ",Math.round(T.weight/70*100),"%"]}),(0,Te.jsxs)(o.A,{variant:"body2",gutterBottom:!0,children:["\u2022 ",y("ageFactor"),": ",T.age<30?"110%":T.age<40?"100%":T.age<50?"95%":T.age<60?"90%":"85%"]}),(0,Te.jsxs)(o.A,{variant:"body2",gutterBottom:!0,children:["\u2022 ",y("genderFactor"),": ","female"===T.gender?"90%":"100%"]}),(0,Te.jsxs)(o.A,{variant:"body2",gutterBottom:!0,children:["\u2022 ",y("ftpFactor"),": ",Math.round(T.ftp/200*100),"%"]}),(0,Te.jsxs)(o.A,{variant:"body2",children:["\u2022 ",y("activityFactor"),": ",100*(null===(i=Be.find((e=>e.id===T.activityLevel)))||void 0===i?void 0:i.multiplier),"%"]})]})]})})]})]})]}),(0,Te.jsxs)(xe.A,{sx:{px:3,py:2},children:[(0,Te.jsx)(b.A,{onClick:()=>{B({weight:70,age:35,gender:"male",activityLevel:"recreational",ftp:200,useCustomFTP:!1})},startIcon:(0,Te.jsx)(fe.A,{}),color:"inherit",children:y("resetToDefaults")}),(0,Te.jsx)(s.A,{flexGrow:1}),(0,Te.jsx)(b.A,{onClick:u,children:y("cancel")}),(0,Te.jsx)(b.A,{onClick:()=>{l&&l(T),u()},variant:"contained",color:"primary",startIcon:(0,Te.jsx)(K.A,{}),children:y("saveAndApply")})]})]})},Pe=e=>{let{userProfile:t,onSaveWorkout:i}=e;const{t:oe}=(0,r.Bd)(),{notify:le}=(0,ae.hN)(),[ce,de]=(0,n.useState)(0),[ue,ye]=(0,n.useState)(!1),[pe,me]=(0,n.useState)([]),[he,xe]=(0,n.useState)(null),[ve,ge]=(0,n.useState)("time"),[je,Ae]=(0,n.useState)({minDuration:0,maxDuration:90,minCalories:0,maxCalories:1200,type:"all",badgeType:"all"}),[be,fe]=(0,n.useState)({name:"",description:"",targetSystem:"aerobic",duration:30,intervals:[]}),[we,Ie]=(0,n.useState)({intensity:90,duration:30,recovery:30,repetitions:5}),[Be,Pe]=(0,n.useState)([]),[Fe,We]=(0,n.useState)(!1),[Le,$e]=(0,n.useState)({weight:(null===t||void 0===t?void 0:t.weight)||70,age:(null===t||void 0===t?void 0:t.age)||35,gender:(null===t||void 0===t?void 0:t.gender)||"male",activityLevel:"beginner"===(null===t||void 0===t?void 0:t.cyclist_type)?"beginner":"all-rounder"===(null===t||void 0===t?void 0:t.cyclist_type)?"recreational":"climber"===(null===t||void 0===t?void 0:t.cyclist_type)?"intermediate":"sprinter"===(null===t||void 0===t?void 0:t.cyclist_type)?"advanced":"recreational",ftp:(null===t||void 0===t?void 0:t.ftp)||200,useCustomFTP:!(null===t||void 0===t||!t.ftp)}),[_e,ze]=(0,n.useState)(!0),Me=[{value:"aerobic",label:oe("aerobicSystem"),color:"#4CAF50",description:oe("aerobicSystemDesc")},{value:"anaerobic",label:oe("anaerobicSystem"),color:"#F44336",description:oe("anaerobicSystemDesc")},{value:"mixed",label:oe("mixedSystem"),color:"#FF9800",description:oe("mixedSystemDesc")},{value:"neuromuscular",label:oe("neuromuscularSystem"),color:"#9C27B0",description:oe("neuromuscularSystemDesc")}];(0,n.useEffect)((()=>{t&&Ee()}),[t]);const Ee=()=>{ye(!0),me(ke()),ye(!1)},qe=()=>Se({minDuration:je.minDuration,maxDuration:je.maxDuration,minCalories:je.minCalories,maxCalories:je.maxCalories,type:"all"!==je.type?je.type:void 0,badgeType:"all"!==je.badgeType?je.badgeType:void 0}),Ze=(e,t)=>{null!==t&&ge(t)},Re=(e,t)=>{Ae((i=>({...i,[e]:t})))},Ve=e=>{if(!e||!Ce[e])return null;const t=Ce[e],i={bolt:(0,Te.jsx)(L.A,{}),local_fire_department:(0,Te.jsx)($.A,{}),terrain:(0,Te.jsx)(_.A,{}),watch_later:(0,Te.jsx)(z.A,{}),balance:(0,Te.jsx)(M.A,{}),view_module:(0,Te.jsx)(E.A,{})}[t.icon]||(0,Te.jsx)(q.A,{});return(0,Te.jsx)(a.A,{icon:i,label:t.label,size:"small",sx:{backgroundColor:t.color,color:"white",fontWeight:500,"& .MuiChip-icon":{color:"white"}}})},Ge=e=>{if(!e||0===e.length)return{totalDuration:0,workDuration:0,restDuration:0,avgIntensity:0,maxIntensity:0,tss:0,intensityDistribution:[]};let i=0,n=0,r=0,a=0,s=0,o=0;const l={Z1:0,Z2:0,Z3:0,Z4:0,Z5:0,Z6:0};e.forEach((e=>{i+=e.duration,"work"===e.type?n+=e.duration:"rest"!==e.type&&"cooldown"!==e.type||(r+=e.duration),a+=e.intensity*e.duration,s=Math.max(s,e.intensity);const t=Math.pow(e.intensity/100,4);o+=t*e.duration,e.intensity<=60?l.Z1+=e.duration:e.intensity<=75?l.Z2+=e.duration:e.intensity<=90?l.Z3+=e.duration:e.intensity<=105?l.Z4+=e.duration:e.intensity<=120?l.Z5+=e.duration:l.Z6+=e.duration}));const c=a/i,d=100*Math.pow(o/i,.25),u=(null===t||void 0===t?void 0:t.ftp)||200,y=d/100,p=Math.round(i*d*y/(36*u)),m=Object.keys(l).map((e=>({name:e,value:Math.round(l[e]/60),time:Ke(l[e])})));return{totalDuration:i,workDuration:n,restDuration:r,avgIntensity:c,maxIntensity:s,normalizedIntensity:Math.round(d),tss:p,intensityDistribution:m}},Ke=e=>{const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`};return(0,Te.jsxs)(s.A,{sx:{p:2},children:[(0,Te.jsx)(o.A,{variant:"h5",gutterBottom:!0,children:oe("hiitBuilder")}),(0,Te.jsxs)(F.A,{value:ce,onChange:(e,t)=>{de(t)},variant:"scrollable",scrollButtons:"auto",children:[(0,Te.jsx)(W.A,{label:oe("templates")}),(0,Te.jsx)(W.A,{label:oe("customWorkout")}),(0,Te.jsx)(W.A,{label:oe("workoutStats")}),(0,Te.jsx)(W.A,{label:oe("workoutPreview")})]}),(()=>{var e,t;switch(ce){case 0:return(0,Te.jsxs)(s.A,{sx:{p:2},children:[(0,Te.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:oe("workoutCatalog")}),ue?(0,Te.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,Te.jsx)(l.A,{})}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)(c.A,{sx:{p:2,mb:3},children:[(0,Te.jsxs)(o.A,{variant:"subtitle1",gutterBottom:!0,children:[(0,Te.jsx)(Z.A,{fontSize:"small",sx:{mr:1,verticalAlign:"middle"}}),oe("filterWorkouts")]}),(0,Te.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,Te.jsxs)(d.Ay,{item:!0,xs:12,sm:6,children:[(0,Te.jsxs)(u.A,{value:ve,exclusive:!0,onChange:Ze,"aria-label":"filter view",size:"small",sx:{mb:2},children:[(0,Te.jsxs)(y.A,{value:"time","aria-label":"filter by time",children:[(0,Te.jsx)(R.A,{fontSize:"small",sx:{mr:1}}),oe("filterByTime")]}),(0,Te.jsxs)(y.A,{value:"calories","aria-label":"filter by calories",children:[(0,Te.jsx)($.A,{fontSize:"small",sx:{mr:1}}),oe("filterByCalories")]})]}),"time"===ve?(0,Te.jsxs)(s.A,{sx:{width:"100%",px:2},children:[(0,Te.jsxs)(o.A,{variant:"body2",gutterBottom:!0,children:[oe("duration"),": ",je.minDuration," - ",je.maxDuration," min"]}),(0,Te.jsx)(p.Ay,{value:[je.minDuration,je.maxDuration],onChange:(e,t)=>{Re("minDuration",t[0]),Re("maxDuration",t[1])},valueLabelDisplay:"auto",min:0,max:90,step:5})]}):(0,Te.jsxs)(s.A,{sx:{width:"100%",px:2},children:[(0,Te.jsxs)(o.A,{variant:"body2",gutterBottom:!0,children:[oe("calories"),": ",je.minCalories," - ",je.maxCalories," kcal"]}),(0,Te.jsx)(p.Ay,{value:[je.minCalories,je.maxCalories],onChange:(e,t)=>{Re("minCalories",t[0]),Re("maxCalories",t[1])},valueLabelDisplay:"auto",min:0,max:1200,step:100})]})]}),(0,Te.jsxs)(d.Ay,{item:!0,xs:12,sm:6,children:[(0,Te.jsxs)(m.A,{size:"small",fullWidth:!0,sx:{mb:2},children:[(0,Te.jsx)(h.A,{id:"workout-type-label",children:oe("workoutType")}),(0,Te.jsxs)(x.A,{labelId:"workout-type-label",value:je.type,onChange:e=>Re("type",e.target.value),label:oe("workoutType"),children:[(0,Te.jsx)(v.A,{value:"all",children:oe("allTypes")}),(0,Te.jsx)(v.A,{value:"power",children:oe("power")}),(0,Te.jsx)(v.A,{value:"endurance",children:oe("endurance")}),(0,Te.jsx)(v.A,{value:"mountain",children:oe("mountain")})]})]}),(0,Te.jsxs)(m.A,{size:"small",fullWidth:!0,children:[(0,Te.jsx)(h.A,{id:"badge-type-label",children:oe("workoutCategory")}),(0,Te.jsxs)(x.A,{labelId:"badge-type-label",value:je.badgeType,onChange:e=>Re("badgeType",e.target.value),label:oe("workoutCategory"),children:[(0,Te.jsx)(v.A,{value:"all",children:oe("allCategories")}),Object.entries(Ce).map((e=>{let[t,i]=e;return(0,Te.jsx)(v.A,{value:t,children:(0,Te.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,Te.jsx)(s.A,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:i.color,mr:1}}),i.label]})},t)}))]})]})]})]})]}),(0,Te.jsxs)(o.A,{variant:"subtitle1",gutterBottom:!0,children:[qe().length," ",oe("workoutsFound")]}),(0,Te.jsx)(d.Ay,{container:!0,spacing:2,children:qe().map((e=>(0,Te.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,Te.jsxs)(g.A,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:6}},children:[(0,Te.jsxs)(j.A,{sx:{flexGrow:1},children:[(0,Te.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,Te.jsx)(o.A,{variant:"h6",component:"div",children:e.name}),Ve(e.badgeType)]}),(0,Te.jsx)(o.A,{variant:"body2",color:"text.secondary",sx:{mb:2,minHeight:40},children:e.description}),(0,Te.jsx)(A.A,{sx:{my:1}}),(0,Te.jsxs)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:2},children:[(0,Te.jsx)(a.A,{icon:(0,Te.jsx)(R.A,{}),size:"small",label:`${e.duration} min`,variant:"outlined"}),(0,Te.jsx)(a.A,{icon:(0,Te.jsx)($.A,{}),size:"small",label:`${e.caloriesBurned} kcal`,variant:"outlined",color:"error"}),(0,Te.jsx)(a.A,{icon:"high"===e.intensity||"very-high"===e.intensity?(0,Te.jsx)(V.A,{}):(0,Te.jsx)(G.A,{}),size:"small",label:oe(e.intensity),variant:"outlined",color:"high"===e.intensity?"warning":"very-high"===e.intensity?"error":"primary"})]})]}),(0,Te.jsx)(s.A,{sx:{p:2,pt:0},children:(0,Te.jsx)(b.A,{variant:"contained",fullWidth:!0,onClick:()=>(e=>{xe(e),de(3),le({message:oe("workoutSelected",{name:e.name}),severity:"success"})})(e),children:oe("selectWorkout")})})]})},e.id)))})]})]});case 1:return(0,Te.jsxs)(s.A,{sx:{p:2},children:[(0,Te.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:oe("customWorkout")}),(0,Te.jsx)(c.A,{sx:{p:2,mb:3},children:(0,Te.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,Te.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,Te.jsx)(f.A,{label:oe("workoutName"),value:be.name,onChange:e=>fe({...be,name:e.target.value}),fullWidth:!0,margin:"normal"})}),(0,Te.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,Te.jsxs)(m.A,{fullWidth:!0,margin:"normal",children:[(0,Te.jsx)(h.A,{children:oe("targetSystem")}),(0,Te.jsx)(x.A,{value:be.targetSystem,onChange:e=>fe({...be,targetSystem:e.target.value}),label:oe("targetSystem"),children:Me.map((e=>(0,Te.jsx)(v.A,{value:e.value,children:(0,Te.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,Te.jsx)(s.A,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:e.color,mr:1}}),e.label]})},e.value)))})]})}),(0,Te.jsx)(d.Ay,{item:!0,xs:12,children:(0,Te.jsx)(f.A,{label:oe("workoutDescription"),value:be.description,onChange:e=>fe({...be,description:e.target.value}),fullWidth:!0,multiline:!0,rows:2,margin:"normal"})})]})}),(0,Te.jsxs)(c.A,{sx:{p:2,mb:3},children:[(0,Te.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:oe("addIntervals")}),(0,Te.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,Te.jsx)(d.Ay,{item:!0,xs:12,sm:3,children:(0,Te.jsx)(f.A,{label:oe("workDuration"),type:"number",value:we.duration,onChange:e=>Ie({...we,duration:parseInt(e.target.value)}),fullWidth:!0,margin:"normal",InputProps:{endAdornment:(0,Te.jsx)(w.A,{position:"end",children:oe("seconds")})}})}),(0,Te.jsx)(d.Ay,{item:!0,xs:12,sm:3,children:(0,Te.jsx)(f.A,{label:oe("recovery"),type:"number",value:we.recovery,onChange:e=>Ie({...we,recovery:parseInt(e.target.value)}),fullWidth:!0,margin:"normal",InputProps:{endAdornment:(0,Te.jsx)(w.A,{position:"end",children:oe("seconds")})}})}),(0,Te.jsx)(d.Ay,{item:!0,xs:12,sm:3,children:(0,Te.jsx)(f.A,{label:oe("intensity"),type:"number",value:we.intensity,onChange:e=>Ie({...we,intensity:parseInt(e.target.value)}),fullWidth:!0,margin:"normal",InputProps:{endAdornment:(0,Te.jsx)(w.A,{position:"end",children:"% FTP"})}})}),(0,Te.jsx)(d.Ay,{item:!0,xs:12,sm:3,children:(0,Te.jsx)(f.A,{label:oe("repetitions"),type:"number",value:we.repetitions,onChange:e=>Ie({...we,repetitions:parseInt(e.target.value)}),fullWidth:!0,margin:"normal"})})]}),(0,Te.jsxs)(s.A,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1},children:[(0,Te.jsx)(b.A,{variant:"outlined",onClick:()=>{const e=((e,t,i,n)=>{const r=[];r.push({type:"warmup",duration:600,intensity:60,label:oe("warmup")});for(let a=0;a<i;a++)r.push({type:"work",duration:e,intensity:n,label:`${oe("interval")} ${a+1}/${i}`}),r.push({type:"rest",duration:t,intensity:50,label:`${oe("recovery")} ${a+1}/${i}`});return r.push({type:"cooldown",duration:300,intensity:50,label:oe("cooldown")}),r})(we.duration,we.recovery,we.repetitions,we.intensity);fe({...be,intervals:[...be.intervals,...e]})},children:oe("addBasicIntervals")}),(0,Te.jsx)(b.A,{variant:"outlined",onClick:()=>{const e=((e,t,i,n)=>{const r=[];r.push({type:"warmup",duration:900,intensity:65,label:oe("warmup"),progressiveIntensity:!0});for(let a=0;a<e;a++)r.push({type:"work",duration:t,intensity:n,label:`${oe("sweetSpotInterval")} ${a+1}/${e}`}),r.push({type:"rest",duration:i,intensity:55,label:`${oe("recovery")} ${a+1}/${e}`});return r.push({type:"cooldown",duration:600,intensity:50,label:oe("cooldown")}),r})(we.repetitions,we.duration,we.recovery,we.intensity);fe({...be,intervals:[...be.intervals,...e]})},children:oe("addSweetSpotIntervals")}),(0,Te.jsx)(b.A,{variant:"outlined",onClick:()=>{const e=((e,t,i,n)=>{const r=[];r.push({type:"warmup",duration:900,intensity:65,label:oe("warmup"),progressiveIntensity:!0});for(let a=0;a<e;a++)r.push({type:"work",duration:t,intensity:n,label:`${oe("thresholdInterval")} ${a+1}/${e}`}),r.push({type:"rest",duration:i,intensity:55,label:`${oe("recovery")} ${a+1}/${e}`});return r.push({type:"cooldown",duration:600,intensity:50,label:oe("cooldown")}),r})(we.repetitions,we.duration,we.recovery,we.intensity);fe({...be,intervals:[...be.intervals,...e]})},children:oe("addThresholdIntervals")}),(0,Te.jsx)(b.A,{variant:"outlined",onClick:()=>{const e=(()=>{const e=[];return e.push({type:"warmup",duration:900,intensity:65,label:oe("warmup"),progressiveIntensity:!0}),e.push({type:"work",duration:300,intensity:75,label:oe("approachClimb")}),e.push({type:"work",duration:300,intensity:85,label:oe("startClimb")}),e.push({type:"work",duration:180,intensity:100,label:oe("steepSection")}),e.push({type:"work",duration:120,intensity:110,label:oe("verySteepSection")}),e.push({type:"work",duration:60,intensity:120,label:oe("summit")}),e.push({type:"rest",duration:300,intensity:60,label:oe("activeRecovery")}),e.push({type:"work",duration:60,intensity:120,label:oe("summit2")}),e.push({type:"work",duration:120,intensity:110,label:oe("verySteepSection2")}),e.push({type:"work",duration:180,intensity:100,label:oe("steepSection2")}),e.push({type:"work",duration:300,intensity:85,label:oe("descentClimb")}),e.push({type:"cooldown",duration:600,intensity:50,label:oe("cooldown")}),e})();fe({...be,intervals:[...be.intervals,...e]})},children:oe("addClimbPyramid")})]})]}),be.intervals.length>0&&(0,Te.jsxs)(c.A,{sx:{p:2,mb:3},children:[(0,Te.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Te.jsx)(o.A,{variant:"subtitle1",children:oe("currentIntervals")}),(0,Te.jsx)(b.A,{variant:"outlined",color:"error",size:"small",onClick:()=>fe({...be,intervals:[]}),children:oe("clearAll")})]}),(0,Te.jsx)(I.A,{children:(0,Te.jsxs)(C.A,{size:"small",children:[(0,Te.jsx)(k.A,{children:(0,Te.jsxs)(S.A,{children:[(0,Te.jsx)(T.A,{children:oe("type")}),(0,Te.jsx)(T.A,{align:"right",children:oe("duration")}),(0,Te.jsx)(T.A,{align:"right",children:oe("intensity")}),(0,Te.jsx)(T.A,{children:oe("description")})]})}),(0,Te.jsx)(B.A,{children:be.intervals.map(((e,t)=>(0,Te.jsxs)(S.A,{sx:{backgroundColor:"work"===e.type?"rgba(244, 67, 54, 0.1)":"rest"===e.type?"rgba(76, 175, 80, 0.1)":"warmup"===e.type?"rgba(33, 150, 243, 0.1)":"rgba(255, 152, 0, 0.1)"},children:[(0,Te.jsx)(T.A,{children:"work"===e.type?oe("work"):"rest"===e.type?oe("rest"):"warmup"===e.type?oe("warmup"):oe("cooldown")}),(0,Te.jsxs)(T.A,{align:"right",children:[Math.floor(e.duration/60),":",(e.duration%60).toString().padStart(2,"0")]}),(0,Te.jsxs)(T.A,{align:"right",children:[e.intensity,"% FTP"]}),(0,Te.jsx)(T.A,{children:e.label})]},t)))})]})}),(0,Te.jsx)(s.A,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:(0,Te.jsx)(b.A,{variant:"contained",onClick:()=>{const e=Math.round(calculateTotalDuration(be.intervals)/60);fe({...be,duration:e}),de(3)},children:oe("previewWorkout")})})]})]});case 2:return(0,Te.jsxs)(s.A,{sx:{p:2},children:[(0,Te.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:oe("hiitStats")}),(0,Te.jsxs)(c.A,{sx:{p:3,mb:3},children:[(0,Te.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:oe("benefitsOfHiit")}),(0,Te.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,Te.jsx)(d.Ay,{item:!0,xs:12,md:6,children:(0,Te.jsx)(g.A,{sx:{height:"100%"},children:(0,Te.jsxs)(j.A,{children:[(0,Te.jsx)(o.A,{variant:"h6",color:"primary",gutterBottom:!0,children:oe("effectivenessByDuration")}),(0,Te.jsx)(N.u,{width:"100%",height:250,children:(0,Te.jsxs)(H.E,{data:[{duration:"15min",effectiveness:65,fatigue:40},{duration:"30min",effectiveness:85,fatigue:65},{duration:"45min",effectiveness:95,fatigue:80},{duration:"60min",effectiveness:100,fatigue:95},{duration:"75min",effectiveness:95,fatigue:100}],margin:{top:5,right:30,left:20,bottom:5},children:[(0,Te.jsx)(O.d,{strokeDasharray:"3 3"}),(0,Te.jsx)(Y.W,{dataKey:"duration"}),(0,Te.jsx)(J.h,{}),(0,Te.jsx)(Q.m,{}),(0,Te.jsx)(U.s,{}),(0,Te.jsx)(X.y,{dataKey:"effectiveness",name:oe("trainingImpact"),fill:se.colors.primary}),(0,Te.jsx)(X.y,{dataKey:"fatigue",name:oe("fatigue"),fill:se.colors.secondary})]})})]})})}),(0,Te.jsx)(d.Ay,{item:!0,xs:12,md:6,children:(0,Te.jsx)(g.A,{sx:{height:"100%"},children:(0,Te.jsxs)(j.A,{children:[(0,Te.jsx)(o.A,{variant:"h6",color:"primary",gutterBottom:!0,children:oe("energySystemTargeting")}),(0,Te.jsx)(N.u,{width:"100%",height:250,children:(0,Te.jsxs)(ee.r,{children:[(0,Te.jsx)(te.F,{data:[{name:oe("aerobicSystem"),value:35,color:"#4CAF50"},{name:oe("anaerobicSystem"),value:45,color:"#F44336"},{name:oe("mixedSystem"),value:20,color:"#FF9800"}],cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:i}=e;return`${t}: ${(100*i).toFixed(0)}%`},children:[{name:oe("aerobicSystem"),value:35,color:"#4CAF50"},{name:oe("anaerobicSystem"),value:45,color:"#F44336"},{name:oe("mixedSystem"),value:20,color:"#FF9800"}].map(((e,t)=>(0,Te.jsx)(ie.f,{fill:e.color},`cell-${t}`)))}),(0,Te.jsx)(Q.m,{})]})})]})})})]})]}),(0,Te.jsxs)(c.A,{sx:{p:3},children:[(0,Te.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:oe("workoutCalorieEstimations")}),(0,Te.jsx)(D.A,{severity:"info",sx:{mb:2},children:oe("calorieCalculationNote")}),(0,Te.jsx)(I.A,{children:(0,Te.jsxs)(C.A,{children:[(0,Te.jsx)(k.A,{children:(0,Te.jsxs)(S.A,{children:[(0,Te.jsx)(T.A,{children:oe("workoutType")}),(0,Te.jsxs)(T.A,{align:"right",children:["15 ",oe("minutes")]}),(0,Te.jsxs)(T.A,{align:"right",children:["30 ",oe("minutes")]}),(0,Te.jsxs)(T.A,{align:"right",children:["45 ",oe("minutes")]}),(0,Te.jsxs)(T.A,{align:"right",children:["60+ ",oe("minutes")]})]})}),(0,Te.jsxs)(B.A,{children:[(0,Te.jsxs)(S.A,{children:[(0,Te.jsx)(T.A,{children:(0,Te.jsx)(a.A,{icon:(0,Te.jsx)(L.A,{}),label:"Express",size:"small",sx:{backgroundColor:Ce.express.color,color:"white"}})}),(0,Te.jsx)(T.A,{align:"right",children:"200-250 kcal"}),(0,Te.jsx)(T.A,{align:"right",children:"-"}),(0,Te.jsx)(T.A,{align:"right",children:"-"}),(0,Te.jsx)(T.A,{align:"right",children:"-"})]}),(0,Te.jsxs)(S.A,{children:[(0,Te.jsx)(T.A,{children:(0,Te.jsx)(a.A,{icon:(0,Te.jsx)($.A,{}),label:"Br\xfble-graisse",size:"small",sx:{backgroundColor:Ce.burn.color,color:"white"}})}),(0,Te.jsx)(T.A,{align:"right",children:"250-300 kcal"}),(0,Te.jsx)(T.A,{align:"right",children:"450-550 kcal"}),(0,Te.jsx)(T.A,{align:"right",children:"650-750 kcal"}),(0,Te.jsx)(T.A,{align:"right",children:"800-1000 kcal"})]}),(0,Te.jsxs)(S.A,{children:[(0,Te.jsx)(T.A,{children:(0,Te.jsx)(a.A,{icon:(0,Te.jsx)(_.A,{}),label:"Grimpeur",size:"small",sx:{backgroundColor:Ce.climb.color,color:"white"}})}),(0,Te.jsx)(T.A,{align:"right",children:"-"}),(0,Te.jsx)(T.A,{align:"right",children:"400-500 kcal"}),(0,Te.jsx)(T.A,{align:"right",children:"600-700 kcal"}),(0,Te.jsx)(T.A,{align:"right",children:"800-950 kcal"})]}),(0,Te.jsxs)(S.A,{children:[(0,Te.jsx)(T.A,{children:(0,Te.jsx)(a.A,{icon:(0,Te.jsx)(z.A,{}),label:"Endurance",size:"small",sx:{backgroundColor:Ce.endurance.color,color:"white"}})}),(0,Te.jsx)(T.A,{align:"right",children:"-"}),(0,Te.jsx)(T.A,{align:"right",children:"350-450 kcal"}),(0,Te.jsx)(T.A,{align:"right",children:"550-650 kcal"}),(0,Te.jsx)(T.A,{align:"right",children:"750-900 kcal"})]})]})]})})]})]});case 3:return(0,Te.jsxs)(s.A,{sx:{p:2},children:[(0,Te.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:oe("workoutPreview")}),he||0!==be.intervals.length?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)(d.Ay,{container:!0,spacing:2,sx:{mb:3},children:[(0,Te.jsx)(d.Ay,{item:!0,xs:12,md:8,children:(0,Te.jsxs)(c.A,{elevation:2,sx:{p:2,bgcolor:"background.paper"},children:[(0,Te.jsx)(o.A,{variant:"h6",children:he?he.name:be.name||oe("customWorkout")}),(0,Te.jsx)(o.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:he?he.description:be.description||oe("noDescription")}),(0,Te.jsxs)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[(0,Te.jsx)(a.A,{icon:(0,Te.jsx)(R.A,{}),label:`${Math.round((he?calculateTotalDuration(he.intervals):calculateTotalDuration(be.intervals))/60)} min`,size:"small",color:"primary",variant:"outlined"}),(0,Te.jsx)(a.A,{icon:(0,Te.jsx)(V.A,{}),label:null===(e=Me.find((e=>e.value===(he?he.targetSystem:be.targetSystem))))||void 0===e?void 0:e.label,size:"small",sx:{bgcolor:null===(t=Me.find((e=>e.value===(he?he.targetSystem:be.targetSystem))))||void 0===t?void 0:t.color,color:"white"}}),(0,Te.jsx)(a.A,{icon:(0,Te.jsx)(G.A,{}),label:`${oe("intensity")}: ${Math.round(Ge(he?he.intervals:be.intervals).avgIntensity)}%`,size:"small",variant:"outlined",color:"secondary"}),(0,Te.jsx)(a.A,{icon:(0,Te.jsx)($.A,{}),label:`TSS: ${Ge(he?he.intervals:be.intervals).tss}`,size:"small",variant:"outlined",color:"error"})]})]})}),(0,Te.jsx)(d.Ay,{item:!0,xs:12,md:4,children:(0,Te.jsxs)(c.A,{elevation:2,sx:{p:2,height:"100%"},children:[(0,Te.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:oe("workoutStats")}),ue?(0,Te.jsx)(l.A,{}):(0,Te.jsxs)(List,{dense:!0,children:[(0,Te.jsx)(ListItem,{children:(0,Te.jsx)(ListItemText,{primary:oe("totalDuration"),secondary:`${Math.round((he?calculateTotalDuration(he.intervals):calculateTotalDuration(be.intervals))/60)} ${oe("minutes")}`})}),(0,Te.jsx)(ListItem,{children:(0,Te.jsx)(ListItemText,{primary:oe("workToRestRatio"),secondary:Math.round(Ge(he?he.intervals:be.intervals).workDuration/Ge(he?he.intervals:be.intervals).restDuration*10)/10+":1"})}),(0,Te.jsx)(ListItem,{children:(0,Te.jsx)(ListItemText,{primary:oe("avgIntensity"),secondary:`${Math.round(Ge(he?he.intervals:be.intervals).avgIntensity)}% FTP`})}),(0,Te.jsx)(ListItem,{children:(0,Te.jsx)(ListItemText,{primary:oe("normalizedIntensity"),secondary:`${Ge(he?he.intervals:be.intervals).normalizedIntensity}% FTP`})}),(0,Te.jsx)(ListItem,{children:(0,Te.jsx)(ListItemText,{primary:oe("tssLabel"),secondary:(0,Te.jsx)(P.A,{title:oe("tssExplanation"),children:(0,Te.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,Te.jsx)("span",{children:Ge(he?he.intervals:be.intervals).tss}),(0,Te.jsx)(q.A,{fontSize:"small",color:"action",sx:{ml:1}})]})})})})]})]})})]}),(0,Te.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,Te.jsxs)(d.Ay,{item:!0,xs:12,md:7,children:[(0,Te.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:oe("intensityProfile")}),(0,Te.jsx)(N.u,{width:"100%",height:300,children:(0,Te.jsxs)(ne.b,{data:Be,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Te.jsx)(O.d,{strokeDasharray:"3 3"}),(0,Te.jsx)(Y.W,{dataKey:"time",label:{value:oe("time"),position:"insideBottomRight",offset:-10}}),(0,Te.jsx)(J.h,{label:{value:oe("intensity"),angle:-90,position:"insideLeft"},domain:[0,e=>Math.max(120,e)]}),(0,Te.jsx)(P.A,{formatter:e=>[`${e}% FTP`,oe("intensity")]}),(0,Te.jsx)(U.s,{}),(0,Te.jsx)(ReferenceLine,{y:100,stroke:"red",strokeDasharray:"3 3",label:{value:"FTP",position:"right"}}),(0,Te.jsx)(ReferenceLine,{y:90,stroke:"#ff9800",strokeDasharray:"3 3",label:{value:"90%",position:"right"}}),(0,Te.jsx)(ReferenceLine,{y:75,stroke:"#4caf50",strokeDasharray:"3 3",label:{value:"75%",position:"right"}}),(0,Te.jsx)(re.N,{type:"stepAfter",dataKey:"intensity",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:8}})]})})]}),(0,Te.jsxs)(d.Ay,{item:!0,xs:12,md:5,children:[(0,Te.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:oe("zoneDistribution")}),(0,Te.jsx)(N.u,{width:"100%",height:300,children:(0,Te.jsxs)(ee.r,{children:[(0,Te.jsx)(te.F,{data:Ge(he?he.intervals:be.intervals).intensityDistribution,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:i,time:n}=e;return`${t}: ${(100*i).toFixed(0)}% (${n})`},children:Ge(he?he.intervals:be.intervals).intensityDistribution.map(((e,t)=>(0,Te.jsx)(ie.f,{fill:"Z1"===e.name?"#4fc3f7":"Z2"===e.name?"#4caf50":"Z3"===e.name?"#ff9800":"Z4"===e.name?"#f44336":"Z5"===e.name?"#9c27b0":"#e91e63"},`cell-${t}`)))}),(0,Te.jsx)(P.A,{formatter:(e,t,i)=>[`${e} min (${i.payload.time})`,t]}),(0,Te.jsx)(U.s,{})]})})]})]}),(0,Te.jsx)(d.Ay,{container:!0,spacing:3,children:(0,Te.jsxs)(d.Ay,{item:!0,xs:12,md:7,children:[(0,Te.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:oe("intervalStructure")}),(0,Te.jsx)(I.A,{component:c.A,children:(0,Te.jsxs)(C.A,{size:"small",children:[(0,Te.jsx)(k.A,{children:(0,Te.jsxs)(S.A,{children:[(0,Te.jsx)(T.A,{children:oe("type")}),(0,Te.jsx)(T.A,{align:"right",children:oe("duration")}),(0,Te.jsx)(T.A,{align:"right",children:oe("intensity")}),(0,Te.jsx)(T.A,{children:oe("description")})]})}),(0,Te.jsx)(B.A,{children:(he?he.intervals:be.intervals).map(((e,t)=>(0,Te.jsxs)(S.A,{sx:{backgroundColor:"work"===e.type?"rgba(244, 67, 54, 0.1)":"rest"===e.type?"rgba(76, 175, 80, 0.1)":"warmup"===e.type?"rgba(33, 150, 243, 0.1)":"rgba(255, 152, 0, 0.1)"},children:[(0,Te.jsx)(T.A,{children:"work"===e.type?oe("work"):"rest"===e.type?oe("rest"):"warmup"===e.type?oe("warmup"):oe("cooldown")}),(0,Te.jsxs)(T.A,{align:"right",children:[Math.floor(e.duration/60),":",(e.duration%60).toString().padStart(2,"0")]}),(0,Te.jsxs)(T.A,{align:"right",children:[e.intensity,"% FTP"]}),(0,Te.jsx)(T.A,{children:e.label})]},t)))})]})})]})}),(0,Te.jsx)(s.A,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:(0,Te.jsx)(b.A,{variant:"contained",color:"primary",startIcon:(0,Te.jsx)(K.A,{}),onClick:()=>(e=>{if(i){const t={...e,id:e.id||`custom-${Date.now()}`,createdAt:(new Date).toISOString(),stats:Ge(e.intervals),calories:e.caloriesBurned||Ge(e.intervals).calories};i(t),le({message:oe("workoutSaved",{name:e.name}),severity:"success"})}})(he||be),children:oe("saveWorkout")})})]}):(0,Te.jsx)(D.A,{severity:"info",sx:{mb:2},children:oe("selectOrCreateWorkout")})]})}})(),(0,Te.jsx)(De,{userProfile:t,onCalorieSettingsChange:e=>{if($e(e),t&&t.id)try{console.log("Sauvegarde des pr\xe9f\xe9rences calorig\xe8nes:",e),le(oe("caloriePreferencesSaved"),"success")}catch(i){console.error("Erreur lors de la sauvegarde des pr\xe9f\xe9rences:",i),le(oe("errorSavingPreferences"),"error")}ze(!0)},open:Fe,onClose:()=>We(!1)})]})}}}]);
//# sourceMappingURL=7052.3d0827e9.chunk.js.map