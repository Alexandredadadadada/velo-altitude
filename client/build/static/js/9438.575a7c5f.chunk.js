"use strict";(self.webpackChunkgrand_est_cyclisme_client=self.webpackChunkgrand_est_cyclisme_client||[]).push([[9438],{79438:(e,t,i)=>{i.r(t),i.d(t,{default:()=>me});var a=i(65043),n=i(16662),s=i(34535),r=i(74117),l=i(83910),o=i(97929),c=i(96446),d=i(81637),m=i(85865),x=i(8939),h=i(12110),u=i(63336),j=i(24056),A=i(19252),p=i(88312),y=i(68903),v=i(26494),g=i(81045),b=i(39336),f=i(14194),k=i(49193),w=i(45577),C=i(34372),S=i(79958),z=i(17392),B=i(43845),I=i(42518),N=i(36591),D=i(27600),_=i(18483),P=i(90035),R=i(26600),$=i(35316),E=i(67784),W=i(29347),L=i(8729),M=i(86213),V=i(58558),T=i(28267),q=i(21665),F=i(93637),U=i(69131),J=i(78831),H=i(65751),K=i(43817),G=i(95874),O=i(38248),Y=i(86252),Q=i(64218),X=i(23294),Z=i(70579);const ee=(0,s.Ay)(h.A)((e=>{let{theme:t}=e;return{marginBottom:t.spacing(2),transition:"transform 0.2s ease","&:hover":{transform:"translateY(-2px)",boxShadow:t.shadows[4]}}})),te={hidden:{opacity:0,y:20},visible:e=>({opacity:1,y:0,transition:{delay:.1*e,duration:.3}})},ie=e=>{let{limit:t=10,filter:i="all"}=e;const[n,s]=(0,a.useState)([]),[r,l]=(0,a.useState)(!0),[o,x]=(0,a.useState)(1),[h,j]=(0,a.useState)(!0),[A,y]=(0,a.useState)(""),[b,f]=(0,a.useState)(!1),[k,C]=(0,a.useState)(null),[ie,ae]=(0,a.useState)(!1),{user:ne,token:se}=(0,L.As)(),{notify:re}=(0,w.hN)(),le=(0,a.useCallback)((()=>({headers:{Authorization:`Bearer ${se}`}})),[se]),oe=(0,a.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{l(!0);const n=await M.A.get("/api/community/activity-feed",{...le(),params:{limit:t,page:e,filter:i}});(!n.data||0===n.data.length||n.data.length<t)&&j(!1);const r=n.data.map((e=>{let t={id:e._id,type:e.type,user:{id:e.userId._id,name:`${e.userId.firstName} ${e.userId.lastName}`,avatar:e.userId.profilePicture||"https://via.placeholder.com/40"},title:"",content:"",likes:e.kudosCount||0,comments:e.commentCount||0,hasLiked:e.hasGivenKudos||!1,timestamp:e.createdAt};switch(e.type){case"ride":t.title=e.data.title||"Nouvelle sortie v\xe9lo",t.content=e.data.description||"",t.stats={distance:e.data.distance||0,elevation:e.data.elevation||0,duration:e.data.duration?`${Math.floor(e.data.duration/60)}h ${e.data.duration%60}m`:"0h 0m",power:e.data.power||0},t.images=e.data.images||[],t.location=e.data.location||"";break;case"comment":t.title="A comment\xe9 une activit\xe9",t.content=e.data.comment||"",t.targetActivity=e.data.activityId;break;case"event_join":t.title="Participe \xe0 un \xe9v\xe9nement",t.event={id:e.data.eventId,name:e.data.eventName||"\xc9v\xe9nement",date:e.data.eventDate,location:e.data.eventLocation||"",distance:e.data.eventDistance||0,participants:e.data.participantCount||0};break;case"achievement":t.title="A obtenu un nouvel accomplissement",t.achievement={name:e.data.achievementName||"Accomplissement",improvement:e.data.improvement||"",position:e.data.position||""};break;case"challenge_completion":t.title="A termin\xe9 un d\xe9fi",t.challenge={name:e.data.challengeName||"D\xe9fi",completed:!0,totalDistance:e.data.totalDistance||0,totalElevation:e.data.totalElevation||0};break;case"follow":t.title="Suit un nouveau cycliste",t.followedUser={id:e.data.followedUserId,name:e.data.followedUserName||"Cycliste"};break;case"kudos":t.title="A aim\xe9 une activit\xe9",t.targetActivity=e.data.activityId;break;default:t.title="Nouvelle activit\xe9",t.content=""}return t}));s(a?r:e=>[...e,...r]),x(e),l(!1)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des activit\xe9s:",n),re({type:"error",message:"Impossible de charger les activit\xe9s. Veuillez r\xe9essayer."}),l(!1)}}),[le,t,i,re]);(0,a.useEffect)((()=>{ne&&se&&oe(1,!0)}),[oe,ne,se,i]);const ce=()=>{f(!1),C(null),y("")},de=e=>{if(!e)return"";try{const t="string"===typeof e?(0,Y.H)(e):new Date(e);return(0,Q.B)(t,new Date,{addSuffix:!0,locale:X.fr})}catch(t){return console.error("Erreur de formatage de date:",t),""}};return(0,Z.jsxs)(c.A,{children:[r&&0===n.length?(0,Z.jsx)(c.A,{children:Array.from(new Array(3)).map(((e,t)=>(0,Z.jsxs)(u.A,{sx:{p:2,mb:2},children:[(0,Z.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Z.jsx)(p.A,{variant:"circular",width:40,height:40}),(0,Z.jsxs)(c.A,{sx:{ml:2},children:[(0,Z.jsx)(p.A,{variant:"text",width:120}),(0,Z.jsx)(p.A,{variant:"text",width:80})]})]}),(0,Z.jsx)(p.A,{variant:"text"}),(0,Z.jsx)(p.A,{variant:"text"}),(0,Z.jsx)(p.A,{variant:"rectangular",height:200,sx:{my:2}}),(0,Z.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,Z.jsx)(p.A,{variant:"text",width:60}),(0,Z.jsx)(p.A,{variant:"text",width:60}),(0,Z.jsx)(p.A,{variant:"text",width:60})]})]},t)))}):(0,Z.jsx)(c.A,{children:0===n.length?(0,Z.jsxs)(u.A,{sx:{p:3,textAlign:"center"},children:[(0,Z.jsx)(m.A,{variant:"h6",color:"text.secondary",children:"Aucune activit\xe9 \xe0 afficher pour le moment"}),(0,Z.jsx)(m.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Suivez plus de cyclistes ou rejoignez des d\xe9fis pour voir leur activit\xe9 ici."})]}):(0,Z.jsxs)(c.A,{children:[n.map(((e,t)=>(0,Z.jsx)(c.A,{component:O.P.div,variants:te,initial:"hidden",animate:"visible",custom:t,children:(0,Z.jsxs)(ee,{children:[(0,Z.jsx)(S.A,{avatar:(0,Z.jsx)(g.A,{src:e.user.avatar,alt:e.user.name,children:e.user.name.charAt(0)}),action:(0,Z.jsx)(z.A,{"aria-label":"settings",children:(0,Z.jsx)(V.A,{})}),title:(0,Z.jsx)(m.A,{variant:"subtitle1",component:"span",children:e.user.name}),subheader:(0,Z.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",mt:.5},children:["ride"===e.type&&(0,Z.jsx)(T.A,{fontSize:"small",color:"primary",sx:{mr:.5}}),"achievement"===e.type&&(0,Z.jsx)(q.A,{fontSize:"small",color:"secondary",sx:{mr:.5}}),"event_join"===e.type&&(0,Z.jsx)(F.A,{fontSize:"small",color:"info",sx:{mr:.5}}),(0,Z.jsxs)(m.A,{variant:"body2",color:"text.secondary",children:[e.title," \u2022 ",de(e.timestamp)]})]})}),(0,Z.jsxs)(v.A,{sx:{py:1},children:[e.content&&(0,Z.jsx)(m.A,{variant:"body1",component:"p",sx:{mb:2},children:e.content}),"ride"===e.type&&e.stats&&(0,Z.jsxs)(c.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,my:2},children:[(0,Z.jsx)(B.A,{icon:(0,Z.jsx)(T.A,{}),label:`${e.stats.distance} km`,size:"small",color:"primary",variant:"outlined"}),(0,Z.jsx)(B.A,{icon:(0,Z.jsx)(U.A,{}),label:e.stats.duration,size:"small",color:"primary",variant:"outlined"}),(0,Z.jsx)(B.A,{label:`${e.stats.elevation} m D+`,size:"small",color:"primary",variant:"outlined"}),e.stats.power>0&&(0,Z.jsx)(B.A,{label:`${e.stats.power} W`,size:"small",color:"primary",variant:"outlined"}),e.location&&(0,Z.jsx)(B.A,{icon:(0,Z.jsx)(F.A,{}),label:e.location,size:"small",color:"secondary",variant:"outlined"})]}),"achievement"===e.type&&e.achievement&&(0,Z.jsxs)(c.A,{sx:{p:2,bgcolor:"warning.light",borderRadius:1,mb:2,border:1,borderColor:"warning.main"},children:[(0,Z.jsx)(m.A,{variant:"subtitle2",color:"warning.dark",children:e.achievement.name}),e.achievement.improvement&&(0,Z.jsxs)(m.A,{variant:"body2",color:"text.secondary",children:["Am\xe9lioration: ",e.achievement.improvement]}),e.achievement.position&&(0,Z.jsxs)(m.A,{variant:"body2",color:"text.secondary",children:["Classement: ",e.achievement.position]})]}),"event_join"===e.type&&e.event&&(0,Z.jsxs)(c.A,{sx:{p:2,bgcolor:"info.light",borderRadius:1,mb:2},children:[(0,Z.jsx)(m.A,{variant:"subtitle2",color:"info.dark",children:e.event.name}),(0,Z.jsxs)(m.A,{variant:"body2",color:"text.secondary",children:[new Date(e.event.date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," \u2022 ",new Date(e.event.date).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]}),(0,Z.jsxs)(m.A,{variant:"body2",children:[e.event.location," \u2022 ",e.event.distance," km \u2022 ",e.event.participants," participants"]}),(0,Z.jsx)(I.A,{variant:"contained",size:"small",sx:{mt:1,bgcolor:"primary.dark","&:hover":{bgcolor:"primary.main"}},children:"S'inscrire"})]}),"challenge_completion"===e.type&&e.challenge&&(0,Z.jsxs)(c.A,{sx:{p:2,bgcolor:"secondary.light",color:"secondary.contrastText",borderRadius:1,mb:2},children:[(0,Z.jsxs)(m.A,{variant:"subtitle2",children:[e.challenge.name," ",e.challenge.completed?"\u2713":""]}),(0,Z.jsxs)(m.A,{variant:"body2",children:[e.challenge.totalDistance," km \u2022 ",e.challenge.totalElevation," m D+"]})]})]}),e.images&&e.images.length>0&&(0,Z.jsx)(N.A,{component:"img",height:"240",image:e.images[0],alt:e.title,sx:{objectFit:"cover"}}),(0,Z.jsxs)(D.A,{disableSpacing:!0,children:[(0,Z.jsx)(_.A,{title:e.hasLiked?"Je n'aime plus":"J'aime",children:(0,Z.jsx)(z.A,{"aria-label":"like",onClick:()=>(async e=>{try{const t=n.find((t=>t.id===e));if(!t)return;const i=t.hasLiked;s((t=>t.map((t=>t.id===e?{...t,hasLiked:!i,likes:i?t.likes-1:t.likes+1}:t)))),i?await M.A.delete(`/api/community/activity/${e}/kudos`,le()):await M.A.post(`/api/community/activity/${e}/kudos`,{},le())}catch(t){console.error("Erreur lors de la gestion du like:",t),re({type:"error",message:"Une erreur est survenue. Veuillez r\xe9essayer."}),oe(o,!0)}})(e.id),color:e.hasLiked?"primary":"default",children:(0,Z.jsx)(J.A,{})})}),(0,Z.jsx)(m.A,{variant:"body2",color:"text.secondary",sx:{mr:2},children:e.likes}),(0,Z.jsx)(_.A,{title:"Commenter",children:(0,Z.jsx)(z.A,{"aria-label":"comment",onClick:()=>{return t=e.id,C(t),y(""),void f(!0);var t},children:(0,Z.jsx)(H.A,{})})}),(0,Z.jsx)(m.A,{variant:"body2",color:"text.secondary",sx:{mr:2},children:e.comments}),(0,Z.jsx)(_.A,{title:"Partager",children:(0,Z.jsx)(z.A,{"aria-label":"share",children:(0,Z.jsx)(K.A,{})})})]})]})},e.id))),h&&(0,Z.jsx)(c.A,{display:"flex",justifyContent:"center",mt:2,mb:4,children:(0,Z.jsx)(I.A,{variant:"outlined",onClick:async()=>{!r&&h&&await oe(o+1,!1)},disabled:r,startIcon:r&&(0,Z.jsx)(d.A,{size:16}),children:r?"Chargement...":"Voir plus d'activit\xe9s"})})]})}),(0,Z.jsxs)(P.A,{open:b,onClose:ce,fullWidth:!0,maxWidth:"sm",children:[(0,Z.jsx)(R.A,{children:"Ajouter un commentaire"}),(0,Z.jsx)($.A,{children:(0,Z.jsx)(E.A,{autoFocus:!0,multiline:!0,rows:4,margin:"dense",label:"Votre commentaire",fullWidth:!0,variant:"outlined",value:A,onChange:e=>y(e.target.value)})}),(0,Z.jsxs)(W.A,{children:[(0,Z.jsx)(I.A,{onClick:ce,color:"primary",children:"Annuler"}),(0,Z.jsx)(I.A,{onClick:async()=>{if(A.trim()&&k)try{ae(!0),await M.A.post(`/api/community/activity/${k}/comment`,{content:A.trim()},le()),s((e=>e.map((e=>e.id===k?{...e,comments:e.comments+1}:e)))),re({type:"success",message:"Commentaire ajout\xe9 avec succ\xe8s"}),ce()}catch(e){console.error("Erreur lors de l'ajout du commentaire:",e),re({type:"error",message:"Impossible d'ajouter le commentaire. Veuillez r\xe9essayer."})}finally{ae(!1)}},color:"primary",variant:"contained",disabled:!A.trim()||ie,startIcon:ie?(0,Z.jsx)(d.A,{size:16}):(0,Z.jsx)(G.A,{}),children:"Publier"})]})]})]})},ae=(0,a.lazy)((()=>Promise.all([i.e(3691),i.e(3813)]).then(i.bind(i,53813)))),ne=(0,a.lazy)((()=>i.e(4284).then(i.bind(i,4284)))),se=(0,a.lazy)((()=>i.e(3639).then(i.bind(i,26020)))),re=()=>(0,Z.jsxs)(c.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",p:4},children:[(0,Z.jsx)(d.A,{}),(0,Z.jsx)(m.A,{variant:"body2",sx:{ml:2},children:"Chargement en cours..."})]}),le=(0,s.Ay)(x.A)((e=>{let{theme:t}=e;return{borderBottom:`1px solid ${t.palette.divider}`,"& .MuiTabs-indicator":{backgroundColor:t.palette.primary.main,height:3}}})),oe=(0,s.Ay)("div")((e=>{let{theme:t}=e;return{padding:t.spacing(2),borderBottom:`1px solid ${t.palette.divider}`,backgroundColor:t.palette.background.default}})),ce=((0,s.Ay)(h.A)((e=>{let{theme:t,joined:i}=e;return{marginBottom:t.spacing(2),border:i?`1px solid ${t.palette.success.main}`:`1px solid ${t.palette.divider}`,"&:hover":{boxShadow:t.shadows[3]},position:"relative","&::before":i?{content:'""',position:"absolute",top:0,left:0,width:"4px",height:"100%",backgroundColor:t.palette.success.main}:{}}})),(0,a.memo)((function(){const e=(0,n.zy)(),{t:t}=(0,r.Bd)(),{isFeatureEnabled:i}=(0,k.nr)(),a=e=>`/community${e}`,s=t=>e.pathname===a(t)||""===t&&"/community"===e.pathname||""!==t&&e.pathname.startsWith(a(t));return(0,Z.jsx)(u.A,{elevation:0,sx:{mb:3},children:(0,Z.jsxs)(le,{value:s("")?0:s("/events")?1:s("/challenges")?2:s("/region")?3:0,"aria-label":"Navigation du tableau de bord communautaire",children:[(0,Z.jsx)(j.A,{icon:(0,Z.jsx)(l.g,{icon:o.v02}),iconPosition:"start",label:"Vue d'ensemble",component:n.N_,to:a(""),"aria-label":"Vue d'ensemble de la communaut\xe9"}),(0,Z.jsx)(j.A,{icon:(0,Z.jsx)(l.g,{icon:o.BEE}),iconPosition:"start",label:"\xc9v\xe9nements",component:n.N_,to:a("/events"),"aria-label":"\xc9v\xe9nements cyclistes \xe0 venir"}),i("enableMonthlyChallenge")&&(0,Z.jsx)(j.A,{icon:(0,Z.jsx)(l.g,{icon:o.iHh}),iconPosition:"start",label:"D\xe9fis",component:n.N_,to:a("/challenges"),"aria-label":"D\xe9fis cyclistes"}),(0,Z.jsx)(j.A,{icon:(0,Z.jsx)(l.g,{icon:o.Bgr}),iconPosition:"start",label:"R\xe9gion",component:n.N_,to:a("/region"),"aria-label":"Informations sur votre r\xe9gion"})]})})}))),de=(0,a.memo)((e=>{let{userProfile:t,communityStats:i}=e;const{t:n}=(0,r.Bd)(),{isFeatureEnabled:s}=(0,k.nr)();return(0,Z.jsxs)(y.Ay,{container:!0,spacing:4,children:[(0,Z.jsx)(y.Ay,{item:!0,lg:4,children:(0,Z.jsx)(h.A,{children:(0,Z.jsxs)(v.A,{children:[(0,Z.jsxs)(c.A,{display:"flex",flexDirection:"column",alignItems:"center",sx:{mb:2},children:[(0,Z.jsx)(g.A,{src:t.avatar,alt:t.fullName,sx:{width:80,height:80,mb:2}}),(0,Z.jsx)(m.A,{variant:"h6",component:"h2",children:t.fullName}),(0,Z.jsxs)(m.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["@",t.username]}),(0,Z.jsxs)(c.A,{display:"flex",sx:{mt:1},children:[(0,Z.jsxs)(c.A,{sx:{textAlign:"center",mr:3},children:[(0,Z.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Abonn\xe9s"}),(0,Z.jsx)(m.A,{variant:"h6",children:t.followers})]}),(0,Z.jsxs)(c.A,{sx:{textAlign:"center"},children:[(0,Z.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Abonnements"}),(0,Z.jsx)(m.A,{variant:"h6",children:t.following})]})]})]}),(0,Z.jsx)(b.A,{sx:{my:2}}),(0,Z.jsxs)(c.A,{children:[(0,Z.jsxs)(c.A,{display:"flex",justifyContent:"space-between",sx:{mb:1},children:[(0,Z.jsx)(m.A,{variant:"body2",children:"R\xe9gion"}),(0,Z.jsx)(m.A,{variant:"body2",fontWeight:"bold",children:t.region})]}),(0,Z.jsxs)(c.A,{display:"flex",justifyContent:"space-between",sx:{mb:1},children:[(0,Z.jsx)(m.A,{variant:"body2",children:"Niveau"}),(0,Z.jsx)(m.A,{variant:"body2",fontWeight:"bold",children:t.level})]}),(0,Z.jsxs)(c.A,{display:"flex",justifyContent:"space-between",sx:{mb:1},children:[(0,Z.jsx)(m.A,{variant:"body2",children:"Points"}),(0,Z.jsx)(m.A,{variant:"body2",fontWeight:"bold",children:t.points})]}),(0,Z.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,Z.jsx)(m.A,{variant:"body2",children:"R\xe9ussites"}),(0,Z.jsx)(m.A,{variant:"body2",fontWeight:"bold",children:t.achievementCount})]})]})]})})}),(0,Z.jsx)(y.Ay,{item:!0,lg:8,children:(0,Z.jsxs)(h.A,{children:[(0,Z.jsx)(oe,{title:(0,Z.jsxs)(m.A,{variant:"h6",component:"h2",sx:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(l.g,{icon:o.gdJ,style:{marginRight:"8px"}}),"Statistiques communautaires"]})}),(0,Z.jsxs)(v.A,{children:[(0,Z.jsxs)(y.Ay,{container:!0,spacing:2,children:[(0,Z.jsx)(y.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,Z.jsxs)(c.A,{sx:{textAlign:"center",p:1},children:[(0,Z.jsx)(l.g,{icon:o.O26,size:"2x",style:{color:"#3f51b5",marginBottom:"8px"}}),(0,Z.jsx)(m.A,{variant:"h6",children:i.totalMembers}),(0,Z.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Membres"})]})}),(0,Z.jsx)(y.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,Z.jsxs)(c.A,{sx:{textAlign:"center",p:1},children:[(0,Z.jsx)(l.g,{icon:o.N6U,size:"2x",style:{color:"#4caf50",marginBottom:"8px"}}),(0,Z.jsx)(m.A,{variant:"h6",children:i.activeMembers}),(0,Z.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Actifs ce mois"})]})}),(0,Z.jsx)(y.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,Z.jsxs)(c.A,{sx:{textAlign:"center",p:1},children:[(0,Z.jsx)(l.g,{icon:o.iHh,size:"2x",style:{color:"#ff9800",marginBottom:"8px"}}),(0,Z.jsx)(m.A,{variant:"h6",children:i.activeChallenges}),(0,Z.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"D\xe9fis actifs"})]})}),(0,Z.jsx)(y.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,Z.jsxs)(c.A,{sx:{textAlign:"center",p:1},children:[(0,Z.jsx)(l.g,{icon:o.LPI,size:"2x",style:{color:"#f44336",marginBottom:"8px"}}),(0,Z.jsx)(m.A,{variant:"h6",children:i.yourRank}),(0,Z.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Votre classement"})]})})]}),(0,Z.jsx)(b.A,{sx:{my:3}}),(0,Z.jsx)(m.A,{variant:"subtitle1",component:"h3",gutterBottom:!0,children:"Activit\xe9 hebdomadaire"}),(0,Z.jsx)(c.A,{sx:{mt:2},children:(0,Z.jsx)(y.Ay,{container:!0,spacing:1,children:i.weeklyActivity.map(((e,t)=>(0,Z.jsxs)(y.Ay,{item:!0,xs:!0,children:[(0,Z.jsx)(c.A,{sx:{height:"100px",position:"relative"},children:(0,Z.jsx)(c.A,{sx:{position:"absolute",bottom:0,left:0,right:0,height:e/Math.max(...i.weeklyActivity)*100+"%",backgroundColor:"primary.main",borderTopLeftRadius:"4px",borderTopRightRadius:"4px"}})}),(0,Z.jsx)(m.A,{variant:"body2",align:"center",sx:{mt:1},children:["L","M","M","J","V","S","D"][t]})]},t)))})}),s("enableRealTimeWeather")&&(0,Z.jsx)(c.A,{mt:3,children:(0,Z.jsx)(f.A,{severity:"info",children:"Pr\xe9visions m\xe9t\xe9o pour cyclistes disponibles. Consultez la section R\xe9gion pour plus de d\xe9tails."})})]})]})}),(0,Z.jsx)(y.Ay,{item:!0,lg:12,children:(0,Z.jsxs)(h.A,{children:[(0,Z.jsx)(oe,{title:(0,Z.jsxs)(m.A,{variant:"h6",component:"h2",sx:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(l.g,{icon:o.gK3,style:{marginRight:"8px"}}),"Activit\xe9s de la communaut\xe9"]})}),(0,Z.jsx)(v.A,{children:(0,Z.jsx)(ie,{limit:5})})]})}),(0,Z.jsx)(y.Ay,{item:!0,lg:12,children:(0,Z.jsx)(a.Suspense,{fallback:(0,Z.jsx)(p.A,{variant:"rectangular",height:350}),children:(0,Z.jsx)(ae,{})})})]})})),me=()=>{const{t:e}=(0,r.Bd)(),{userProfile:t,communityStats:i,loading:s}=(0,k.nr)(),{notify:l}=(0,w.hN)(),{isEnabled:o}=(0,C.h)();return s?(0,Z.jsxs)(A.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,Z.jsx)(m.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Tableau de bord communautaire"}),(0,Z.jsx)(u.A,{sx:{p:2,mb:3},children:(0,Z.jsx)(p.A,{variant:"rectangular",height:150})}),(0,Z.jsxs)(y.Ay,{container:!0,spacing:3,children:[(0,Z.jsx)(y.Ay,{item:!0,xs:12,md:8,children:(0,Z.jsx)(p.A,{variant:"rectangular",height:350})}),(0,Z.jsx)(y.Ay,{item:!0,xs:12,md:4,children:(0,Z.jsx)(p.A,{variant:"rectangular",height:350})})]})]}):(0,Z.jsxs)(A.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,Z.jsx)(m.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Tableau de bord communautaire"}),(0,Z.jsx)(ce,{}),(0,Z.jsxs)(n.BV,{children:[(0,Z.jsx)(n.qh,{path:"/",element:(0,Z.jsx)(de,{userProfile:t,communityStats:i})}),(0,Z.jsx)(n.qh,{path:"/events",element:(0,Z.jsx)(a.Suspense,{fallback:(0,Z.jsx)(re,{}),children:(0,Z.jsx)(ae,{})})}),o("enableMonthlyChallenge")&&(0,Z.jsx)(n.qh,{path:"/challenges",element:(0,Z.jsx)(a.Suspense,{fallback:(0,Z.jsx)(re,{}),children:(0,Z.jsx)(ne,{})})}),(0,Z.jsx)(n.qh,{path:"/region",element:(0,Z.jsx)(a.Suspense,{fallback:(0,Z.jsx)(re,{}),children:(0,Z.jsx)(se,{})})}),(0,Z.jsx)(n.qh,{path:"*",element:(0,Z.jsx)(n.C5,{to:"/community",replace:!0})})]})]})}}}]);
//# sourceMappingURL=9438.575a7c5f.chunk.js.map