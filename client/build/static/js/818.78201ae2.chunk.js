"use strict";(self.webpackChunkgrand_est_cyclisme_client=self.webpackChunkgrand_est_cyclisme_client||[]).push([[818],{14844:(e,r,s)=>{s.r(r),s.d(r,{default:()=>Q});var n=s(65043),t=s(96446),i=s(19252),o=s(85865),a=s(39336),l=s(14194),c=s(58168),d=s(98587),u=s(58387),h=s(98610),m=s(34535),x=s(98206),A=s(92532),p=s(72372);function v(e){return(0,p.Ay)("MuiAlertTitle",e)}(0,A.A)("MuiAlertTitle",["root"]);var j=s(70579);const g=["className"],y=(0,m.Ay)(o.A,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,r)=>r.root})((e=>{let{theme:r}=e;return{fontWeight:r.typography.fontWeightMedium,marginTop:-2}})),f=n.forwardRef((function(e,r){const s=(0,x.b)({props:e,name:"MuiAlertTitle"}),{className:n}=s,t=(0,d.A)(s,g),i=s,o=(e=>{const{classes:r}=e;return(0,h.A)({root:["root"]},v,r)})(i);return(0,j.jsx)(y,(0,c.A)({gutterBottom:!0,component:"div",ownerState:i,ref:r,className:(0,u.A)(o.root,n)},t))}));var b=s(63336),S=s(66734);const C=(0,S.A)((0,j.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport");var E=s(93003),w=s(68903),M=s(53193),k=s(79190),z=s(69285),B=s(32143),H=s(67784),q=s(12110),N=s(26494),_=s(81637),I=s(27600),T=s(42518),L=s(85225),R=s(93234);const D=(0,S.A)((0,j.jsx)("path",{d:"M15.9 5c-.17 0-.32.09-.41.23l-.07.15-5.18 11.65c-.16.29-.26.61-.26.96 0 1.11.9 2.01 2.01 2.01.96 0 1.77-.68 1.96-1.59l.01-.03L16.4 5.5c0-.28-.22-.5-.5-.5M1 9l2 2c2.88-2.88 6.79-4.08 10.53-3.62l1.19-2.68C9.89 3.84 4.74 5.27 1 9m20 2 2-2c-1.64-1.64-3.55-2.82-5.59-3.57l-.53 2.82c1.5.62 2.9 1.53 4.12 2.75m-4 4 2-2c-.8-.8-1.7-1.42-2.66-1.89l-.55 2.92c.42.27.83.59 1.21.97M5 13l2 2c1.13-1.13 2.56-1.79 4.03-2l1.28-2.88c-2.63-.08-5.3.87-7.31 2.88"}),"NetworkCheck"),P=(0,S.A)((0,j.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),V=(0,S.A)([(0,j.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),(0,j.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber");var W=s(75456),U=s(15896),$=s(62382),G=s(45577);const O=()=>{const e=(void 0).toString();return(0,j.jsx)("div",{children:e})},F=()=>((0,n.useEffect)((()=>{const e=setTimeout((()=>{throw new Error("Erreur g\xe9n\xe9r\xe9e apr\xe8s un d\xe9lai")}),2e3);return()=>clearTimeout(e)}),[]),(0,j.jsx)(o.A,{children:"Ce composant va g\xe9n\xe9rer une erreur apr\xe8s 2 secondes..."})),J=()=>{const{handleApiRequest:e,tryCatch:r,handleError:s}=(0,$.A)(),{notify:i}=(0,G.hN)(),[c,d]=(0,n.useState)("validation_error"),[u,h]=(0,n.useState)("Erreur de validation des donn\xe9es"),[m,x]=(0,n.useState)(!1),[A,p]=(0,n.useState)(!1),[v,g]=(0,n.useState)(!1),y=[{value:"validation_error",label:"Erreur de validation",icon:(0,j.jsx)(L.A,{})},{value:"auth_error",label:"Erreur d'authentification",icon:(0,j.jsx)(R.A,{})},{value:"network_error",label:"Erreur r\xe9seau",icon:(0,j.jsx)(D,{})},{value:"server_error",label:"Erreur serveur",icon:(0,j.jsx)(P,{})},{value:"unknown_error",label:"Erreur inconnue",icon:(0,j.jsx)(C,{})}],f=e=>{i[e]({success:"Op\xe9ration r\xe9ussie avec succ\xe8s !",error:"Une erreur s'est produite lors de l'op\xe9ration.",warning:"Attention, cette action pourrait avoir des cons\xe9quences.",info:"Information importante \xe0 prendre en compte."}[e],{title:e.charAt(0).toUpperCase()+e.slice(1),duration:5e3})};return(0,j.jsxs)(t.A,{sx:{py:4},children:[(0,j.jsxs)(o.A,{variant:"h4",component:"h1",gutterBottom:!0,children:[(0,j.jsx)(C,{sx:{mr:1,verticalAlign:"middle"}}),"D\xe9monstration du syst\xe8me de gestion d'erreurs"]}),(0,j.jsx)(o.A,{variant:"body1",paragraph:!0,children:"Cette page permet de tester diff\xe9rents sc\xe9narios d'erreurs et de voir comment ils sont g\xe9r\xe9s par notre syst\xe8me centralis\xe9."}),(0,j.jsx)(a.A,{sx:{my:3}}),(0,j.jsxs)(b.A,{sx:{p:3,mb:4},children:[(0,j.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Configuration de l'erreur"}),(0,j.jsxs)(w.Ay,{container:!0,spacing:3,children:[(0,j.jsx)(w.Ay,{item:!0,xs:12,md:6,children:(0,j.jsxs)(M.A,{fullWidth:!0,children:[(0,j.jsx)(k.A,{id:"error-type-label",children:"Type d'erreur"}),(0,j.jsx)(z.A,{labelId:"error-type-label",value:c,label:"Type d'erreur",onChange:e=>d(e.target.value),children:y.map((e=>(0,j.jsxs)(B.A,{value:e.value,children:[n.cloneElement(e.icon,{fontSize:"small",sx:{mr:1}}),e.label]},e.value)))})]})}),(0,j.jsx)(w.Ay,{item:!0,xs:12,md:6,children:(0,j.jsx)(H.A,{fullWidth:!0,label:"Message d'erreur",value:u,onChange:e=>h(e.target.value)})})]})]}),(0,j.jsxs)(w.Ay,{container:!0,spacing:3,children:[(0,j.jsx)(w.Ay,{item:!0,xs:12,md:6,children:(0,j.jsxs)(q.A,{children:[(0,j.jsxs)(N.A,{children:[(0,j.jsxs)(o.A,{variant:"h6",gutterBottom:!0,children:[(0,j.jsx)(D,{sx:{mr:1,verticalAlign:"middle"}}),"Erreurs API"]}),(0,j.jsx)(o.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Simule une erreur lors d'une requ\xeate API asynchrone. L'erreur sera intercept\xe9e et g\xe9r\xe9e par notre hook useErrorHandler."}),v&&(0,j.jsx)(t.A,{sx:{display:"flex",justifyContent:"center",my:2},children:(0,j.jsx)(_.A,{})})]}),(0,j.jsx)(I.A,{children:(0,j.jsx)(T.A,{variant:"contained",color:"primary",onClick:async()=>{g(!0);try{await e(new Promise(((e,r)=>{setTimeout((()=>{r({response:{data:{error:{type:c,message:u,severity:c.includes("auth")||c.includes("server")?"error":"warning",details:`D\xe9tails suppl\xe9mentaires sur l'erreur de type ${c}`}}}})}),1500)})),{loadingMessage:"Simulation d'une requ\xeate API en cours...",errorMessage:"La requ\xeate API a \xe9chou\xe9",showLoading:!0})}catch(r){console.log("Erreur captur\xe9e dans le composant:",r)}finally{g(!1)}},disabled:v,children:"Simuler une erreur API"})})]})}),(0,j.jsx)(w.Ay,{item:!0,xs:12,md:6,children:(0,j.jsxs)(q.A,{children:[(0,j.jsxs)(N.A,{children:[(0,j.jsxs)(o.A,{variant:"h6",gutterBottom:!0,children:[(0,j.jsx)(L.A,{sx:{mr:1,verticalAlign:"middle"}}),"Erreurs synchrones"]}),(0,j.jsx)(o.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Simule une erreur synchrone dans un bloc try/catch. L'erreur sera captur\xe9e et g\xe9r\xe9e par notre fonction tryCatch."})]}),(0,j.jsx)(I.A,{children:(0,j.jsx)(T.A,{variant:"contained",color:"secondary",onClick:()=>{r((()=>{throw new Error(`Erreur synchrone: ${u}`)}),{errorMessage:`Une erreur s'est produite lors de l'ex\xe9cution: ${u}`,showError:!0})},children:"Simuler une erreur synchrone"})})]})}),(0,j.jsx)(w.Ay,{item:!0,xs:12,md:6,children:(0,j.jsxs)(q.A,{children:[(0,j.jsxs)(N.A,{children:[(0,j.jsxs)(o.A,{variant:"h6",gutterBottom:!0,children:[(0,j.jsx)(C,{sx:{mr:1,verticalAlign:"middle"}}),"Erreurs de rendu"]}),(0,j.jsx)(o.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Simule une erreur lors du rendu d'un composant. L'erreur sera captur\xe9e par le composant ErrorBoundary."}),m&&(0,j.jsx)(O,{})]}),(0,j.jsxs)(I.A,{children:[(0,j.jsx)(T.A,{variant:"contained",color:"error",onClick:()=>x(!0),disabled:m,children:"Afficher composant avec erreur"}),(0,j.jsx)(T.A,{variant:"outlined",onClick:()=>x(!1),disabled:!m,children:"Masquer composant"})]})]})}),(0,j.jsx)(w.Ay,{item:!0,xs:12,md:6,children:(0,j.jsxs)(q.A,{children:[(0,j.jsxs)(N.A,{children:[(0,j.jsxs)(o.A,{variant:"h6",gutterBottom:!0,children:[(0,j.jsx)(V,{sx:{mr:1,verticalAlign:"middle"}}),"Erreurs diff\xe9r\xe9es"]}),(0,j.jsx)(o.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Simule une erreur qui se produit apr\xe8s un d\xe9lai. Utile pour tester la gestion des erreurs asynchrones."}),A&&(0,j.jsx)(F,{})]}),(0,j.jsxs)(I.A,{children:[(0,j.jsx)(T.A,{variant:"contained",color:"warning",onClick:()=>p(!0),disabled:A,children:"D\xe9clencher erreur diff\xe9r\xe9e"}),(0,j.jsx)(T.A,{variant:"outlined",onClick:()=>p(!1),disabled:!A,children:"Annuler"})]})]})}),(0,j.jsx)(w.Ay,{item:!0,xs:12,md:6,children:(0,j.jsxs)(q.A,{children:[(0,j.jsxs)(N.A,{children:[(0,j.jsxs)(o.A,{variant:"h6",gutterBottom:!0,children:[(0,j.jsx)(W.A,{sx:{mr:1,verticalAlign:"middle"}}),"Notifications"]}),(0,j.jsx)(o.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Teste diff\xe9rents types de notifications qui peuvent \xeatre affich\xe9es par le syst\xe8me."})]}),(0,j.jsxs)(I.A,{children:[(0,j.jsx)(T.A,{variant:"outlined",color:"success",onClick:()=>f("success"),children:"Succ\xe8s"}),(0,j.jsx)(T.A,{variant:"outlined",color:"error",onClick:()=>f("error"),children:"Erreur"}),(0,j.jsx)(T.A,{variant:"outlined",color:"warning",onClick:()=>f("warning"),children:"Avertissement"}),(0,j.jsx)(T.A,{variant:"outlined",color:"info",onClick:()=>f("info"),children:"Info"})]})]})}),(0,j.jsx)(w.Ay,{item:!0,xs:12,md:6,children:(0,j.jsxs)(q.A,{children:[(0,j.jsxs)(N.A,{children:[(0,j.jsxs)(o.A,{variant:"h6",gutterBottom:!0,children:[(0,j.jsx)(U.A,{sx:{mr:1,verticalAlign:"middle"}}),"Erreur manuelle"]}),(0,j.jsx)(o.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"D\xe9clenche manuellement une erreur via le service de gestion d'erreurs. Utile pour les erreurs d\xe9tect\xe9es par la logique m\xe9tier."})]}),(0,j.jsx)(I.A,{children:(0,j.jsx)(T.A,{variant:"contained",color:"error",onClick:()=>{s(u,c,{severity:c.includes("auth")||c.includes("server")?"error":"warning",details:`Erreur d\xe9clench\xe9e manuellement de type ${c}`,showNotification:!0})},children:"D\xe9clencher erreur manuelle"})})]})})]}),(0,j.jsx)(t.A,{sx:{mt:4},children:(0,j.jsx)(l.A,{severity:"info",children:(0,j.jsxs)(o.A,{variant:"body2",children:[(0,j.jsx)("strong",{children:"Note:"})," Toutes les erreurs sont enregistr\xe9es dans la console et peuvent \xeatre envoy\xe9es \xe0 un service de suivi des erreurs comme Sentry si configur\xe9."]})})})]})};var K=s(68713);const Q=()=>{const{handleError:e}=(0,$.A)();return(0,j.jsxs)(t.A,{children:[(0,j.jsx)(K.A,{items:[{label:"Accueil",path:"/"},{label:"D\xe9mo Gestion d'Erreurs",path:"/error-demo"}]}),(0,j.jsxs)(i.A,{maxWidth:"lg",sx:{py:4},children:[(0,j.jsxs)(t.A,{sx:{mb:4},children:[(0,j.jsxs)(o.A,{variant:"h3",component:"h1",gutterBottom:!0,children:[(0,j.jsx)(C,{sx:{mr:1,verticalAlign:"middle",fontSize:"inherit"}}),"D\xe9monstration du Syst\xe8me de Gestion d'Erreurs"]}),(0,j.jsx)(o.A,{variant:"subtitle1",color:"text.secondary",paragraph:!0,children:"Cette page pr\xe9sente les diff\xe9rentes fonctionnalit\xe9s du syst\xe8me centralis\xe9 de gestion d'erreurs et montre comment les erreurs sont captur\xe9es, trait\xe9es et affich\xe9es \xe0 l'utilisateur."}),(0,j.jsx)(a.A,{sx:{my:3}})]}),(0,j.jsxs)(l.A,{severity:"info",sx:{mb:4},children:[(0,j.jsx)(f,{children:"Guide d'utilisation"}),(0,j.jsx)(o.A,{variant:"body2",children:"Cette page de d\xe9monstration vous permet de tester diff\xe9rents sc\xe9narios d'erreurs et de voir comment ils sont g\xe9r\xe9s. Vous pouvez d\xe9clencher des erreurs API, des erreurs synchrones, des erreurs de rendu et voir comment le syst\xe8me les capture et les affiche \xe0 l'utilisateur."})]}),(0,j.jsx)(E.A,{onError:(r,s)=>{e(r.message||"Erreur non g\xe9r\xe9e dans le composant","component_error",{details:null===s||void 0===s?void 0:s.componentStack,severity:"error",showNotification:!0}),console.error("Erreur captur\xe9e par ErrorBoundary:",r),console.error("Informations sur le composant:",s)},children:(0,j.jsx)(b.A,{elevation:3,sx:{p:3,borderRadius:2},children:(0,j.jsx)(J,{})})}),(0,j.jsxs)(t.A,{sx:{mt:4},children:[(0,j.jsx)(o.A,{variant:"h5",gutterBottom:!0,children:"Comment \xe7a fonctionne ?"}),(0,j.jsx)(o.A,{variant:"body1",paragraph:!0,children:"Le syst\xe8me de gestion d'erreurs est compos\xe9 de plusieurs \xe9l\xe9ments :"}),(0,j.jsxs)(t.A,{component:"ul",sx:{pl:4},children:[(0,j.jsx)(t.A,{component:"li",sx:{mb:1},children:(0,j.jsxs)(o.A,{variant:"body1",children:[(0,j.jsx)("strong",{children:"ErrorService"})," : Service centralis\xe9 qui g\xe8re toutes les erreurs de l'application"]})}),(0,j.jsx)(t.A,{component:"li",sx:{mb:1},children:(0,j.jsxs)(o.A,{variant:"body1",children:[(0,j.jsx)("strong",{children:"useErrorHandler"})," : Hook React qui expose les fonctionnalit\xe9s du service d'erreurs"]})}),(0,j.jsx)(t.A,{component:"li",sx:{mb:1},children:(0,j.jsxs)(o.A,{variant:"body1",children:[(0,j.jsx)("strong",{children:"ErrorBoundary"})," : Composant qui capture les erreurs dans l'arbre de composants enfants"]})}),(0,j.jsx)(t.A,{component:"li",sx:{mb:1},children:(0,j.jsxs)(o.A,{variant:"body1",children:[(0,j.jsx)("strong",{children:"NotificationSystem"})," : Syst\xe8me d'affichage des notifications pour informer l'utilisateur"]})})]}),(0,j.jsx)(o.A,{variant:"body1",paragraph:!0,children:"Ensemble, ces \xe9l\xe9ments forment un syst\xe8me robuste qui permet de g\xe9rer les erreurs de mani\xe8re coh\xe9rente et d'offrir une exp\xe9rience utilisateur optimale m\xeame en cas de probl\xe8me."})]})]})]})}},27600:(e,r,s)=>{s.d(r,{A:()=>p});var n=s(98587),t=s(58168),i=s(65043),o=s(58387),a=s(98610),l=s(34535),c=s(98206),d=s(92532),u=s(72372);function h(e){return(0,u.Ay)("MuiCardActions",e)}(0,d.A)("MuiCardActions",["root","spacing"]);var m=s(70579);const x=["disableSpacing","className"],A=(0,l.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[r.root,!s.disableSpacing&&r.spacing]}})((e=>{let{ownerState:r}=e;return(0,t.A)({display:"flex",alignItems:"center",padding:8},!r.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),p=i.forwardRef((function(e,r){const s=(0,c.b)({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:l}=s,d=(0,n.A)(s,x),u=(0,t.A)({},s,{disableSpacing:i}),p=(e=>{const{classes:r,disableSpacing:s}=e,n={root:["root",!s&&"spacing"]};return(0,a.A)(n,h,r)})(u);return(0,m.jsx)(A,(0,t.A)({className:(0,o.A)(p.root,l),ownerState:u,ref:r},d))}))},45879:(e,r,s)=>{s.d(r,{A:()=>n});const n=s(5844).A},75456:(e,r,s)=>{s.d(r,{A:()=>i});var n=s(66734),t=s(70579);const i=(0,n.A)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info")},93234:(e,r,s)=>{s.d(r,{A:()=>i});var n=s(66734),t=s(70579);const i=(0,n.A)((0,t.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security")}}]);
//# sourceMappingURL=818.78201ae2.chunk.js.map