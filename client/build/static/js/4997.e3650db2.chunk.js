"use strict";(self.webpackChunkgrand_est_cyclisme_client=self.webpackChunkgrand_est_cyclisme_client||[]).push([[4997],{8619:()=>{new class{async getCurrentUserProfile(){try{await new Promise((e=>setTimeout(e,500)));return{id:"u123",name:"Jean Dupont",email:"jean.dupont@example.com",age:35,weight:75,height:182,ftp:240,level:"intermediate",cyclist_type:"all-rounder",preferred_terrain:"mixed",weekly_hours:8,hrmax:185,hrrest:52,region:"Grand Est",following:24,followers:18,achievementCount:12,created_at:"2024-07-15",avatar:"/assets/avatars/default.jpg"}}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration du profil utilisateur:",e),new Error("Impossible de r\xe9cup\xe9rer le profil utilisateur")}}async getUserProfile(e){try{await new Promise((e=>setTimeout(e,500)));const t={u123:{id:"u123",name:"Jean Dupont",age:35,weight:75,height:182,ftp:240,level:"intermediate",cyclist_type:"all-rounder",preferred_terrain:"mixed",weekly_hours:8,hrmax:185,hrrest:52,region:"Grand Est",following:24,followers:18,achievementCount:12,created_at:"2024-07-15",avatar:"/assets/avatars/default.jpg"},u456:{id:"u456",name:"Marie Martin",age:29,weight:62,height:168,ftp:205,level:"beginner",cyclist_type:"climber",preferred_terrain:"hills",weekly_hours:5,hrmax:192,hrrest:56,region:"Grand Est",following:32,followers:15,achievementCount:8,created_at:"2024-09-10",avatar:"/assets/avatars/default2.jpg"},u789:{id:"u789",name:"Pierre Lambert",age:42,weight:82,height:188,ftp:280,level:"advanced",cyclist_type:"sprinter",preferred_terrain:"flat",weekly_hours:12,hrmax:178,hrrest:48,region:"Grand Est",following:56,followers:124,achievementCount:28,created_at:"2024-05-22",avatar:"/assets/avatars/default3.jpg"}}[e];if(!t)throw new Error("Utilisateur non trouv\xe9");return t}catch(t){throw console.error(`Erreur lors de la r\xe9cup\xe9ration du profil utilisateur (ID: ${e}):`,t),new Error("Impossible de r\xe9cup\xe9rer le profil utilisateur")}}async updateUserProfile(e){try{if(await new Promise((e=>setTimeout(e,700))),!e.id)throw new Error("ID utilisateur manquant");return console.log("Mise \xe0 jour du profil utilisateur:",e),{...e,updated_at:(new Date).toISOString()}}catch(t){throw console.error("Erreur lors de la mise \xe0 jour du profil utilisateur:",t),new Error("Impossible de mettre \xe0 jour le profil utilisateur")}}async getUserWorkoutHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{await new Promise((e=>setTimeout(e,600)));return[{id:"h1",workoutId:"threshold-classic",workoutName:"Seuil Classique",date:"2025-03-20",completed:!0,duration:60,avgPower:210,normalizedPower:230,tss:85,ifactor:.92,heartRate:{avg:145,max:172},zones:{z1:12,z2:18,z3:10,z4:52,z5:8,z6:0,z7:0}},{id:"h2",workoutId:"threshold-classic",workoutName:"Seuil Classique",date:"2025-02-25",completed:!0,duration:62,avgPower:205,normalizedPower:225,tss:83,ifactor:.9,heartRate:{avg:148,max:175},zones:{z1:14,z2:20,z3:12,z4:47,z5:7,z6:0,z7:0}},{id:"h3",workoutId:"hiit-vo2max",workoutName:"HIIT VO2max",date:"2025-02-18",completed:!0,duration:60,avgPower:228,normalizedPower:251,tss:92,ifactor:.98,heartRate:{avg:158,max:182},zones:{z1:10,z2:14,z3:12,z4:25,z5:35,z6:4,z7:0}},{id:"h4",workoutId:"endurance-foundation",workoutName:"Fondation d'Endurance",date:"2025-02-12",completed:!0,duration:90,avgPower:172,normalizedPower:178,tss:78,ifactor:.7,heartRate:{avg:132,max:145},zones:{z1:5,z2:85,z3:10,z4:0,z5:0,z6:0,z7:0}},{id:"h5",workoutId:"threshold-classic",workoutName:"Seuil Classique",date:"2025-01-30",completed:!1,duration:45,avgPower:208,normalizedPower:220,tss:62,ifactor:.88,heartRate:{avg:146,max:168},zones:{z1:15,z2:22,z3:15,z4:42,z5:6,z6:0,z7:0}}].slice(0,t)}catch(r){throw console.error(`Erreur lors de la r\xe9cup\xe9ration de l'historique d'entra\xeenement (ID: ${e}):`,r),new Error("Impossible de r\xe9cup\xe9rer l'historique d'entra\xeenement")}}async getUserTrainingStats(e){try{await new Promise((e=>setTimeout(e,600)));return{workoutCount:14,totalDuration:842,totalTSS:1248,avgWeeklyTSS:312,completionRate:.89,ftpHistory:[{date:"2025-01-05",value:225},{date:"2025-02-10",value:232},{date:"2025-03-15",value:240}],powerDistribution:{z1:12,z2:35,z3:18,z4:25,z5:8,z6:2,z7:0},workoutTypes:{RECOVERY:2,ENDURANCE:5,THRESHOLD:4,HIIT:3}}}catch(t){throw console.error(`Erreur lors de la r\xe9cup\xe9ration des statistiques d'entra\xeenement (ID: ${e}):`,t),new Error("Impossible de r\xe9cup\xe9rer les statistiques d'entra\xeenement")}}}},14997:(e,t,r)=>{r.r(t),r.d(t,{default:()=>F});var n=r(65043),a=r(19252),i=r(96446),o=r(8939),s=r(24056),l=r(85865),u=r(68903),d=r(12110),c=r(79958),m=r(26494),h=r(63336),p=r(42518),x=r(14194),g=r(28267),v=r(34190),y=r(16490),f=r(20398),w=r(15244),j=r(51214),A=r(97187),E=r(32069),b=r(16851),P=r(16662),N=r(74117),T=r(45577),R=r(55178),I=(r(8619),r(27338)),z=r(70579);(0,R.jc)((()=>Promise.all([r.e(6235),r.e(150),r.e(4064),r.e(7983),r.e(7514)]).then(r.bind(r,30073))),{moduleName:"Module d'entra\xeenement",skeletonType:"content"});const k=(0,R.jc)((()=>Promise.all([r.e(7929),r.e(5943),r.e(9517),r.e(3848)]).then(r.bind(r,33848))),{moduleName:"Biblioth\xe8que d'entra\xeenements",skeletonType:"complex"}),C=(0,R.jc)((()=>Promise.all([r.e(3845),r.e(9285),r.e(7784),r.e(8483),r.e(4909),r.e(3628),r.e(6235),r.e(150),r.e(9070),r.e(2738),r.e(4064),r.e(4273),r.e(7052)]).then(r.bind(r,47052))),{moduleName:"G\xe9n\xe9rateur HIIT",skeletonType:"content"}),S=(0,R.jc)((()=>Promise.all([r.e(7929),r.e(461),r.e(6961)]).then(r.bind(r,46961))),{moduleName:"Visualiseur HIIT",skeletonType:"content"}),M=(0,R.jc)((()=>Promise.all([r.e(7929),r.e(5943),r.e(1254)]).then(r.bind(r,61254))),{moduleName:"Coach virtuel",skeletonType:"complex"}),_=(0,R.jc)((()=>Promise.all([r.e(3845),r.e(9285),r.e(7784),r.e(4909),r.e(6172)]).then(r.bind(r,96172))),{moduleName:"Explorateur de programmes",skeletonType:"complex",minDelay:500}),F=()=>{const{t:e}=(0,N.Bd)(),{notify:t}=(0,T.hN)(),r=(0,P.Zp)(),F=(0,P.zy)(),[D,H]=(0,n.useState)((()=>{const e=F.pathname.split("/").pop();return"training"===e?"overview":e})),[O,L]=(0,n.useState)(null),[q,V]=(0,n.useState)(!0),[G,U]=(0,n.useState)(null),[W,B]=(0,n.useState)(null),[$,Y]=(0,n.useState)([]),[X,J]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(async()=>{try{V(!0),await new Promise((e=>setTimeout(e,800)));const e={id:"u123",name:"Jean Dupont",age:35,weight:75,height:182,ftp:240,level:"intermediate",cyclist_type:"all-rounder",preferred_terrain:"mixed",weekly_hours:8,hrmax:185,hrrest:52,created_at:"2024-07-15"};L(e),B({totalWorkouts:124,totalHours:187,totalTSS:9580,ftpProgress:[{date:"2025-01-01",value:220},{date:"2025-02-01",value:230},{date:"2025-03-01",value:240}],weeklyVolume:[12,8,10,6,9,11,7,12],lastWorkouts:[{id:"w1",type:"HIIT",name:"Intervals 4x4",date:"2025-04-01",tss:98},{id:"w2",type:"ENDURANCE",name:"Endurance longue",date:"2025-03-29",tss:120},{id:"w3",type:"THRESHOLD",name:"Sweet Spot",date:"2025-03-27",tss:85}]}),Y(Q(e))}catch(e){console.error("Erreur lors du chargement des donn\xe9es utilisateur:",e),t.error("Impossible de charger les donn\xe9es utilisateur")}finally{V(!1)}})()}),[t]),(0,n.useEffect)((()=>{const e=F.pathname.split("/").pop();"training"===e?H("overview"):["library","programs","hiitBuilder","coach"].includes(e)&&H(e)}),[F.pathname]);const Q=e=>e?I.Ay.generateWeeklyPlan(e):[],Z=e=>{U(e)},K=e=>{try{return console.log("Sauvegarde de l'entra\xeenement:",e),t.success("Entra\xeenement sauvegard\xe9 avec succ\xe8s"),!0}catch(r){return console.error("Erreur lors de la sauvegarde de l'entra\xeenement:",r),t.error("Erreur lors de la sauvegarde"),!1}},ee=e=>{U(e),J(!0),window.scrollTo({top:0,behavior:"smooth"})};return(0,z.jsxs)(a.A,{maxWidth:"lg",children:[(0,z.jsx)(i.A,{sx:{width:"100%",mb:4},children:(0,z.jsxs)(o.A,{value:D,onChange:(e,t)=>{H(t),r(`/training/${"overview"===t?"":t}`)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,"aria-label":e("training.navigation"),children:[(0,z.jsx)(s.A,{value:"overview",label:e("training.overview"),icon:(0,z.jsx)(g.A,{}),iconPosition:"start"}),(0,z.jsx)(s.A,{value:"programs",label:e("training.programs"),icon:(0,z.jsx)(v.A,{}),iconPosition:"start"}),(0,z.jsx)(s.A,{value:"library",label:e("training.workout_library"),icon:(0,z.jsx)(y.A,{}),iconPosition:"start"}),(0,z.jsx)(s.A,{value:"hiitBuilder",label:e("training.hiit_builder"),icon:(0,z.jsx)(f.A,{}),iconPosition:"start"}),(0,z.jsx)(s.A,{value:"coach",label:e("training.coach"),icon:(0,z.jsx)(w.A,{}),iconPosition:"start"})]})}),(0,z.jsxs)(P.BV,{children:[(0,z.jsx)(P.qh,{path:"/",element:(0,z.jsx)(i.A,{children:q?(0,z.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,z.jsxs)(l.A,{children:[e("common.loading"),"..."]})}):(0,z.jsxs)(u.Ay,{container:!0,spacing:4,children:[(0,z.jsx)(u.Ay,{item:!0,xs:12,md:8,children:(0,z.jsxs)(d.A,{sx:{mb:4},children:[(0,z.jsx)(c.A,{title:(0,z.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(j.A,{sx:{mr:1}}),e("training.weekly_plan")]})}),(0,z.jsx)(m.A,{children:O?(0,z.jsxs)(i.A,{children:[$.length>0?$.map(((t,r)=>(0,z.jsxs)(h.A,{elevation:0,variant:"outlined",sx:{p:2,mb:2},children:[(0,z.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,z.jsx)(l.A,{variant:"subtitle1",fontWeight:"bold",children:t.day}),t.workout?(0,z.jsx)(p.A,{size:"small",variant:"outlined",onClick:()=>Z(t.workout),children:e("training.view_details")}):(0,z.jsx)(l.A,{variant:"body2",color:"text.secondary",children:e("training.rest_day")})]}),t.workout&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(l.A,{variant:"body1",children:t.workout.name}),(0,z.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mt:1},children:[(0,z.jsx)(A.A,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}}),(0,z.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:[t.workout.type," \u2022 ",t.workout.duration," min \u2022 ",t.workout.intensity]})]})]})]},r))):(0,z.jsx)(x.A,{severity:"info",children:e("training.no_plan_available")}),(0,z.jsx)(i.A,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:(0,z.jsx)(p.A,{variant:"outlined",startIcon:(0,z.jsx)(j.A,{}),onClick:()=>Y(Q(O)),children:e("training.regenerate_plan")})})]}):(0,z.jsx)(x.A,{severity:"warning",children:e("training.profile_incomplete")})})]})}),(0,z.jsxs)(u.Ay,{item:!0,xs:12,md:4,children:[(0,z.jsxs)(d.A,{children:[(0,z.jsx)(c.A,{title:(0,z.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(E.A,{sx:{mr:1}}),e("training.profile")]})}),(0,z.jsx)(m.A,{children:O?(0,z.jsxs)(i.A,{children:[(0,z.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:O.name}),(0,z.jsxs)(u.Ay,{container:!0,spacing:2,sx:{mb:2},children:[(0,z.jsxs)(u.Ay,{item:!0,xs:6,children:[(0,z.jsx)(l.A,{variant:"body2",color:"text.secondary",children:e("training.profile.level")}),(0,z.jsx)(l.A,{variant:"body1",children:e(`training.levels.${O.level}`)})]}),(0,z.jsxs)(u.Ay,{item:!0,xs:6,children:[(0,z.jsx)(l.A,{variant:"body2",color:"text.secondary",children:e("training.profile.ftp")}),(0,z.jsxs)(l.A,{variant:"body1",children:[O.ftp," W"]})]}),(0,z.jsxs)(u.Ay,{item:!0,xs:6,children:[(0,z.jsx)(l.A,{variant:"body2",color:"text.secondary",children:e("training.profile.cyclist_type")}),(0,z.jsx)(l.A,{variant:"body1",children:e(`training.cyclist_types.${O.cyclist_type}`)})]}),(0,z.jsxs)(u.Ay,{item:!0,xs:6,children:[(0,z.jsx)(l.A,{variant:"body2",color:"text.secondary",children:e("training.profile.weekly_hours")}),(0,z.jsxs)(l.A,{variant:"body1",children:[O.weekly_hours," h"]})]})]}),(0,z.jsx)(p.A,{variant:"outlined",fullWidth:!0,component:"a",href:"/profile/settings",children:e("training.edit_profile")})]}):(0,z.jsx)(x.A,{severity:"warning",children:e("training.profile_incomplete")})})]}),(0,z.jsxs)(d.A,{sx:{mt:3},children:[(0,z.jsx)(c.A,{title:(0,z.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(b.A,{sx:{mr:1}}),e("training.stats_title")]})}),(0,z.jsx)(m.A,{children:W?(0,z.jsxs)(i.A,{children:[(0,z.jsxs)(u.Ay,{container:!0,spacing:2,sx:{mb:3},children:[(0,z.jsxs)(u.Ay,{item:!0,xs:6,children:[(0,z.jsx)(l.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e("training.stats.workouts")}),(0,z.jsx)(l.A,{variant:"h6",children:W.totalWorkouts})]}),(0,z.jsxs)(u.Ay,{item:!0,xs:6,children:[(0,z.jsx)(l.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e("training.stats.hours")}),(0,z.jsx)(l.A,{variant:"h6",children:W.totalHours})]}),(0,z.jsxs)(u.Ay,{item:!0,xs:6,children:[(0,z.jsx)(l.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e("training.stats.tss")}),(0,z.jsx)(l.A,{variant:"h6",children:W.totalTSS})]}),(0,z.jsxs)(u.Ay,{item:!0,xs:6,children:[(0,z.jsx)(l.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e("training.stats.ftp_progress")}),(0,z.jsxs)(l.A,{variant:"h6",color:"success.main",children:["+",W.ftpProgress[W.ftpProgress.length-1].value-W.ftpProgress[0].value," W"]})]})]}),(0,z.jsx)(p.A,{variant:"outlined",fullWidth:!0,href:"/visualizations",children:e("training.view_detailed_analytics")})]}):(0,z.jsx)(x.A,{severity:"info",children:e("training.no_stats_available")})})]})]})]})})}),(0,z.jsx)(P.qh,{path:"/programs",element:(0,z.jsx)(n.Suspense,{fallback:(0,z.jsx)(R.f$,{moduleName:"Explorateur de programmes"}),children:(0,z.jsx)(_,{userProfile:O,onProgramSelect:r=>{console.log("Selected program:",r),t.success(e("training.program_selected",{name:r.title}))}})})}),(0,z.jsx)(P.qh,{path:"/library",element:(0,z.jsx)(n.Suspense,{fallback:(0,z.jsx)(R.f$,{moduleName:"Biblioth\xe8que d'entra\xeenements"}),children:(0,z.jsx)(k,{userProfile:O,onSelectWorkout:Z,onSaveWorkout:K})})}),(0,z.jsx)(P.qh,{path:"/hiitBuilder",element:(0,z.jsx)(n.Suspense,{fallback:(0,z.jsx)(R.f$,{moduleName:"G\xe9n\xe9rateur HIIT"}),children:(0,z.jsx)(C,{userProfile:O,onSaveWorkout:K,onPreviewWorkout:ee})})}),(0,z.jsx)(P.qh,{path:"/coach",element:(0,z.jsx)(n.Suspense,{fallback:(0,z.jsx)(R.f$,{moduleName:"Coach virtuel"}),children:(0,z.jsx)(M,{userProfile:O,onRecommendWorkout:ee})})})]}),X&&G&&(0,z.jsx)(n.Suspense,{fallback:(0,z.jsx)(R.f$,{moduleName:"Visualiseur HIIT"}),children:(0,z.jsx)(S,{workout:G,open:X,onClose:()=>J(!1),onWorkoutComplete:r=>{console.log("Workout completed with stats:",r),t.success(e("training.workout_completed")),U(null),J(!1)}})})]})}},18097:(e,t,r)=>{r.d(t,{Ay:()=>a});const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"intermediate";if(!e||"number"!==typeof e||e<=0||isNaN(e))return console.warn("Poids invalide pour l'estimation FTP",{weight:e}),null;const r={beginner:{min:1.5,avg:2,max:2.5},intermediate:{min:2.5,avg:3,max:3.5},advanced:{min:3.5,avg:4,max:4.5},elite:{min:4.5,avg:5.2,max:6}},n=r[t]||r.intermediate;return Math.round(e*n.avg)},a={estimateFTPFromWeight:n,estimateFTPFrom20MinTest:e=>!e||"number"!==typeof e||e<=0||isNaN(e)?(console.warn("Puissance 20min invalide pour l'estimation FTP",{power20min:e}),null):Math.round(.95*e),estimateFTPFrom8MinTest:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9;return!e||"number"!==typeof e||e<=0||isNaN(e)?(console.warn("Puissance 8min invalide pour l'estimation FTP",{power8min:e}),null):(("number"!==typeof t||t<=0||t>=1||isNaN(t))&&(console.warn("Facteur invalide pour l'estimation FTP",{factor:t}),t=.9),Math.round(e*t))},estimateFTPFrom5MinTest:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.85;return!e||"number"!==typeof e||e<=0||isNaN(e)?(console.warn("Puissance 5min invalide pour l'estimation FTP",{power5min:e}),null):(("number"!==typeof t||t<=0||t>=1||isNaN(t))&&(console.warn("Facteur invalide pour l'estimation FTP",{factor:t}),t=.85),Math.round(e*t))},estimateFTPFrom1MinTest:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75;return!e||"number"!==typeof e||e<=0||isNaN(e)?(console.warn("Puissance 1min invalide pour l'estimation FTP",{power1min:e}),null):(("number"!==typeof t||t<=0||t>=1||isNaN(t))&&(console.warn("Facteur invalide pour l'estimation FTP",{factor:t}),t=.75),Math.round(e*t))},calculateCP:(e,t)=>{if(!e||!t||"number"!==typeof e||"number"!==typeof t||e<=0||t<=0||isNaN(e)||isNaN(t))return console.warn("Puissances invalides pour le calcul CP",{power5min:e,power1min:t}),null;const r=(300*e-60*t)/240,n=60*(t-r);return{cp:Math.round(r),awc:Math.round(n)}},estimateFTPFromCP:e=>!e||"number"!==typeof e||e<=0||isNaN(e)?(console.warn("Puissance critique invalide pour l'estimation FTP",{cp:e}),null):Math.round(.97*e),estimateFTPFromRampTest:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75;return!e||"number"!==typeof e||e<=0||isNaN(e)?(console.warn("Puissance maximale du test Ramp invalide",{maxPower:e}),null):(("number"!==typeof t||t<=0||t>=1||isNaN(t))&&(console.warn("Facteur invalide pour l'estimation FTP",{factor:t}),t=.75),Math.round(e*t))},estimateFTPFromHR:e=>{const{maxHR:t,restingHR:r,ltHR:n,weight:a,vo2max:i}=e;if(!t||!r||!a||"number"!==typeof t||"number"!==typeof r||"number"!==typeof a||t<=r||a<=0)return console.warn("Param\xe8tres cardiaques invalides",e),null;let o=null;if(n&&"number"===typeof n&&n>r&&n<t){const e=n/t;let r;r=e>.92?4.5:e>.89?4:e>.85?3.5:e>.82?3:2.5,o=Math.round(r*a)}else if(i&&"number"===typeof i&&i>20)o=Math.round(.75*i*a*.0123);else{const e=(r+.87*(t-r))/t;let n;n=e>.92?4.5:e>.89?4:e>.85?3.5:e>.82?3:2.5,o=Math.round(n*a)}return o},validateFTP:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"number"===typeof e&&e>0&&!isNaN(e))return e<50?(console.warn("FTP anormalement basse:",e),t.weight?n(t.weight,t.level):100):(e>500&&console.warn("FTP potentiellement tr\xe8s \xe9lev\xe9e:",e),e);if(console.warn("FTP invalide, tentative d'estimation \xe0 partir du profil",{ftp:e}),t.weight&&"number"===typeof t.weight&&t.weight>0){const e=n(t.weight,t.level);return console.info(`FTP estim\xe9e \xe0 partir du poids (${t.weight}kg): ${e}W`),e}const r={beginner:150,intermediate:200,advanced:250,elite:300}[t.level]||200;return console.info(`FTP par d\xe9faut utilis\xe9e: ${r}W`),r},calculatePowerZones:e=>((!e||"number"!==typeof e||e<=0||isNaN(e))&&(console.warn("FTP invalide pour le calcul des zones",{ftp:e}),e=200),{zone1:{name:"R\xe9cup\xe9ration Active",description:"Tr\xe8s facile, r\xe9cup\xe9ration active",min:Math.round(0*e),max:Math.round(.55*e),percentFtp:"0-55%"},zone2:{name:"Endurance",description:"Effort soutenu longue dur\xe9e, conversation possible",min:Math.round(.56*e),max:Math.round(.75*e),percentFtp:"56-75%"},zone3:{name:"Tempo",description:"Rythme soutenu mais confortable, respiration plus intense",min:Math.round(.76*e),max:Math.round(.9*e),percentFtp:"76-90%"},zone4:{name:"Seuil",description:"Effort intense au niveau du seuil lactique, 20-30min max",min:Math.round(.91*e),max:Math.round(1.05*e),percentFtp:"91-105%"},zone5:{name:"VO2max",description:"Effort tr\xe8s intense, 3-8min par intervalle",min:Math.round(1.06*e),max:Math.round(1.2*e),percentFtp:"106-120%"},zone6:{name:"Capacit\xe9 Ana\xe9robie",description:"Effort ana\xe9robie maximal, 30s-3min par intervalle",min:Math.round(1.21*e),max:Math.round(1.5*e),percentFtp:"121-150%"},zone7:{name:"Sprint/Neuromuscular",description:"Puissance maximale, efforts <30s",min:Math.round(1.51*e),max:1/0,percentFtp:">150%"}}),calculateHeartRateZones:(e,t)=>{if(!e||!t||"number"!==typeof e||"number"!==typeof t||e<=t||isNaN(e)||isNaN(t))return console.warn("Fr\xe9quences cardiaques invalides",{maxHR:e,restingHR:t}),null;const r=e-t;return{zone1:{name:"R\xe9cup\xe9ration",min:Math.round(t+.5*r),max:Math.round(t+.6*r),percentHRR:"50-60%"},zone2:{name:"Endurance de base",min:Math.round(t+.6*r+1),max:Math.round(t+.7*r),percentHRR:"60-70%"},zone3:{name:"Endurance avanc\xe9e",min:Math.round(t+.7*r+1),max:Math.round(t+.8*r),percentHRR:"70-80%"},zone4:{name:"Seuil",min:Math.round(t+.8*r+1),max:Math.round(t+.9*r),percentHRR:"80-90%"},zone5:{name:"VO2max",min:Math.round(t+.9*r+1),max:e,percentHRR:"90-100%"}}}}},27338:(e,t,r)=>{r.d(t,{Ay:()=>l,jt:()=>a});var n=r(18097);const a={ENDURANCE:"endurance",TEMPO:"tempo",THRESHOLD:"threshold",VO2MAX:"vo2max",ANAEROBIC:"anaerobic",SPRINT:"sprint",HIIT:"hiit",RECOVERY:"recovery",STRENGTH:"strength",TECHNIQUE:"technique",CLIMBING:"climbing",LONG_RIDE:"longRide"},i={ALL_ROUND:"allRound",CLIMBER:"climber",ROULEUR:"rouleur",SPRINTER:"sprinter",PUNCHEUR:"puncheur",TIME_TRIAL:"timeTrial",RECREATIONAL:"recreational",TOURING:"touring"},o={BEGINNER:"beginner",INTERMEDIATE:"intermediate",ADVANCED:"advanced",ELITE:"elite"},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:42;if(!e||!Array.isArray(e))return{ctl:[],atl:[],tsb:[]};const r=[...e].sort(((e,t)=>new Date(e.date)-new Date(t.date))),n=new Date,a=[];for(let i=t-1;i>=0;i--){const e=new Date(n);e.setDate(e.getDate()-i);const t=e.toISOString().split("T")[0],o=r.filter((e=>e.date.startsWith(t))).reduce(((e,t)=>e+(t.tss||0)),0);a.push({date:t,tss:o})}return a.map(((e,t)=>{let r=0,n=0;for(let d=0;d<=Math.min(t,41);d++){const e=Math.exp(-d/42);r+=a[t-d].tss*e,n+=e}const i=r/n;let o=0,s=0;for(let d=0;d<=Math.min(t,6);d++){const e=Math.exp(-d/7);o+=a[t-d].tss*e,s+=e}const l=o/s,u=i-l;return{date:e.date,ctl:parseFloat(i.toFixed(1)),atl:parseFloat(l.toFixed(1)),tsb:parseFloat(u.toFixed(1)),tss:e.tss}}))},l={TRAINING_TYPES:a,TRAINING_GOALS:{GENERAL_FITNESS:"generalFitness",ENDURANCE:"enduranceBuilding",POWER:"powerDevelopment",SPEED:"speedDevelopment",WEIGHT_LOSS:"weightLoss",EVENT_PREP:"eventPreparation",RACE_PREP:"racePreparation",RECOVERY:"activeRecovery"},CYCLIST_PROFILES:i,CYCLIST_LEVELS:o,calculateTrainingMetrics:(e,t)=>{if(!e||!e.intervals||!Array.isArray(e.intervals)||!t)return console.error("Donn\xe9es insuffisantes pour calculer les m\xe9triques",{workout:e,ftp:t}),{tss:0,if:0,work:0,avgPower:0,normalizedPower:0,duration:0};try{const r=e.intervals.reduce(((e,t)=>e+(t.duration||0)+(t.restDuration||0)),0),n=e.intervals.reduce(((e,t)=>e+(t.duration||0)*(t.power||0)),0),a=n/r||0,i=Math.pow(e.intervals.reduce(((e,t)=>{const r=t.duration||0,n=t.power||0;return e+r*Math.pow(n,4)}),0)/r,.25)||0,o=i/t,s=r*i*o/(3600*t)*100;return{tss:Math.round(s),if:parseFloat(o.toFixed(2)),work:Math.round(n/1e3),avgPower:Math.round(a),normalizedPower:Math.round(i),duration:Math.round(r/60)}}catch(r){return console.error("Erreur lors du calcul des m\xe9triques d'entra\xeenement",r),{tss:0,if:0,work:0,avgPower:0,normalizedPower:0,duration:0}}},calculateTrainingLoad:s,getTrainingRecommendations:(e,t)=>{if(!e)return{recommendedTypes:[],weeklyStructure:[],focusAreas:[],message:"Compl\xe9tez d'abord votre profil pour obtenir des recommandations personnalis\xe9es."};const{level:r,goal:l,profile:u,ftp:d,age:c,weight:m,hoursPerWeek:h}=e;let p=[],x=[],g=[],v="";n.Ay.validateFTP(d,e);if(p.push(a.ENDURANCE,a.RECOVERY),r===o.BEGINNER?(p.push(a.TECHNIQUE),v="Concentrez-vous sur le d\xe9veloppement d'une base d'endurance solide et la technique de p\xe9dalage.",x=[{day:1,type:a.ENDURANCE,duration:60},{day:3,type:a.TECHNIQUE,duration:45},{day:5,type:a.ENDURANCE,duration:75},{day:7,type:a.RECOVERY,duration:45}],g=["Constance","Endurance de base","Technique"]):r===o.INTERMEDIATE?(p.push(a.THRESHOLD,a.STRENGTH,a.TEMPO),v="Commencez \xe0 incorporer des entra\xeenements au seuil et de force sp\xe9cifique \xe0 votre routine.",x=[{day:1,type:a.ENDURANCE,duration:90},{day:3,type:a.THRESHOLD,duration:60},{day:5,type:a.STRENGTH,duration:60},{day:6,type:a.LONG_RIDE,duration:120},{day:7,type:a.RECOVERY,duration:45}],g=["Seuil de puissance","Force sp\xe9cifique","Volume d'endurance"]):r!==o.ADVANCED&&r!==o.ELITE||(p.push(a.THRESHOLD,a.VO2MAX,a.HIIT,a.ANAEROBIC,a.SPRINT,a.STRENGTH),v="Votre niveau vous permet d'utiliser toute la gamme des entra\xeenements sp\xe9cifiques au cyclisme.",x=[{day:1,type:a.ENDURANCE,duration:120},{day:2,type:a.VO2MAX,duration:60},{day:3,type:a.RECOVERY,duration:45},{day:4,type:a.THRESHOLD,duration:90},{day:5,type:a.HIIT,duration:60},{day:6,type:a.LONG_RIDE,duration:180},{day:7,type:a.RECOVERY,duration:60}],g=["Puissance au seuil","VO2max","Capacit\xe9 ana\xe9robie","P\xe9riodisation"]),u===i.CLIMBER?(p.push(a.CLIMBING),g.push("Puissance en mont\xe9e","Rapport poids/puissance")):u===i.SPRINTER?(p.push(a.SPRINT),g.push("Puissance maximale","Acc\xe9l\xe9ration")):u===i.TOURING&&(p.push(a.LONG_RIDE),g.push("Endurance longue distance","\xc9conomie d'effort")),c&&c>50&&(g.push("R\xe9cup\xe9ration optimale","Intensit\xe9 contr\xf4l\xe9e"),v+=" \xc0 votre \xe2ge, accordez une attention particuli\xe8re \xe0 la r\xe9cup\xe9ration entre les s\xe9ances."),t&&t.length>0){var y;const e=t.slice(0,14),r=s(e),n=(null===(y=r[r.length-1])||void 0===y?void 0:y.tsb)||0;n<-20?(v+=" Votre fatigue est \xe9lev\xe9e. Privil\xe9giez les s\xe9ances de r\xe9cup\xe9ration cette semaine.",p=[a.RECOVERY,a.ENDURANCE]):n>10&&(v+=" Votre niveau de fra\xeecheur est optimal pour des s\xe9ances de haute intensit\xe9.");const i=e.reduce(((e,t)=>{const r=t.type||a.ENDURANCE;return e[r]=(e[r]||0)+1,e}),{});Object.values(a).forEach((e=>{!i[e]&&p.includes(e)&&(v+=` Pensez \xe0 int\xe9grer des s\xe9ances de ${e} qui sont absentes de votre entra\xeenement r\xe9cent.`)}))}return{recommendedTypes:[...new Set(p)],weeklyStructure:x,focusAreas:g,message:v}},generateTrainingPlan:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;return{startDate:new Date,endDate:new Date(Date.now()+7*r*24*60*60*1e3),phases:[],weeklySchedule:[]}}}},45577:(e,t,r)=>{r.d(t,{hN:()=>i});var n=r(65043);r(83910),r(70579);const a=(0,n.createContext)(),i=()=>{const e=(0,n.useContext)(a);if(!e)throw new Error("useNotification doit \xeatre utilis\xe9 \xe0 l'int\xe9rieur d'un NotificationProvider");return e}},55178:(e,t,r)=>{r.d(t,{f$:()=>m,jc:()=>c});var n=r(65043),a=r(96446),i=r(88312),o=r(10611),s=r(63336),l=r(85865),u=r(28267),d=r(70579);const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{moduleName:r="Composant",minDelay:a=300,skeletonType:i="content",skeletonHeight:o=400}=t,s=()=>Promise.all([e(),new Promise((e=>setTimeout(e,a)))]).then((e=>{let[t]=e;return t})),l=(0,n.lazy)(s);return e=>(0,d.jsx)(n.Suspense,{fallback:(0,d.jsx)(m,{type:i,name:r,height:o}),children:(0,d.jsx)(l,{...e})})},m=e=>{let{type:t="content",name:r="Contenu",height:n=400}=e;const c={width:"100%",height:n,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden"},m={"@keyframes ride":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(100%)"}},animation:"ride 4s infinite linear",position:"absolute",bottom:"20%",fontSize:40,color:"primary.main"};switch(t){case"text":return(0,d.jsxs)(a.A,{sx:{width:"100%",p:2},children:[(0,d.jsx)(i.A,{animation:"wave",height:40,width:"70%"}),(0,d.jsx)(i.A,{animation:"wave",height:20,width:"90%"}),(0,d.jsx)(i.A,{animation:"wave",height:20,width:"85%"}),(0,d.jsx)(i.A,{animation:"wave",height:20,width:"80%"}),(0,d.jsx)(o.A,{color:"primary",sx:{mt:1}})]});case"card":return(0,d.jsxs)(s.A,{elevation:2,sx:{p:2,width:"100%"},children:[(0,d.jsx)(i.A,{animation:"wave",variant:"rectangular",height:140,width:"100%"}),(0,d.jsx)(i.A,{animation:"wave",height:40,width:"60%",sx:{mt:2}}),(0,d.jsx)(i.A,{animation:"wave",height:20,width:"90%"}),(0,d.jsx)(i.A,{animation:"wave",height:20,width:"85%"}),(0,d.jsx)(i.A,{animation:"wave",height:36,width:"30%",sx:{mt:1}}),(0,d.jsx)(o.A,{color:"primary",sx:{mt:2}})]});case"complex":return(0,d.jsxs)(a.A,{sx:{width:"100%"},children:[(0,d.jsxs)(a.A,{sx:{mb:2},children:[(0,d.jsx)(i.A,{animation:"wave",height:40,width:"50%"}),(0,d.jsx)(o.A,{color:"primary",sx:{mt:1}})]}),(0,d.jsx)(Grid,{container:!0,spacing:2,children:[1,2,3,4].map((e=>(0,d.jsx)(Grid,{item:!0,xs:12,sm:6,md:3,children:(0,d.jsxs)(s.A,{elevation:1,sx:{p:2},children:[(0,d.jsx)(i.A,{animation:"wave",variant:"rectangular",height:120}),(0,d.jsx)(i.A,{animation:"wave",height:30,width:"80%",sx:{mt:1}}),(0,d.jsx)(i.A,{animation:"wave",height:20,width:"90%"})]})},e)))})]});default:return(0,d.jsxs)(a.A,{sx:c,children:[(0,d.jsxs)(a.A,{sx:{borderRadius:2,backgroundColor:"background.paper",p:3,textAlign:"center",maxWidth:400,zIndex:1},children:[(0,d.jsxs)(l.A,{variant:"h6",color:"primary",gutterBottom:!0,children:["Chargement du module ",r]}),(0,d.jsx)(o.A,{color:"primary",sx:{mb:2,mt:1}}),(0,d.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"Pr\xe9paration des donn\xe9es en cours..."})]}),(0,d.jsx)(a.A,{sx:m,children:(0,d.jsx)(u.A,{fontSize:"inherit",color:"inherit"})})]})}}}}]);
//# sourceMappingURL=4997.e3650db2.chunk.js.map