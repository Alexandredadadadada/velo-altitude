{"version":3,"file":"static/js/818.deaf81ef.chunk.js","mappings":"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","sources":["webpack://velo-altitude/./client/src/services/clientFingerprintService.js","webpack://velo-altitude/./client/src/services/enhancedAuthClient.js","webpack://velo-altitude/./client/src/components/auth/AuthErrorHandler.js","webpack://velo-altitude/./client/src/contexts/AuthContext.js","webpack://velo-altitude/./client/src/contexts/ChallengeContext.js","webpack://velo-altitude/./client/src/components/challenges/components/ColSearchTab.js","webpack://velo-altitude/./client/src/components/challenges/components/MyChallenge.js","webpack://velo-altitude/./client/src/components/challenges/components/PredefinedChallenges.js","webpack://velo-altitude/./client/src/components/challenges/components/UserChallenges.js","webpack://velo-altitude/./client/src/components/cols/ColVisualization3D.js","webpack://velo-altitude/./client/src/components/challenges/components/ColDetailsDialog.js","webpack://velo-altitude/./client/src/components/challenges/components/ScheduleDialog.js","webpack://velo-altitude/./client/src/components/challenges/SevenMajorsChallenge.js","webpack://velo-altitude/./src/components/challenges/SevenMajorsChallenge.js"],"sourcesContent":["/**\n * Service de collecte d'empreintes client\n * Ce service génère une empreinte unique pour chaque appareil/navigateur \n * afin d'améliorer la sécurité du système d'authentification\n */\n\nimport { v4 as uuidv4 } from 'uuid';\nimport * as UAParser from 'ua-parser-js';\n\nclass ClientFingerprintService {\n  constructor() {\n    this.fingerprintKey = 'client_fingerprint';\n    this.uaParser = new UAParser();\n    this.initFingerprint();\n  }\n\n  /**\n   * Initialise l'empreinte client si elle n'existe pas déjà\n   */\n  initFingerprint() {\n    if (!this.getFingerprint()) {\n      this.generateFingerprint();\n    }\n  }\n\n  /**\n   * Génère et stocke une nouvelle empreinte client\n   * @returns {Object} L'empreinte complète avec toutes ses composantes\n   */\n  generateFingerprint() {\n    const uuid = uuidv4();\n    const browserInfo = this.getBrowserInfo();\n    const osInfo = this.getOSInfo();\n    const screenInfo = this.getScreenInfo();\n    const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    const languages = navigator.languages || [navigator.language || navigator.userLanguage];\n    \n    // Informations sur le matériel (si disponibles)\n    const hardwareInfo = this.getHardwareInfo();\n    \n    // Informations sur les capacités du navigateur\n    const capabilities = this.getCapabilities();\n    \n    const fingerprint = {\n      id: uuid,\n      browser: browserInfo,\n      os: osInfo,\n      screen: screenInfo,\n      timeZone,\n      languages,\n      hardware: hardwareInfo,\n      capabilities,\n      createdAt: new Date().toISOString()\n    };\n    \n    // Stocker l'empreinte complète\n    localStorage.setItem(this.fingerprintKey, JSON.stringify(fingerprint));\n    \n    return fingerprint;\n  }\n  \n  /**\n   * Récupère l'empreinte client stockée\n   * @returns {Object|null} L'empreinte client ou null si elle n'existe pas\n   */\n  getFingerprint() {\n    const stored = localStorage.getItem(this.fingerprintKey);\n    return stored ? JSON.parse(stored) : null;\n  }\n  \n  /**\n   * Récupère uniquement l'ID d'empreinte\n   * @returns {string|null} L'ID d'empreinte ou null\n   */\n  getFingerprintId() {\n    const fingerprint = this.getFingerprint();\n    return fingerprint ? fingerprint.id : null;\n  }\n  \n  /**\n   * Met à jour l'empreinte existante avec les données actuelles\n   * Utile pour détecter les changements de configuration\n   * @returns {Object} L'empreinte mise à jour\n   */\n  updateFingerprint() {\n    const currentFingerprint = this.getFingerprint();\n    if (!currentFingerprint) {\n      return this.generateFingerprint();\n    }\n    \n    // Garder l'ID existant mais mettre à jour les autres informations\n    const updatedFingerprint = {\n      ...this.generateFingerprint(),\n      id: currentFingerprint.id,\n      previousCreatedAt: currentFingerprint.createdAt,\n      updatedAt: new Date().toISOString()\n    };\n    \n    localStorage.setItem(this.fingerprintKey, JSON.stringify(updatedFingerprint));\n    return updatedFingerprint;\n  }\n  \n  /**\n   * Récupère les informations sur le navigateur\n   * @private\n   * @returns {Object} Informations sur le navigateur\n   */\n  getBrowserInfo() {\n    const browserResult = this.uaParser.getBrowser();\n    const engineResult = this.uaParser.getEngine();\n    \n    return {\n      name: browserResult.name || 'Unknown',\n      version: browserResult.version || 'Unknown',\n      engine: engineResult.name || 'Unknown',\n      engineVersion: engineResult.version || 'Unknown',\n      userAgent: navigator.userAgent\n    };\n  }\n  \n  /**\n   * Récupère les informations sur le système d'exploitation\n   * @private\n   * @returns {Object} Informations sur le système d'exploitation\n   */\n  getOSInfo() {\n    const osResult = this.uaParser.getOS();\n    \n    return {\n      name: osResult.name || 'Unknown',\n      version: osResult.version || 'Unknown',\n      platform: navigator.platform || 'Unknown'\n    };\n  }\n  \n  /**\n   * Récupère les informations sur l'écran\n   * @private\n   * @returns {Object} Informations sur l'écran\n   */\n  getScreenInfo() {\n    return {\n      width: window.screen.width,\n      height: window.screen.height,\n      colorDepth: window.screen.colorDepth,\n      pixelRatio: window.devicePixelRatio || 1,\n      orientation: window.screen.orientation ? window.screen.orientation.type : 'Unknown'\n    };\n  }\n  \n  /**\n   * Récupère les informations matérielles (si disponibles)\n   * @private\n   * @returns {Object} Informations sur le matériel\n   */\n  getHardwareInfo() {\n    const deviceResult = this.uaParser.getDevice();\n    const hardwareInfo = {\n      deviceType: deviceResult.type || 'Unknown',\n      deviceModel: deviceResult.model || 'Unknown',\n      deviceVendor: deviceResult.vendor || 'Unknown',\n      isMobile: this.isMobileDevice(),\n      isTablet: this.isTabletDevice()\n    };\n    \n    // Essayer d'obtenir des informations sur les cœurs CPU\n    if (navigator.hardwareConcurrency) {\n      hardwareInfo.cpuCores = navigator.hardwareConcurrency;\n    }\n    \n    // Essayer d'obtenir des informations sur la mémoire\n    if (navigator.deviceMemory) {\n      hardwareInfo.deviceMemory = navigator.deviceMemory;\n    }\n    \n    return hardwareInfo;\n  }\n  \n  /**\n   * Détermine si l'appareil est mobile\n   * @private\n   * @returns {boolean} True si l'appareil est un mobile\n   */\n  isMobileDevice() {\n    const deviceType = this.uaParser.getDevice().type;\n    return deviceType === 'mobile' || /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent);\n  }\n  \n  /**\n   * Détermine si l'appareil est une tablette\n   * @private\n   * @returns {boolean} True si l'appareil est une tablette\n   */\n  isTabletDevice() {\n    const deviceType = this.uaParser.getDevice().type;\n    return deviceType === 'tablet' || /(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(navigator.userAgent);\n  }\n  \n  /**\n   * Récupère les capacités techniques du navigateur\n   * @private\n   * @returns {Object} Capacités du navigateur\n   */\n  getCapabilities() {\n    const capabilities = {\n      cookies: navigator.cookieEnabled,\n      localStorage: this.isLocalStorageEnabled(),\n      sessionStorage: this.isSessionStorageEnabled(),\n      webGL: this.isWebGLEnabled(),\n      webRTC: this.isWebRTCEnabled(),\n      canvas: this.isCanvasEnabled(),\n      svg: this.isSVGEnabled(),\n      webP: null, // Sera déterminé de manière asynchrone\n      audio: this.isAudioEnabled(),\n      video: this.isVideoEnabled(),\n      touchPoints: 'maxTouchPoints' in navigator ? navigator.maxTouchPoints : 0,\n      bluetooth: 'bluetooth' in navigator,\n      gyroscope: this.hasGyroscope(),\n      serviceWorkers: 'serviceWorker' in navigator\n    };\n    \n    // Tester le support WebP de manière asynchrone\n    this.testWebPSupport().then(webPSupported => {\n      capabilities.webP = webPSupported;\n      \n      // Mettre à jour les capacités stockées\n      const fingerprint = this.getFingerprint();\n      if (fingerprint) {\n        fingerprint.capabilities = {\n          ...fingerprint.capabilities,\n          webP: webPSupported\n        };\n        localStorage.setItem(this.fingerprintKey, JSON.stringify(fingerprint));\n      }\n    });\n    \n    return capabilities;\n  }\n  \n  /**\n   * Vérifie si le localStorage est disponible\n   * @private\n   * @returns {boolean} True si le localStorage est disponible\n   */\n  isLocalStorageEnabled() {\n    try {\n      localStorage.setItem('test', 'test');\n      localStorage.removeItem('test');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  /**\n   * Vérifie si le sessionStorage est disponible\n   * @private\n   * @returns {boolean} True si le sessionStorage est disponible\n   */\n  isSessionStorageEnabled() {\n    try {\n      sessionStorage.setItem('test', 'test');\n      sessionStorage.removeItem('test');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  /**\n   * Vérifie si WebGL est disponible\n   * @private\n   * @returns {boolean} True si WebGL est disponible\n   */\n  isWebGLEnabled() {\n    try {\n      const canvas = document.createElement('canvas');\n      return !!(window.WebGLRenderingContext && \n        (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  /**\n   * Vérifie si WebRTC est disponible\n   * @private\n   * @returns {boolean} True si WebRTC est disponible\n   */\n  isWebRTCEnabled() {\n    return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia) || \n           !!(navigator.getUserMedia) || \n           !!(navigator.webkitGetUserMedia) || \n           !!(navigator.mozGetUserMedia);\n  }\n  \n  /**\n   * Vérifie si Canvas est disponible\n   * @private\n   * @returns {boolean} True si Canvas est disponible\n   */\n  isCanvasEnabled() {\n    try {\n      const canvas = document.createElement('canvas');\n      return !!(canvas.getContext && canvas.getContext('2d'));\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  /**\n   * Vérifie si SVG est disponible\n   * @private\n   * @returns {boolean} True si SVG est disponible\n   */\n  isSVGEnabled() {\n    return !!document.createElementNS && \n           !!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n  }\n  \n  /**\n   * Teste le support du format WebP\n   * @private\n   * @returns {Promise<boolean>} Promise résolu avec true si WebP est supporté\n   */\n  testWebPSupport() {\n    return new Promise(resolve => {\n      const webP = new Image();\n      webP.onload = webP.onerror = function() {\n        resolve(webP.height === 2);\n      };\n      webP.src = 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';\n    });\n  }\n  \n  /**\n   * Vérifie si l'API Audio est disponible\n   * @private\n   * @returns {boolean} True si l'API Audio est disponible\n   */\n  isAudioEnabled() {\n    return !!(window.AudioContext || window.webkitAudioContext || window.mozAudioContext);\n  }\n  \n  /**\n   * Vérifie si l'API Vidéo est disponible\n   * @private\n   * @returns {boolean} True si l'API Vidéo est disponible\n   */\n  isVideoEnabled() {\n    try {\n      const video = document.createElement('video');\n      return !!(video.canPlayType);\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  /**\n   * Vérifie si le gyroscope est disponible\n   * @private\n   * @returns {boolean} True si le gyroscope est disponible\n   */\n  hasGyroscope() {\n    return 'DeviceOrientationEvent' in window || 'DeviceMotionEvent' in window;\n  }\n  \n  /**\n   * Récupère une version simplifiée de l'empreinte pour l'authentification\n   * @returns {Object} Empreinte simplifiée\n   */\n  getAuthFingerprint() {\n    const fingerprint = this.getFingerprint() || this.generateFingerprint();\n    \n    return {\n      id: fingerprint.id,\n      browser: `${fingerprint.browser.name}/${fingerprint.browser.version}`,\n      os: `${fingerprint.os.name}/${fingerprint.os.version}`,\n      screen: `${fingerprint.screen.width}x${fingerprint.screen.height}`,\n      isMobile: fingerprint.hardware.isMobile,\n      timeZone: fingerprint.timeZone,\n      language: fingerprint.languages[0] || 'unknown'\n    };\n  }\n}\n\nconst clientFingerprintService = new ClientFingerprintService();\nexport default clientFingerprintService;\n","/**\n * Client d'authentification amélioré\n * Gère la rotation des tokens JWT, les périodes de grâce et la révocation sélective des tokens\n */\n\nimport { jwtDecode } from 'jwt-decode';\nimport clientFingerprintService from './clientFingerprintService';\n\nexport class AuthError extends Error {\n  constructor(message, code) {\n    super(message);\n    this.name = 'AuthError';\n    this.code = code;\n  }\n}\n\nexport class LocalStorageTokenStore {\n  constructor(prefix = 'auth_') {\n    this.prefix = prefix;\n  }\n\n  async getAccessToken() {\n    return localStorage.getItem(`${this.prefix}access_token`);\n  }\n\n  async getRefreshToken() {\n    return localStorage.getItem(`${this.prefix}refresh_token`);\n  }\n\n  async setTokens(accessToken, refreshToken) {\n    localStorage.setItem(`${this.prefix}access_token`, accessToken);\n    localStorage.setItem(`${this.prefix}refresh_token`, refreshToken);\n  }\n\n  async clearTokens() {\n    localStorage.removeItem(`${this.prefix}access_token`);\n    localStorage.removeItem(`${this.prefix}refresh_token`);\n  }\n}\n\nexport class EnhancedAuthClient {\n  constructor(options = {}) {\n    this.baseUrl = options.baseUrl || '/api/auth';\n    this.tokenStorage = options.tokenStorage || new LocalStorageTokenStore();\n    this.refreshThreshold = options.refreshThreshold || 300; // 5 minutes in seconds\n    this.graceEnabled = options.graceEnabled !== false; // Enable grace period by default\n    this.onSessionExpired = options.onSessionExpired || (() => {\n      window.dispatchEvent(new CustomEvent('auth:session-expired'));\n    });\n    this.onTokenRevoked = options.onTokenRevoked || (() => {\n      window.dispatchEvent(new CustomEvent('auth:token-revoked'));\n    });\n    \n    // Setup token refresh interval\n    this.refreshInterval = setInterval(() => {\n      this.checkAndRefreshToken();\n    }, (options.refreshCheckInterval || 60) * 1000); // Check every minute by default\n  }\n\n  /**\n   * Connecte l'utilisateur\n   * @param {Object} credentials Identifiants de connexion (email, password)\n   * @returns {Promise<Object>} Informations utilisateur\n   */\n  async login(credentials) {\n    try {\n      // Ajouter l'empreinte client aux données de connexion\n      const clientFingerprint = clientFingerprintService.getAuthFingerprint();\n      const loginData = {\n        ...credentials,\n        clientFingerprint\n      };\n\n      const response = await fetch(`${this.baseUrl}/login`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(loginData)\n      });\n      \n      if (!response.ok) {\n        const error = await response.json();\n        throw new AuthError(error.message, error.code);\n      }\n      \n      const data = await response.json();\n      await this.tokenStorage.setTokens(data.accessToken, data.refreshToken);\n      return data.user;\n    } catch (error) {\n      console.error('Login failed:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Déconnecte l'utilisateur\n   * @param {boolean} revokeAll Si true, révoque tous les tokens de l'utilisateur sur tous les appareils\n   * @returns {Promise<void>}\n   */\n  async logout(revokeAll = false) {\n    try {\n      const refreshToken = await this.tokenStorage.getRefreshToken();\n      if (refreshToken) {\n        // Révoquer le token sur le serveur\n        await fetch(`${this.baseUrl}/logout`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${await this.tokenStorage.getAccessToken()}`\n          },\n          body: JSON.stringify({ \n            refreshToken,\n            revokeAll,\n            clientFingerprint: clientFingerprintService.getFingerprintId()\n          })\n        });\n      }\n    } catch (error) {\n      console.warn('Error during logout:', error);\n    } finally {\n      // Supprimer les tokens localement indépendamment de la réponse du serveur\n      await this.tokenStorage.clearTokens();\n      clearInterval(this.refreshInterval);\n    }\n  }\n\n  /**\n   * Fournit une fonction fetch authentifiée\n   * @returns {Promise<Function>} Une fonction fetch avec authentification\n   */\n  async getAuthenticatedFetch() {\n    const accessToken = await this.tokenStorage.getAccessToken();\n    if (!accessToken) {\n      throw new AuthError('No access token available', 'no_token');\n    }\n    \n    return async (url, options = {}) => {\n      // Cloner les options pour éviter de modifier l'original\n      const fetchOptions = { ...options };\n      \n      // Ajouter l'en-tête d'autorisation\n      fetchOptions.headers = {\n        ...fetchOptions.headers,\n        'Authorization': `Bearer ${accessToken}`\n      };\n      \n      // Ajouter l'empreinte client aux en-têtes\n      const fingerprint = clientFingerprintService.getFingerprintId();\n      if (fingerprint) {\n        fetchOptions.headers['X-Client-ID'] = fingerprint;\n      }\n      \n      try {\n        const response = await fetch(url, fetchOptions);\n        \n        // Gérer les erreurs d'authentification\n        if (response.status === 401 || response.status === 403) {\n          let errorData;\n          try {\n            errorData = await response.json();\n          } catch (e) {\n            errorData = { message: 'Authentication error', code: 'auth_error' };\n          }\n          \n          // Si le token est expiré mais dans la période de grâce, essayer de le rafraîchir\n          if (errorData.code === 'token_expired' && this.graceEnabled) {\n            try {\n              const newToken = await this.refreshToken();\n              if (newToken) {\n                // Réessayer avec le nouveau token\n                fetchOptions.headers['Authorization'] = `Bearer ${newToken}`;\n                return fetch(url, fetchOptions);\n              }\n            } catch (refreshError) {\n              console.error('Failed to refresh token during grace period:', refreshError);\n            }\n          }\n          \n          throw new AuthError(errorData.message, errorData.code);\n        }\n        \n        return response;\n      } catch (error) {\n        if (error instanceof AuthError) {\n          // Gérer les erreurs d'authentification spécifiques\n          if (error.code === 'token_revoked') {\n            await this.tokenStorage.clearTokens();\n            this.onTokenRevoked();\n          } else if (error.code === 'session_expired' || error.code === 'invalid_token') {\n            await this.tokenStorage.clearTokens();\n            this.onSessionExpired();\n          }\n        }\n        throw error;\n      }\n    };\n  }\n\n  /**\n   * Rafraîchit le token d'accès\n   * @returns {Promise<string>} Nouveau token d'accès\n   */\n  async refreshToken() {\n    try {\n      const refreshToken = await this.tokenStorage.getRefreshToken();\n      if (!refreshToken) {\n        throw new AuthError('No refresh token available', 'no_refresh_token');\n      }\n      \n      // Inclure l'empreinte client dans la demande de rafraîchissement\n      const fingerprint = clientFingerprintService.getAuthFingerprint();\n      \n      const response = await fetch(`${this.baseUrl}/refresh`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          refreshToken,\n          clientFingerprint: fingerprint\n        })\n      });\n      \n      if (!response.ok) {\n        const error = await response.json();\n        throw new AuthError(error.message, error.code);\n      }\n      \n      const data = await response.json();\n      await this.tokenStorage.setTokens(data.accessToken, data.refreshToken);\n      return data.accessToken;\n    } catch (error) {\n      console.error('Token refresh failed:', error);\n      if (error.code === 'invalid_refresh_token' || error.code === 'refresh_token_expired') {\n        await this.tokenStorage.clearTokens();\n        this.onSessionExpired();\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * Vérifie si le token est sur le point d'expirer et le rafraîchit si nécessaire\n   * @returns {Promise<void>}\n   */\n  async checkAndRefreshToken() {\n    try {\n      const accessToken = await this.tokenStorage.getAccessToken();\n      if (!accessToken) return;\n      \n      // Décoder le token sans vérification pour vérifier l'expiration\n      const payload = this._decodeToken(accessToken);\n      if (!payload || !payload.exp) return;\n      \n      const now = Math.floor(Date.now() / 1000);\n      const timeUntilExpiry = payload.exp - now;\n      \n      // Rafraîchir si le token est sur le point d'expirer\n      if (timeUntilExpiry < this.refreshThreshold) {\n        await this.refreshToken();\n      }\n    } catch (error) {\n      console.warn('Error checking token expiration:', error);\n    }\n  }\n\n  /**\n   * Décode un token JWT sans vérification de signature\n   * @private\n   * @param {string} token Token JWT\n   * @returns {Object|null} Contenu décodé du token\n   */\n  _decodeToken(token) {\n    try {\n      return jwtDecode(token);\n    } catch (error) {\n      console.error('Error decoding token:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Vérifie si l'utilisateur est authentifié\n   * @returns {Promise<boolean>} Statut d'authentification\n   */\n  async isAuthenticated() {\n    const accessToken = await this.tokenStorage.getAccessToken();\n    if (!accessToken) return false;\n    \n    const payload = this._decodeToken(accessToken);\n    if (!payload || !payload.exp) return false;\n    \n    const now = Math.floor(Date.now() / 1000);\n    return payload.exp > now;\n  }\n\n  /**\n   * Récupère les informations utilisateur du token\n   * @returns {Promise<Object|null>} Informations utilisateur\n   */\n  async getUserInfo() {\n    const accessToken = await this.tokenStorage.getAccessToken();\n    if (!accessToken) return null;\n    \n    const payload = this._decodeToken(accessToken);\n    return payload ? payload.user : null;\n  }\n\n  /**\n   * Nettoie les ressources utilisées par le client\n   */\n  dispose() {\n    clearInterval(this.refreshInterval);\n  }\n}\n\n// Export d'une instance singleton avec les paramètres par défaut\nconst enhancedAuthClient = new EnhancedAuthClient();\nexport default enhancedAuthClient;\n","/**\n * Gestionnaire d'erreurs d'authentification\n * Affiche différentes interfaces utilisateur selon le type d'erreur d'authentification\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  Button,\n  Snackbar,\n  Alert,\n  Typography,\n  Box\n} from '@mui/material';\nimport {\n  ErrorOutline as ErrorIcon,\n  LockOutlined as LockIcon,\n  RefreshOutlined as RefreshIcon,\n  DevicesOutlined as DevicesIcon,\n  WarningAmberOutlined as WarningIcon\n} from '@mui/icons-material';\n\n// Mapping des codes d'erreur vers des configurations d'affichage\nconst errorConfig = {\n  // Erreurs de session\n  'token_expired': {\n    title: 'Session expirée',\n    message: 'Votre session a expiré. Veuillez vous reconnecter.',\n    icon: <RefreshIcon color=\"warning\" />,\n    severity: 'warning',\n    buttons: [\n      { label: 'Se reconnecter', action: 'login', color: 'primary' }\n    ]\n  },\n  'session_expired': {\n    title: 'Session expirée',\n    message: 'Votre session a expiré. Veuillez vous reconnecter.',\n    icon: <RefreshIcon color=\"warning\" />,\n    severity: 'warning',\n    buttons: [\n      { label: 'Se reconnecter', action: 'login', color: 'primary' }\n    ]\n  },\n  'token_revoked': {\n    title: 'Session révoquée',\n    message: 'Votre session a été révoquée. Veuillez vous reconnecter.',\n    icon: <LockIcon color=\"error\" />,\n    severity: 'error',\n    buttons: [\n      { label: 'Se reconnecter', action: 'login', color: 'primary' }\n    ]\n  },\n  \n  // Erreurs d'appareil\n  'device_changed': {\n    title: 'Nouvel appareil détecté',\n    message: 'Nous avons détecté une connexion depuis un nouvel appareil. Pour votre sécurité, veuillez vous reconnecter.',\n    icon: <DevicesIcon color=\"warning\" />,\n    severity: 'warning',\n    buttons: [\n      { label: 'Se reconnecter', action: 'login', color: 'primary' }\n    ]\n  },\n  'too_many_devices': {\n    title: 'Trop d\\'appareils',\n    message: 'Vous êtes connecté sur trop d\\'appareils différents. Veuillez vous déconnecter de l\\'un d\\'entre eux et réessayer.',\n    icon: <DevicesIcon color=\"error\" />,\n    severity: 'error',\n    buttons: [\n      { label: 'Gérer mes appareils', action: 'manage_devices', color: 'primary' },\n      { label: 'Se reconnecter', action: 'login', color: 'secondary' }\n    ]\n  },\n  \n  // Erreurs de sécurité\n  'account_locked': {\n    title: 'Compte verrouillé',\n    message: 'Votre compte a été temporairement verrouillé pour des raisons de sécurité. Veuillez réessayer dans quelques minutes ou contacter le support.',\n    icon: <LockIcon color=\"error\" />,\n    severity: 'error',\n    buttons: [\n      { label: 'Contacter le support', action: 'support', color: 'primary' },\n      { label: 'Réessayer', action: 'login', color: 'secondary' }\n    ]\n  },\n  \n  // Erreur par défaut\n  'default': {\n    title: 'Erreur d\\'authentification',\n    message: 'Une erreur d\\'authentification s\\'est produite. Veuillez vous reconnecter.',\n    icon: <ErrorIcon color=\"error\" />,\n    severity: 'error',\n    buttons: [\n      { label: 'Se reconnecter', action: 'login', color: 'primary' }\n    ]\n  }\n};\n\n/**\n * Composant pour gérer les erreurs d'authentification\n * @param {Object} props Propriétés du composant\n * @param {string} props.errorCode Code d'erreur d'authentification\n * @param {string} props.errorMessage Message d'erreur personnalisé (optionnel)\n * @param {boolean} props.open Si le dialogue est ouvert\n * @param {Function} props.onClose Fonction à appeler lors de la fermeture\n * @param {Function} props.onAction Fonction à appeler lors d'une action (login, manage_devices, support)\n * @param {boolean} props.useSnackbar Utiliser une snackbar au lieu d'un dialogue pour les erreurs moins critiques\n */\nconst AuthErrorHandler = ({\n  errorCode = 'default',\n  errorMessage,\n  open = false,\n  onClose,\n  onAction,\n  useSnackbar = false\n}) => {\n  const navigate = useNavigate();\n  const [showError, setShowError] = useState(open);\n  \n  // Récupérer la configuration pour ce code d'erreur\n  const config = errorConfig[errorCode] || errorConfig.default;\n  \n  useEffect(() => {\n    setShowError(open);\n  }, [open, errorCode]);\n  \n  // Gestionnaire de fermeture\n  const handleClose = () => {\n    setShowError(false);\n    if (onClose) onClose();\n  };\n  \n  // Gestionnaire d'action\n  const handleAction = (action) => {\n    handleClose();\n    \n    if (onAction) {\n      onAction(action);\n      return;\n    }\n    \n    // Actions par défaut si aucun gestionnaire personnalisé n'est fourni\n    switch (action) {\n      case 'login':\n        navigate('/login');\n        break;\n      case 'manage_devices':\n        navigate('/account/devices');\n        break;\n      case 'support':\n        navigate('/support');\n        break;\n      default:\n        console.warn(`Action non gérée: ${action}`);\n    }\n  };\n  \n  // Utiliser une snackbar pour les erreurs moins critiques si demandé\n  if (useSnackbar && (config.severity === 'info' || config.severity === 'warning')) {\n    return (\n      <Snackbar\n        open={showError}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      >\n        <Alert\n          onClose={handleClose}\n          severity={config.severity}\n          variant=\"filled\"\n          sx={{ width: '100%' }}\n          action={\n            <Button \n              color=\"inherit\" \n              size=\"small\" \n              onClick={() => handleAction(config.buttons[0].action)}\n            >\n              {config.buttons[0].label}\n            </Button>\n          }\n        >\n          {errorMessage || config.message}\n        </Alert>\n      </Snackbar>\n    );\n  }\n  \n  // Utiliser un dialogue pour les erreurs critiques\n  return (\n    <Dialog\n      open={showError}\n      onClose={handleClose}\n      aria-labelledby=\"auth-error-title\"\n      aria-describedby=\"auth-error-description\"\n      PaperProps={{\n        sx: {\n          width: '100%',\n          maxWidth: 500,\n          borderTop: `4px solid ${\n            config.severity === 'error' ? 'error.main' :\n            config.severity === 'warning' ? 'warning.main' : 'primary.main'\n          }`\n        }\n      }}\n    >\n      <DialogTitle id=\"auth-error-title\" sx={{ pb: 1 }}>\n        <Box display=\"flex\" alignItems=\"center\" gap={1}>\n          {config.icon}\n          <Typography variant=\"h6\" component=\"span\">\n            {config.title}\n          </Typography>\n        </Box>\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"auth-error-description\">\n          {errorMessage || config.message}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions sx={{ px: 3, pb: 2 }}>\n        {config.buttons.map((button, index) => (\n          <Button\n            key={index}\n            onClick={() => handleAction(button.action)}\n            color={button.color}\n            variant={index === 0 ? 'contained' : 'outlined'}\n          >\n            {button.label}\n          </Button>\n        ))}\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AuthErrorHandler;\n","/**\n * Contexte d'authentification pour l'application\n * Fournit des fonctionnalités d'authentification à l'ensemble de l'application\n */\n\nimport React, { createContext, useState, useEffect, useContext, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport enhancedAuthClient from '../services/enhancedAuthClient';\nimport AuthErrorHandler from '../components/auth/AuthErrorHandler';\n\n// Création du contexte\nconst AuthContext = createContext(null);\n\n/**\n * Fournisseur du contexte d'authentification\n * @param {Object} props Props du composant\n * @param {React.ReactNode} props.children Enfants du composant\n */\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  // Fonction pour charger le profil utilisateur\n  const loadUserProfile = useCallback(async () => {\n    try {\n      const userInfo = await enhancedAuthClient.getUserInfo();\n      setCurrentUser(userInfo);\n      return userInfo;\n    } catch (err) {\n      console.error('Erreur lors du chargement du profil utilisateur:', err);\n      setCurrentUser(null);\n      return null;\n    }\n  }, []);\n\n  // Vérifier l'état d'authentification au chargement\n  useEffect(() => {\n    const checkAuth = async () => {\n      setLoading(true);\n      try {\n        const isAuthenticated = await enhancedAuthClient.isAuthenticated();\n        \n        if (isAuthenticated) {\n          await loadUserProfile();\n        } else {\n          setCurrentUser(null);\n        }\n      } catch (err) {\n        console.error('Erreur lors de la vérification de l\\'authentification:', err);\n        setCurrentUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    checkAuth();\n  }, [loadUserProfile]);\n\n  // Gérer les événements d'authentification\n  useEffect(() => {\n    const handleSessionExpired = () => {\n      setCurrentUser(null);\n      setError({\n        code: 'session_expired',\n        message: 'Votre session a expiré. Veuillez vous reconnecter.'\n      });\n    };\n\n    const handleTokenRevoked = () => {\n      setCurrentUser(null);\n      setError({\n        code: 'token_revoked',\n        message: 'Votre session a été révoquée. Veuillez vous reconnecter.'\n      });\n    };\n\n    const handleAuthError = (event) => {\n      setError(event.detail);\n    };\n\n    // S'abonner aux événements\n    window.addEventListener('auth:session-expired', handleSessionExpired);\n    window.addEventListener('auth:token-revoked', handleTokenRevoked);\n    window.addEventListener('auth:error', handleAuthError);\n\n    // Se désabonner à la destruction\n    return () => {\n      window.removeEventListener('auth:session-expired', handleSessionExpired);\n      window.removeEventListener('auth:token-revoked', handleTokenRevoked);\n      window.removeEventListener('auth:error', handleAuthError);\n    };\n  }, [navigate]);\n\n  // Fonction de connexion\n  const login = async (credentials) => {\n    setLoading(true);\n    try {\n      const user = await enhancedAuthClient.login(credentials);\n      setCurrentUser(user);\n      return user;\n    } catch (err) {\n      console.error('Erreur de connexion:', err);\n      setError({\n        code: err.code || 'auth_error',\n        message: err.message || 'Erreur lors de la connexion'\n      });\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fonction de déconnexion\n  const logout = async (revokeAll = false) => {\n    setLoading(true);\n    try {\n      await enhancedAuthClient.logout(revokeAll);\n      setCurrentUser(null);\n      navigate('/login');\n    } catch (err) {\n      console.error('Erreur lors de la déconnexion:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fonction pour obtenir un fetch authentifié\n  const getAuthFetch = useCallback(async () => {\n    try {\n      return await enhancedAuthClient.getAuthenticatedFetch();\n    } catch (err) {\n      console.error('Erreur lors de la récupération du fetch authentifié:', err);\n      if (err.code === 'no_token') {\n        setCurrentUser(null);\n      }\n      throw err;\n    }\n  }, []);\n\n  // Fermeture du dialogue d'erreur\n  const handleErrorClose = () => {\n    setError(null);\n  };\n\n  // Gestionnaire d'action d'erreur\n  const handleErrorAction = (action) => {\n    setError(null);\n    \n    switch (action) {\n      case 'login':\n        navigate('/login');\n        break;\n      case 'manage_devices':\n        navigate('/account/devices');\n        break;\n      default:\n        // Autres actions\n        break;\n    }\n  };\n\n  // Valeurs exposées par le contexte\n  const contextValue = {\n    currentUser,\n    loading,\n    isAuthenticated: !!currentUser,\n    login,\n    logout,\n    getAuthFetch,\n    loadUserProfile,\n    error\n  };\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {children}\n      \n      {/* Gestionnaire d'erreurs d'authentification */}\n      {error && (\n        <AuthErrorHandler\n          errorCode={error.code}\n          errorMessage={error.message}\n          open={!!error}\n          onClose={handleErrorClose}\n          onAction={handleErrorAction}\n          useSnackbar={error.code === 'token_expired'} // Utiliser snackbar pour les erreurs moins critiques\n        />\n      )}\n    </AuthContext.Provider>\n  );\n};\n\n/**\n * Hook pour utiliser le contexte d'authentification\n * @returns {Object} Contexte d'authentification\n */\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth doit être utilisé à l\\'intérieur d\\'un AuthProvider');\n  }\n  return context;\n};\n\nexport default AuthContext;\n","import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from './AuthContext';\n\n// Création du contexte\nconst ChallengeContext = createContext();\n\n// Actions types\nconst ACTIONS = {\n  SET_LOADING: 'SET_LOADING',\n  SET_ERROR: 'SET_ERROR',\n  SET_ALL_COLS: 'SET_ALL_COLS',\n  SET_TOTAL_ITEMS: 'SET_TOTAL_ITEMS',\n  SET_FILTERS: 'SET_FILTERS',\n  SET_PAGE: 'SET_PAGE',\n  SELECT_COL: 'SELECT_COL',\n  REMOVE_COL: 'REMOVE_COL',\n  SET_CHALLENGE_NAME: 'SET_CHALLENGE_NAME',\n  SET_IS_PUBLIC: 'SET_IS_PUBLIC',\n  SET_ACTIVE_TAB: 'SET_ACTIVE_TAB',\n  SET_PREDEFINED_CHALLENGES: 'SET_PREDEFINED_CHALLENGES',\n  SET_USER_CHALLENGES: 'SET_USER_CHALLENGES',\n  SET_SELECTED_COL: 'SET_SELECTED_COL',\n  SET_SHOW_COL_DETAILS: 'SET_SHOW_COL_DETAILS',\n  SET_WEATHER_DATA: 'SET_WEATHER_DATA',\n  SET_USER_COMPLETED_COLS: 'SET_USER_COMPLETED_COLS',\n  SET_SCHEDULED_ASCENTS: 'SET_SCHEDULED_ASCENTS',\n  SET_SCHEDULE_DIALOG: 'SET_SCHEDULE_DIALOG',\n  ADD_SCHEDULED_ASCENT: 'ADD_SCHEDULED_ASCENT',\n  SET_COMMUNITY_FILTER: 'SET_COMMUNITY_FILTER',\n  SET_COMMUNITY_SEARCH: 'SET_COMMUNITY_SEARCH',\n  SET_COMMUNITY_LIKES: 'SET_COMMUNITY_LIKES',\n  TOGGLE_LIKE_CHALLENGE: 'TOGGLE_LIKE_CHALLENGE',\n  LOAD_CHALLENGE: 'LOAD_CHALLENGE',\n  CLEAR_SELECTION: 'CLEAR_SELECTION',\n  SET_NOTIFICATION: 'SET_NOTIFICATION',\n  CLEAR_NOTIFICATION: 'CLEAR_NOTIFICATION',\n  SET_EXPORT_FORMAT: 'SET_EXPORT_FORMAT',\n};\n\n// État initial\nconst initialState = {\n  loading: false,\n  error: null,\n  allCols: [],\n  totalItems: 0,\n  filters: {\n    region: '',\n    country: '',\n    minAltitude: '',\n    maxAltitude: '',\n    difficulty: '',\n    searchQuery: ''\n  },\n  page: 1,\n  rowsPerPage: 20,\n  selectedCols: [],\n  challengeName: \"Mon défi des 7 Majeurs\",\n  isPublic: false,\n  activeTab: 0,\n  predefinedChallenges: [],\n  userChallenges: [],\n  selectedCol: null,\n  showColDetails: false,\n  weatherData: {},\n  showScheduleDialog: false,\n  scheduleColId: null,\n  scheduleColName: '',\n  communityFilter: 'recent',\n  communitySearch: '',\n  communityLikes: {},\n  userCompletedCols: [],\n  scheduledAscents: {},\n  exportFormat: 'gpx',\n  notification: null\n};\n\n// Reducer pour gérer les actions\nconst challengeReducer = (state, action) => {\n  switch (action.type) {\n    case ACTIONS.SET_LOADING:\n      return { ...state, loading: action.payload };\n    \n    case ACTIONS.SET_ERROR:\n      return { ...state, error: action.payload, loading: false };\n    \n    case ACTIONS.SET_ALL_COLS:\n      return { ...state, allCols: action.payload, loading: false };\n    \n    case ACTIONS.SET_TOTAL_ITEMS:\n      return { ...state, totalItems: action.payload };\n    \n    case ACTIONS.SET_FILTERS:\n      return { \n        ...state, \n        filters: { ...state.filters, ...action.payload },\n        page: 1 // Réinitialiser la page lors du changement de filtres\n      };\n    \n    case ACTIONS.SET_PAGE:\n      return { ...state, page: action.payload };\n    \n    case ACTIONS.SELECT_COL:\n      // Éviter les doublons et limiter à 7 cols\n      if (state.selectedCols.length >= 7 || \n          state.selectedCols.some(col => col.id === action.payload.id)) {\n        return state;\n      }\n      return { \n        ...state, \n        selectedCols: [...state.selectedCols, action.payload] \n      };\n    \n    case ACTIONS.REMOVE_COL:\n      return { \n        ...state, \n        selectedCols: state.selectedCols.filter(col => col.id !== action.payload)\n      };\n    \n    case ACTIONS.SET_CHALLENGE_NAME:\n      return { ...state, challengeName: action.payload };\n    \n    case ACTIONS.SET_IS_PUBLIC:\n      return { ...state, isPublic: action.payload };\n    \n    case ACTIONS.SET_ACTIVE_TAB:\n      return { ...state, activeTab: action.payload };\n    \n    case ACTIONS.SET_PREDEFINED_CHALLENGES:\n      return { ...state, predefinedChallenges: action.payload, loading: false };\n    \n    case ACTIONS.SET_USER_CHALLENGES:\n      return { ...state, userChallenges: action.payload, loading: false };\n    \n    case ACTIONS.SET_SELECTED_COL:\n      return { ...state, selectedCol: action.payload };\n    \n    case ACTIONS.SET_SHOW_COL_DETAILS:\n      return { ...state, showColDetails: action.payload };\n    \n    case ACTIONS.SET_WEATHER_DATA:\n      return { \n        ...state, \n        weatherData: { \n          ...state.weatherData, \n          [action.payload.colId]: action.payload.data \n        } \n      };\n    \n    case ACTIONS.SET_USER_COMPLETED_COLS:\n      return { ...state, userCompletedCols: action.payload };\n    \n    case ACTIONS.SET_SCHEDULED_ASCENTS:\n      return { ...state, scheduledAscents: action.payload };\n    \n    case ACTIONS.SET_SCHEDULE_DIALOG:\n      return { \n        ...state, \n        showScheduleDialog: action.payload.show,\n        scheduleColId: action.payload.colId || state.scheduleColId,\n        scheduleColName: action.payload.colName || state.scheduleColName\n      };\n    \n    case ACTIONS.ADD_SCHEDULED_ASCENT:\n      return {\n        ...state,\n        scheduledAscents: {\n          ...state.scheduledAscents,\n          [action.payload.colId]: action.payload.date\n        }\n      };\n    \n    case ACTIONS.SET_COMMUNITY_FILTER:\n      return { ...state, communityFilter: action.payload };\n    \n    case ACTIONS.SET_COMMUNITY_SEARCH:\n      return { ...state, communitySearch: action.payload };\n    \n    case ACTIONS.SET_COMMUNITY_LIKES:\n      return { ...state, communityLikes: action.payload };\n    \n    case ACTIONS.TOGGLE_LIKE_CHALLENGE:\n      return {\n        ...state,\n        communityLikes: {\n          ...state.communityLikes,\n          [action.payload]: !state.communityLikes[action.payload]\n        }\n      };\n    \n    case ACTIONS.LOAD_CHALLENGE:\n      return {\n        ...state,\n        challengeName: action.payload.name,\n        selectedCols: action.payload.cols,\n        isPublic: action.payload.isPublic || false,\n        activeTab: 1 // Basculer vers l'onglet \"Mon défi\"\n      };\n    \n    case ACTIONS.CLEAR_SELECTION:\n      return {\n        ...state,\n        selectedCols: [],\n        challengeName: \"Mon défi des 7 Majeurs\",\n        isPublic: false\n      };\n    \n    case ACTIONS.SET_NOTIFICATION:\n      return { ...state, notification: action.payload };\n    \n    case ACTIONS.CLEAR_NOTIFICATION:\n      return { ...state, notification: null };\n    \n    case ACTIONS.SET_EXPORT_FORMAT:\n      return { ...state, exportFormat: action.payload };\n    \n    default:\n      return state;\n  }\n};\n\n// Provider du contexte\nexport const ChallengeProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(challengeReducer, initialState);\n  const { isAuthenticated, user } = useAuth();\n  \n  // Fonctions d'effet de bord\n  \n  // Charger les données des cols avec pagination\n  const fetchColsData = async () => {\n    try {\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\n      \n      const response = await axios.get('/api/european-cols', {\n        params: {\n          page: state.page,\n          limit: state.rowsPerPage,\n          search: state.filters.searchQuery,\n          region: state.filters.region,\n          country: state.filters.country,\n          minAltitude: state.filters.minAltitude,\n          maxAltitude: state.filters.maxAltitude,\n          difficulty: state.filters.difficulty\n        }\n      });\n      \n      dispatch({ type: ACTIONS.SET_ALL_COLS, payload: response.data.items });\n      dispatch({ type: ACTIONS.SET_TOTAL_ITEMS, payload: response.data.total });\n    } catch (err) {\n      console.error('Erreur lors du chargement des cols:', err);\n      dispatch({ \n        type: ACTIONS.SET_ERROR, \n        payload: 'Impossible de charger les données des cols. Veuillez réessayer plus tard.' \n      });\n    }\n  };\n  \n  // Charger les défis prédéfinis\n  const fetchPredefinedChallenges = async () => {\n    try {\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\n      \n      const response = await axios.get('/api/predefined-challenges');\n      dispatch({ type: ACTIONS.SET_PREDEFINED_CHALLENGES, payload: response.data });\n    } catch (err) {\n      console.error('Erreur lors du chargement des défis prédéfinis:', err);\n      dispatch({ \n        type: ACTIONS.SET_ERROR, \n        payload: 'Impossible de charger les défis prédéfinis. Veuillez réessayer plus tard.' \n      });\n    }\n  };\n  \n  // Charger les défis de l'utilisateur\n  const fetchUserChallenges = async () => {\n    if (!isAuthenticated) return;\n    \n    try {\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\n      \n      const response = await axios.get('/api/user-challenges');\n      dispatch({ type: ACTIONS.SET_USER_CHALLENGES, payload: response.data });\n    } catch (err) {\n      console.error('Erreur lors du chargement des défis utilisateur:', err);\n      dispatch({ \n        type: ACTIONS.SET_ERROR, \n        payload: 'Impossible de charger vos défis. Veuillez réessayer plus tard.' \n      });\n    }\n  };\n  \n  // Charger les cols complétés par l'utilisateur\n  const fetchCompletedCols = async () => {\n    if (!isAuthenticated) return;\n    \n    try {\n      const response = await axios.get('/api/user-completed-cols');\n      dispatch({ type: ACTIONS.SET_USER_COMPLETED_COLS, payload: response.data.map(item => item.colId) });\n    } catch (err) {\n      console.error('Erreur lors du chargement des cols complétés:', err);\n    }\n  };\n  \n  // Charger les ascensions programmées\n  const fetchScheduledAscents = async () => {\n    if (!isAuthenticated) return;\n    \n    try {\n      const response = await axios.get('/api/scheduled-ascents');\n      \n      // Transformer le tableau en objet { colId: date }\n      const scheduledMap = response.data.reduce((acc, item) => {\n        acc[item.colId] = item.date;\n        return acc;\n      }, {});\n      \n      dispatch({ type: ACTIONS.SET_SCHEDULED_ASCENTS, payload: scheduledMap });\n    } catch (err) {\n      console.error('Erreur lors du chargement des ascensions programmées:', err);\n    }\n  };\n  \n  // Sauvegarder un défi personnalisé\n  const saveChallenge = async () => {\n    if (!isAuthenticated || state.selectedCols.length === 0) return;\n    \n    try {\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\n      \n      const challengeData = {\n        name: state.challengeName,\n        cols: state.selectedCols.map(col => col.id),\n        isPublic: state.isPublic\n      };\n      \n      await axios.post('/api/user-challenges', challengeData);\n      \n      // Rafraîchir la liste des défis\n      await fetchUserChallenges();\n      \n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Défi sauvegardé avec succès!',\n          severity: 'success'\n        }\n      });\n    } catch (err) {\n      console.error('Erreur lors de la sauvegarde du défi:', err);\n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Impossible de sauvegarder le défi. Veuillez réessayer plus tard.',\n          severity: 'error'\n        } \n      });\n    } finally {\n      dispatch({ type: ACTIONS.SET_LOADING, payload: false });\n    }\n  };\n  \n  // Marquer un col comme complété\n  const markColAsCompleted = async (colId) => {\n    if (!isAuthenticated) return;\n    \n    try {\n      await axios.post('/api/user-completed-cols', { colId });\n      \n      // Mettre à jour la liste des cols complétés\n      dispatch({ \n        type: ACTIONS.SET_USER_COMPLETED_COLS, \n        payload: [...state.userCompletedCols, colId]\n      });\n      \n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Col marqué comme conquis!',\n          severity: 'success'\n        }\n      });\n    } catch (err) {\n      console.error('Erreur lors du marquage du col:', err);\n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Impossible de marquer le col comme complété. Veuillez réessayer plus tard.',\n          severity: 'error'\n        } \n      });\n    }\n  };\n  \n  // Planifier une ascension\n  const scheduleAscent = async (date) => {\n    if (!isAuthenticated || !state.scheduleColId) return;\n    \n    try {\n      await axios.post('/api/scheduled-ascents', {\n        colId: state.scheduleColId,\n        date: date\n      });\n      \n      // Mettre à jour la liste des ascensions programmées\n      dispatch({ \n        type: ACTIONS.ADD_SCHEDULED_ASCENT, \n        payload: {\n          colId: state.scheduleColId,\n          date: date\n        }\n      });\n      \n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Ascension programmée!',\n          severity: 'success'\n        }\n      });\n      \n      // Fermer la boîte de dialogue\n      dispatch({ \n        type: ACTIONS.SET_SCHEDULE_DIALOG, \n        payload: {\n          show: false\n        }\n      });\n    } catch (err) {\n      console.error('Erreur lors de la programmation de l\\'ascension:', err);\n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Impossible de programmer l\\'ascension. Veuillez réessayer plus tard.',\n          severity: 'error'\n        } \n      });\n    }\n  };\n  \n  // Récupérer les données météo pour un col\n  const fetchWeatherData = async (colId, lat, lng) => {\n    try {\n      const response = await axios.get(`/api/weather?lat=${lat}&lng=${lng}`);\n      \n      dispatch({ \n        type: ACTIONS.SET_WEATHER_DATA, \n        payload: {\n          colId,\n          data: response.data\n        }\n      });\n    } catch (err) {\n      console.error('Erreur lors de la récupération des données météo:', err);\n    }\n  };\n  \n  // Supprimer un défi utilisateur\n  const deleteChallenge = async (challengeId) => {\n    if (!isAuthenticated) return;\n    \n    try {\n      await axios.delete(`/api/user-challenges/${challengeId}`);\n      \n      // Rafraîchir la liste des défis\n      await fetchUserChallenges();\n      \n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Défi supprimé avec succès!',\n          severity: 'success'\n        }\n      });\n    } catch (err) {\n      console.error('Erreur lors de la suppression du défi:', err);\n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Impossible de supprimer le défi. Veuillez réessayer plus tard.',\n          severity: 'error'\n        } \n      });\n    }\n  };\n  \n  // \"Like\" un défi communautaire\n  const likeChallenge = async (challengeId) => {\n    if (!isAuthenticated) return;\n    \n    try {\n      // Inverser l'état du like\n      const isLiked = state.communityLikes[challengeId];\n      \n      await axios.post(`/api/challenges/${challengeId}/like`, { like: !isLiked });\n      \n      dispatch({ type: ACTIONS.TOGGLE_LIKE_CHALLENGE, payload: challengeId });\n    } catch (err) {\n      console.error('Erreur lors du like/unlike:', err);\n    }\n  };\n  \n  // Exporter un parcours\n  const exportTrack = async (colId, format) => {\n    try {\n      const response = await axios.get(`/api/cols/${colId}/export?format=${format}`, {\n        responseType: 'blob'\n      });\n      \n      // Créer un URL pour le blob\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      \n      // Créer un lien temporaire\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `col_${colId}.${format}`);\n      \n      // Ajouter au document\n      document.body.appendChild(link);\n      \n      // Cliquer sur le lien\n      link.click();\n      \n      // Nettoyer\n      link.parentNode.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error('Erreur lors de l\\'exportation du parcours:', err);\n      dispatch({ \n        type: ACTIONS.SET_NOTIFICATION, \n        payload: {\n          message: 'Impossible d\\'exporter le parcours. Veuillez réessayer plus tard.',\n          severity: 'error'\n        } \n      });\n    }\n  };\n  \n  // Effets pour le chargement initial des données\n  useEffect(() => {\n    fetchColsData();\n  }, [state.page, state.rowsPerPage, state.filters]);\n  \n  useEffect(() => {\n    fetchPredefinedChallenges();\n  }, []);\n  \n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchUserChallenges();\n      fetchCompletedCols();\n      fetchScheduledAscents();\n    }\n  }, [isAuthenticated]);\n  \n  // Préparer l'objet de valeur du contexte\n  const value = {\n    ...state,\n    dispatch,\n    actions: ACTIONS,\n    \n    // Actions d'effet de bord\n    fetchColsData,\n    fetchPredefinedChallenges,\n    fetchUserChallenges,\n    fetchCompletedCols,\n    fetchScheduledAscents,\n    fetchWeatherData,\n    saveChallenge,\n    markColAsCompleted,\n    scheduleAscent,\n    deleteChallenge,\n    likeChallenge,\n    exportTrack,\n    \n    // Actions simplifiées pour les composants\n    selectCol: (col) => dispatch({ type: ACTIONS.SELECT_COL, payload: col }),\n    removeCol: (colId) => dispatch({ type: ACTIONS.REMOVE_COL, payload: colId }),\n    setChallengeName: (name) => dispatch({ type: ACTIONS.SET_CHALLENGE_NAME, payload: name }),\n    setIsPublic: (isPublic) => dispatch({ type: ACTIONS.SET_IS_PUBLIC, payload: isPublic }),\n    setActiveTab: (tab) => dispatch({ type: ACTIONS.SET_ACTIVE_TAB, payload: tab }),\n    viewColDetails: (col) => {\n      dispatch({ type: ACTIONS.SET_SELECTED_COL, payload: col });\n      dispatch({ type: ACTIONS.SET_SHOW_COL_DETAILS, payload: true });\n      if (col && col.latitude && col.longitude) {\n        fetchWeatherData(col.id, col.latitude, col.longitude);\n      }\n    },\n    closeColDetails: () => dispatch({ type: ACTIONS.SET_SHOW_COL_DETAILS, payload: false }),\n    showScheduleDialog: (colId, colName) => dispatch({ \n      type: ACTIONS.SET_SCHEDULE_DIALOG, \n      payload: { show: true, colId, colName } \n    }),\n    closeScheduleDialog: () => dispatch({ \n      type: ACTIONS.SET_SCHEDULE_DIALOG, \n      payload: { show: false } \n    }),\n    setCommunityFilter: (filter) => dispatch({ type: ACTIONS.SET_COMMUNITY_FILTER, payload: filter }),\n    setCommunitySearch: (search) => dispatch({ type: ACTIONS.SET_COMMUNITY_SEARCH, payload: search }),\n    loadChallenge: (challenge) => dispatch({ type: ACTIONS.LOAD_CHALLENGE, payload: challenge }),\n    clearSelection: () => dispatch({ type: ACTIONS.CLEAR_SELECTION }),\n    setNotification: (notification) => dispatch({ type: ACTIONS.SET_NOTIFICATION, payload: notification }),\n    clearNotification: () => dispatch({ type: ACTIONS.CLEAR_NOTIFICATION }),\n    setExportFormat: (format) => dispatch({ type: ACTIONS.SET_EXPORT_FORMAT, payload: format }),\n    setPage: (page) => dispatch({ type: ACTIONS.SET_PAGE, payload: page }),\n    setFilters: (filters) => dispatch({ type: ACTIONS.SET_FILTERS, payload: filters })\n  };\n  \n  return (\n    <ChallengeContext.Provider value={value}>\n      {children}\n    </ChallengeContext.Provider>\n  );\n};\n\n// Hook custom pour utiliser le contexte\nexport const useChallenge = () => {\n  const context = useContext(ChallengeContext);\n  if (context === undefined) {\n    throw new Error('useChallenge must be used within a ChallengeProvider');\n  }\n  return context;\n};\n\nexport default ChallengeContext;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Box,\n  Typography,\n  Grid,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Button,\n  Card,\n  CardContent,\n  CardMedia,\n  CardActions,\n  Chip,\n  CircularProgress,\n  Alert,\n  Paper,\n  IconButton,\n  Tooltip\n} from '@mui/material';\nimport {\n  Search as SearchIcon,\n  FilterList as FilterIcon,\n  Add as AddIcon,\n  Visibility as VisibilityIcon,\n  Public as GlobeIcon,\n  Terrain as TerrainIcon\n} from '@mui/icons-material';\n\n/**\n * Composant pour la recherche et le filtrage des cols\n */\nconst ColSearchTab = ({ \n  cols, \n  loading, \n  filters, \n  onFilterChange, \n  onResetFilters,\n  onSelectCol,\n  onViewDetails,\n  selectedColsIds\n}) => {\n  const { t } = useTranslation();\n  const [filteredResults, setFilteredResults] = useState([]);\n  \n  // Mémoriser les pays et régions uniques pour les filtres\n  const uniqueCountries = useMemo(() => {\n    const countries = [...new Set(cols.map(col => col.country))];\n    return countries.sort();\n  }, [cols]);\n  \n  const uniqueRegions = useMemo(() => {\n    const regions = [...new Set(cols.map(col => col.region))];\n    return regions.sort();\n  }, [cols]);\n  \n  // Appliquer les filtres aux cols\n  useEffect(() => {\n    let results = [...cols];\n    \n    // Filtrer par région\n    if (filters.region) {\n      results = results.filter(col => col.region === filters.region);\n    }\n    \n    // Filtrer par pays\n    if (filters.country) {\n      results = results.filter(col => col.country === filters.country);\n    }\n    \n    // Filtrer par altitude minimale\n    if (filters.minAltitude) {\n      results = results.filter(col => col.altitude >= parseInt(filters.minAltitude));\n    }\n    \n    // Filtrer par altitude maximale\n    if (filters.maxAltitude) {\n      results = results.filter(col => col.altitude <= parseInt(filters.maxAltitude));\n    }\n    \n    // Filtrer par difficulté\n    if (filters.difficulty) {\n      results = results.filter(col => col.difficulty === filters.difficulty);\n    }\n    \n    // Filtrer par recherche textuelle\n    if (filters.searchQuery) {\n      const query = filters.searchQuery.toLowerCase();\n      results = results.filter(col => \n        col.name.toLowerCase().includes(query) || \n        col.region.toLowerCase().includes(query) ||\n        col.country.toLowerCase().includes(query)\n      );\n    }\n    \n    setFilteredResults(results);\n  }, [cols, filters]);\n  \n  // Fonction pour créer le composant de carte du col\n  const renderColCard = (col) => {\n    const isSelected = selectedColsIds.includes(col.id);\n    \n    return (\n      <Card elevation={3} key={col.id} sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n        <CardMedia\n          component=\"img\"\n          height=\"140\"\n          image={col.image || '/images/cols/placeholder.jpg'}\n          alt={col.name}\n          sx={{ objectFit: 'cover' }}\n        />\n        <CardContent sx={{ flexGrow: 1 }}>\n          <Typography variant=\"h6\" gutterBottom component=\"div\" noWrap>\n            {col.name}\n          </Typography>\n          \n          <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n            <GlobeIcon fontSize=\"small\" sx={{ mr: 0.5, color: 'text.secondary' }} />\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              {col.region}, {col.country}\n            </Typography>\n          </Box>\n          \n          <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n            <TerrainIcon fontSize=\"small\" sx={{ mr: 0.5, color: 'text.secondary' }} />\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              {col.altitude}m • {col.length}km • {col.gradient}%\n            </Typography>\n          </Box>\n          \n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n            <Chip \n              size=\"small\" \n              label={`${t('cols.difficulty')}: ${col.difficulty}`} \n              color={\n                col.difficulty === 'HC' ? 'error' :\n                col.difficulty === '1' ? 'warning' :\n                col.difficulty === '2' ? 'success' :\n                col.difficulty === '3' ? 'info' : 'default'\n              }\n            />\n            \n            {col.isPopular && (\n              <Chip \n                size=\"small\" \n                label={t('cols.popular')} \n                color=\"primary\" \n              />\n            )}\n          </Box>\n        </CardContent>\n        \n        <CardActions sx={{ justifyContent: 'space-between', p: 2 }}>\n          <Tooltip title={t('common.view_details')}>\n            <IconButton \n              size=\"small\" \n              color=\"primary\"\n              onClick={() => onViewDetails(col)}\n            >\n              <VisibilityIcon />\n            </IconButton>\n          </Tooltip>\n          \n          <Button\n            size=\"small\"\n            variant={isSelected ? \"outlined\" : \"contained\"}\n            color={isSelected ? \"secondary\" : \"primary\"}\n            startIcon={<AddIcon />}\n            onClick={() => onSelectCol(col)}\n            disabled={isSelected || selectedColsIds.length >= 7}\n          >\n            {isSelected ? t('challenges.seven_majors.added') : t('challenges.seven_majors.add_to_challenge')}\n          </Button>\n        </CardActions>\n      </Card>\n    );\n  };\n  \n  return (\n    <Box>\n      {/* Filtres de recherche */}\n      <Paper elevation={1} sx={{ p: 2, mb: 3 }}>\n        <Grid container spacing={2} alignItems=\"center\">\n          <Grid item xs={12} sm={4} md={3}>\n            <TextField\n              fullWidth\n              label={t('challenges.search')}\n              name=\"searchQuery\"\n              value={filters.searchQuery}\n              onChange={onFilterChange}\n              InputProps={{\n                startAdornment: <SearchIcon sx={{ color: 'action.active', mr: 1 }} />,\n              }}\n            />\n          </Grid>\n          \n          <Grid item xs={12} sm={4} md={3}>\n            <FormControl fullWidth>\n              <InputLabel id=\"country-select-label\">{t('cols.country')}</InputLabel>\n              <Select\n                labelId=\"country-select-label\"\n                name=\"country\"\n                value={filters.country}\n                label={t('cols.country')}\n                onChange={onFilterChange}\n              >\n                <MenuItem value=\"\">\n                  <em>{t('common.all')}</em>\n                </MenuItem>\n                {uniqueCountries.map(country => (\n                  <MenuItem key={country} value={country}>{country}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          \n          <Grid item xs={12} sm={4} md={3}>\n            <FormControl fullWidth>\n              <InputLabel id=\"region-select-label\">{t('cols.region')}</InputLabel>\n              <Select\n                labelId=\"region-select-label\"\n                name=\"region\"\n                value={filters.region}\n                label={t('cols.region')}\n                onChange={onFilterChange}\n              >\n                <MenuItem value=\"\">\n                  <em>{t('common.all')}</em>\n                </MenuItem>\n                {uniqueRegions.map(region => (\n                  <MenuItem key={region} value={region}>{region}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          \n          <Grid item xs={12} sm={4} md={3}>\n            <FormControl fullWidth>\n              <InputLabel id=\"difficulty-select-label\">{t('cols.difficulty')}</InputLabel>\n              <Select\n                labelId=\"difficulty-select-label\"\n                name=\"difficulty\"\n                value={filters.difficulty}\n                label={t('cols.difficulty')}\n                onChange={onFilterChange}\n              >\n                <MenuItem value=\"\">\n                  <em>{t('common.all')}</em>\n                </MenuItem>\n                <MenuItem value=\"HC\">HC</MenuItem>\n                <MenuItem value=\"1\">1</MenuItem>\n                <MenuItem value=\"2\">2</MenuItem>\n                <MenuItem value=\"3\">3</MenuItem>\n                <MenuItem value=\"4\">4</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          \n          <Grid item xs={12} sm={4} md={2}>\n            <TextField\n              fullWidth\n              type=\"number\"\n              label={t('cols.min_altitude')}\n              name=\"minAltitude\"\n              value={filters.minAltitude}\n              onChange={onFilterChange}\n              InputProps={{ inputProps: { min: 0 } }}\n            />\n          </Grid>\n          \n          <Grid item xs={12} sm={4} md={2}>\n            <TextField\n              fullWidth\n              type=\"number\"\n              label={t('cols.max_altitude')}\n              name=\"maxAltitude\"\n              value={filters.maxAltitude}\n              onChange={onFilterChange}\n              InputProps={{ inputProps: { min: 0 } }}\n            />\n          </Grid>\n          \n          <Grid item xs={12} sm={4} md=\"auto\">\n            <Button\n              fullWidth\n              variant=\"outlined\"\n              color=\"secondary\"\n              startIcon={<FilterIcon />}\n              onClick={onResetFilters}\n            >\n              {t('common.reset_filters')}\n            </Button>\n          </Grid>\n        </Grid>\n      </Paper>\n      \n      {/* Résultats de recherche */}\n      {loading ? (\n        <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n          <CircularProgress />\n        </Box>\n      ) : filteredResults.length > 0 ? (\n        <Grid container spacing={3}>\n          {filteredResults.map(col => (\n            <Grid item key={col.id} xs={12} sm={6} md={4} lg={3}>\n              {renderColCard(col)}\n            </Grid>\n          ))}\n        </Grid>\n      ) : (\n        <Alert severity=\"info\" sx={{ mt: 2 }}>\n          {t('challenges.seven_majors.no_results')}\n        </Alert>\n      )}\n    </Box>\n  );\n};\n\nexport default ColSearchTab;\n","import React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Box,\n  Typography,\n  Grid,\n  Paper,\n  Button,\n  Card,\n  CardContent,\n  CardMedia,\n  CardActions,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  IconButton,\n  Divider,\n  Tooltip,\n  LinearProgress,\n  TextField,\n  FormControlLabel,\n  Switch,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Alert\n} from '@mui/material';\nimport {\n  Delete as DeleteIcon,\n  Visibility as VisibilityIcon,\n  Save as SaveIcon,\n  CheckCircle as CheckCircleIcon,\n  CalendarMonth as CalendarIcon,\n  EmojiEvents as TrophyIcon,\n  Terrain as TerrainIcon,\n  Share as ShareIcon,\n  Public as GlobeIcon,\n  StarRate as StarIcon\n} from '@mui/icons-material';\n\n/**\n * Composant pour afficher et gérer le défi de l'utilisateur\n */\nconst MyChallenge = ({ \n  selectedCols,\n  challengeName,\n  onChallengeTitleChange,\n  onRemoveCol,\n  onViewCol,\n  onSaveChallenge,\n  onMarkAsCompleted,\n  onScheduleAscent,\n  onShareChallenge,\n  isPublic,\n  onTogglePublic,\n  isAuthenticated,\n  completedCols,\n  scheduledAscents\n}) => {\n  const { t } = useTranslation();\n  \n  // Statistiques du défi\n  const stats = useMemo(() => {\n    if (!selectedCols || selectedCols.length === 0) return null;\n    \n    const totalAltitude = selectedCols.reduce((sum, col) => sum + col.altitude, 0);\n    const totalLength = selectedCols.reduce((sum, col) => sum + col.length, 0);\n    \n    // Calculer la difficulté moyenne (convertir en numérique)\n    const difficultyMap = { 'HC': 5, '1': 4, '2': 3, '3': 2, '4': 1 };\n    const totalDifficulty = selectedCols.reduce((sum, col) => {\n      return sum + (difficultyMap[col.difficulty] || 3);\n    }, 0);\n    const avgDifficulty = totalDifficulty / selectedCols.length;\n    \n    // Convertir la difficulté moyenne en catégorie\n    let avgDifficultyCategory;\n    if (avgDifficulty >= 4.5) avgDifficultyCategory = 'HC';\n    else if (avgDifficulty >= 3.5) avgDifficultyCategory = '1';\n    else if (avgDifficulty >= 2.5) avgDifficultyCategory = '2';\n    else if (avgDifficulty >= 1.5) avgDifficultyCategory = '3';\n    else avgDifficultyCategory = '4';\n    \n    return {\n      totalAltitude,\n      totalLength,\n      avgDifficulty: avgDifficultyCategory,\n      avgGradient: selectedCols.reduce((sum, col) => sum + col.gradient, 0) / selectedCols.length\n    };\n  }, [selectedCols]);\n  \n  // Calculer le pourcentage de complétion\n  const completionPercentage = useMemo(() => {\n    if (!selectedCols || selectedCols.length === 0) return 0;\n    const completed = selectedCols.filter(col => completedCols.includes(col.id)).length;\n    return (completed / selectedCols.length) * 100;\n  }, [selectedCols, completedCols]);\n  \n  return (\n    <Box>\n      {/* En-tête du défi */}\n      <Paper elevation={3} sx={{ p: 3, mb: 3 }}>\n        <Grid container spacing={3} alignItems=\"center\">\n          <Grid item xs={12} md={6}>\n            <TextField\n              fullWidth\n              label={t('challenges.seven_majors.challenge_name')}\n              value={challengeName}\n              onChange={onChallengeTitleChange}\n              variant=\"outlined\"\n            />\n          </Grid>\n          \n          <Grid item xs={12} md={6}>\n            <Box sx={{ display: 'flex', justifyContent: { xs: 'flex-start', md: 'flex-end' }, gap: 2 }}>\n              {isAuthenticated && (\n                <>\n                  <FormControlLabel\n                    control={\n                      <Switch \n                        checked={isPublic} \n                        onChange={onTogglePublic} \n                        color=\"primary\"\n                      />\n                    }\n                    label={t('challenges.seven_majors.public_challenge')}\n                  />\n                  \n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    startIcon={<SaveIcon />}\n                    onClick={onSaveChallenge}\n                    disabled={selectedCols.length === 0}\n                  >\n                    {t('common.save')}\n                  </Button>\n                  \n                  <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    startIcon={<ShareIcon />}\n                    onClick={onShareChallenge}\n                    disabled={selectedCols.length === 0}\n                  >\n                    {t('common.share')}\n                  </Button>\n                </>\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </Paper>\n      \n      {/* Progression du défi */}\n      {selectedCols.length > 0 && (\n        <Paper elevation={3} sx={{ p: 3, mb: 3 }}>\n          <Box sx={{ mb: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              <TrophyIcon sx={{ verticalAlign: 'middle', mr: 1 }} />\n              {t('challenges.seven_majors.progress')}\n            </Typography>\n            <LinearProgress \n              variant=\"determinate\" \n              value={completionPercentage} \n              color=\"success\"\n              sx={{ height: 10, borderRadius: 5 }}\n            />\n            <Typography variant=\"body2\" sx={{ mt: 1 }}>\n              {t('challenges.seven_majors.completed')}: {selectedCols.filter(col => completedCols.includes(col.id)).length}/{selectedCols.length}\n            </Typography>\n          </Box>\n          \n          {stats && (\n            <Grid container spacing={2} sx={{ mt: 2 }}>\n              <Grid item xs={6} sm={3}>\n                <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                  {t('cols.total_altitude')}\n                </Typography>\n                <Typography variant=\"h6\">\n                  {stats.totalAltitude} m\n                </Typography>\n              </Grid>\n              \n              <Grid item xs={6} sm={3}>\n                <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                  {t('cols.total_length')}\n                </Typography>\n                <Typography variant=\"h6\">\n                  {stats.totalLength} km\n                </Typography>\n              </Grid>\n              \n              <Grid item xs={6} sm={3}>\n                <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                  {t('cols.avg_difficulty')}\n                </Typography>\n                <Typography variant=\"h6\">\n                  {stats.avgDifficulty}\n                </Typography>\n              </Grid>\n              \n              <Grid item xs={6} sm={3}>\n                <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                  {t('cols.avg_gradient')}\n                </Typography>\n                <Typography variant=\"h6\">\n                  {stats.avgGradient.toFixed(1)}%\n                </Typography>\n              </Grid>\n            </Grid>\n          )}\n        </Paper>\n      )}\n      \n      {/* Liste des cols sélectionnés */}\n      {selectedCols.length > 0 ? (\n        <Grid container spacing={3}>\n          {selectedCols.map(col => (\n            <Grid item key={col.id} xs={12} sm={6} md={4}>\n              <Card elevation={3}>\n                <CardMedia\n                  component=\"img\"\n                  height=\"140\"\n                  image={col.image || '/images/cols/placeholder.jpg'}\n                  alt={col.name}\n                  sx={{ \n                    objectFit: 'cover',\n                    filter: completedCols.includes(col.id) ? 'grayscale(0%)' : 'grayscale(40%)'\n                  }}\n                />\n                \n                {completedCols.includes(col.id) && (\n                  <Box\n                    sx={{\n                      position: 'absolute',\n                      top: 10,\n                      right: 10,\n                      bgcolor: 'success.main',\n                      color: 'white',\n                      borderRadius: '50%',\n                      width: 36,\n                      height: 36,\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center'\n                    }}\n                  >\n                    <CheckCircleIcon />\n                  </Box>\n                )}\n                \n                <CardContent>\n                  <Typography variant=\"h6\" gutterBottom>\n                    {col.name}\n                  </Typography>\n                  \n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <GlobeIcon fontSize=\"small\" sx={{ mr: 0.5, color: 'text.secondary' }} />\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      {col.region}, {col.country}\n                    </Typography>\n                  </Box>\n                  \n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <TerrainIcon fontSize=\"small\" sx={{ mr: 0.5, color: 'text.secondary' }} />\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      {col.altitude}m • {col.length}km • {col.gradient}%\n                    </Typography>\n                  </Box>\n                  \n                  {scheduledAscents[col.id] && (\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                      <CalendarIcon fontSize=\"small\" sx={{ mr: 0.5, color: 'primary.main' }} />\n                      <Typography variant=\"body2\" color=\"primary.main\">\n                        {t('challenges.seven_majors.scheduled_for')}: {new Date(scheduledAscents[col.id]).toLocaleDateString()}\n                      </Typography>\n                    </Box>\n                  )}\n                </CardContent>\n                \n                <CardActions sx={{ justifyContent: 'space-between', p: 2 }}>\n                  <Box>\n                    <Tooltip title={t('common.view_details')}>\n                      <IconButton \n                        size=\"small\" \n                        color=\"primary\"\n                        onClick={() => onViewCol(col)}\n                      >\n                        <VisibilityIcon />\n                      </IconButton>\n                    </Tooltip>\n                    \n                    <Tooltip title={t('common.remove')}>\n                      <IconButton \n                        size=\"small\" \n                        color=\"error\"\n                        onClick={() => onRemoveCol(col.id)}\n                      >\n                        <DeleteIcon />\n                      </IconButton>\n                    </Tooltip>\n                  </Box>\n                  \n                  <Box>\n                    {isAuthenticated && (\n                      <>\n                        <Button\n                          size=\"small\"\n                          variant=\"outlined\"\n                          color=\"primary\"\n                          startIcon={<CalendarIcon />}\n                          onClick={() => onScheduleAscent(col.id)}\n                          sx={{ mr: 1 }}\n                        >\n                          {t('challenges.seven_majors.schedule')}\n                        </Button>\n                        \n                        <Button\n                          size=\"small\"\n                          variant=\"contained\"\n                          color={completedCols.includes(col.id) ? \"success\" : \"primary\"}\n                          startIcon={completedCols.includes(col.id) ? <CheckCircleIcon /> : null}\n                          onClick={() => onMarkAsCompleted(col.id)}\n                        >\n                          {completedCols.includes(col.id) \n                            ? t('challenges.seven_majors.completed') \n                            : t('challenges.seven_majors.mark_completed')}\n                        </Button>\n                      </>\n                    )}\n                  </Box>\n                </CardActions>\n              </Card>\n            </Grid>\n          ))}\n          \n          {/* Cases restantes pour atteindre 7 cols */}\n          {Array.from({ length: Math.max(0, 7 - selectedCols.length) }).map((_, index) => (\n            <Grid item key={`empty-${index}`} xs={12} sm={6} md={4}>\n              <Paper \n                elevation={1} \n                sx={{ \n                  height: '100%', \n                  minHeight: 320, \n                  display: 'flex', \n                  flexDirection: 'column',\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  p: 3,\n                  border: '2px dashed',\n                  borderColor: 'divider'\n                }}\n              >\n                <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom align=\"center\">\n                  {t('challenges.seven_majors.add_more_cols')}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\">\n                  {t('challenges.seven_majors.cols_remaining', { count: 7 - selectedCols.length })}\n                </Typography>\n              </Paper>\n            </Grid>\n          ))}\n        </Grid>\n      ) : (\n        <Alert severity=\"info\" sx={{ mt: 2 }}>\n          {t('challenges.seven_majors.empty_challenge')}\n        </Alert>\n      )}\n    </Box>\n  );\n};\n\nexport default MyChallenge;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Box,\n  Typography,\n  Grid,\n  Card,\n  CardContent,\n  CardMedia,\n  CardActions,\n  Button,\n  Chip,\n  IconButton,\n  CircularProgress,\n  Alert,\n  Tooltip,\n  Divider\n} from '@mui/material';\nimport {\n  EmojiEvents as TrophyIcon,\n  Add as AddIcon,\n  Visibility as VisibilityIcon,\n  Public as GlobeIcon,\n  Terrain as TerrainIcon,\n  Star as StarIcon\n} from '@mui/icons-material';\n\n/**\n * Composant pour afficher et charger les défis prédéfinis\n */\nconst PredefinedChallenges = ({ \n  challenges, \n  loading, \n  error, \n  onLoadChallenge,\n  onViewColDetails\n}) => {\n  const { t } = useTranslation();\n  \n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n  \n  if (error) {\n    return (\n      <Alert severity=\"error\" sx={{ mt: 2 }}>\n        {error}\n      </Alert>\n    );\n  }\n  \n  if (!challenges || challenges.length === 0) {\n    return (\n      <Alert severity=\"info\" sx={{ mt: 2 }}>\n        {t('challenges.seven_majors.no_predefined')}\n      </Alert>\n    );\n  }\n  \n  return (\n    <Box>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        {t('challenges.seven_majors.predefined_intro')}\n      </Typography>\n      \n      <Grid container spacing={3} sx={{ mt: 2 }}>\n        {challenges.map(challenge => (\n          <Grid item key={challenge.id} xs={12} md={6}>\n            <Card elevation={3}>\n              <CardMedia\n                component=\"img\"\n                height=\"160\"\n                image={challenge.image || '/images/challenges/placeholder.jpg'}\n                alt={challenge.name}\n                sx={{ objectFit: 'cover' }}\n              />\n              \n              <CardContent>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                  <TrophyIcon sx={{ mr: 1, color: 'primary.main' }} />\n                  <Typography variant=\"h5\">\n                    {challenge.name}\n                  </Typography>\n                </Box>\n                \n                <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                  {challenge.description}\n                </Typography>\n                \n                <Box sx={{ mb: 2 }}>\n                  <Typography variant=\"subtitle2\" gutterBottom>\n                    {t('challenges.seven_majors.difficulty')}:\n                  </Typography>\n                  <Chip \n                    label={challenge.difficulty} \n                    color={\n                      challenge.difficulty === 'Expert' ? 'error' :\n                      challenge.difficulty === 'Avancé' ? 'warning' :\n                      challenge.difficulty === 'Intermédiaire' ? 'success' : 'info'\n                    }\n                    size=\"small\"\n                  />\n                </Box>\n                \n                <Divider sx={{ my: 2 }} />\n                \n                <Typography variant=\"subtitle2\" gutterBottom>\n                  {t('challenges.seven_majors.included_cols')}:\n                </Typography>\n                \n                <Grid container spacing={1}>\n                  {challenge.cols.map(col => (\n                    <Grid item key={col.id} xs={12}>\n                      <Box \n                        sx={{ \n                          display: 'flex', \n                          justifyContent: 'space-between',\n                          alignItems: 'center',\n                          p: 1,\n                          bgcolor: 'background.paper',\n                          borderRadius: 1,\n                          '&:hover': { bgcolor: 'action.hover' }\n                        }}\n                      >\n                        <Box>\n                          <Typography variant=\"body2\">\n                            {col.name}\n                          </Typography>\n                          <Typography variant=\"caption\" color=\"text.secondary\">\n                            {col.region}, {col.country} • {col.altitude}m\n                          </Typography>\n                        </Box>\n                        \n                        <Tooltip title={t('common.view_details')}>\n                          <IconButton \n                            size=\"small\" \n                            onClick={() => onViewColDetails(col)}\n                          >\n                            <VisibilityIcon fontSize=\"small\" />\n                          </IconButton>\n                        </Tooltip>\n                      </Box>\n                    </Grid>\n                  ))}\n                </Grid>\n              </CardContent>\n              \n              <CardActions sx={{ justifyContent: 'flex-end', p: 2 }}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<AddIcon />}\n                  onClick={() => onLoadChallenge(challenge)}\n                >\n                  {t('challenges.seven_majors.load_challenge')}\n                </Button>\n              </CardActions>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n    </Box>\n  );\n};\n\nexport default PredefinedChallenges;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Box,\n  Typography,\n  Grid,\n  Card,\n  CardContent,\n  CardMedia,\n  CardActions,\n  Button,\n  IconButton,\n  Chip,\n  CircularProgress,\n  Alert,\n  Tooltip,\n  TextField,\n  InputAdornment,\n  Divider,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions\n} from '@mui/material';\nimport {\n  EmojiEvents as TrophyIcon,\n  Favorite as FavoriteIcon,\n  FavoriteBorder as FavoriteBorderIcon,\n  Delete as DeleteIcon,\n  Edit as EditIcon,\n  Search as SearchIcon,\n  Public as GlobeIcon,\n  Visibility as VisibilityIcon,\n  Share as ShareIcon\n} from '@mui/icons-material';\n\n/**\n * Composant pour afficher et gérer les défis sauvegardés par l'utilisateur\n */\nconst UserChallenges = ({ \n  challenges, \n  loading, \n  onLoadChallenge,\n  onDeleteChallenge,\n  onLikeChallenge,\n  onViewColDetails,\n  onShareChallenge,\n  userLikes\n}) => {\n  const { t } = useTranslation();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showConfirmDelete, setShowConfirmDelete] = useState(false);\n  const [challengeToDelete, setChallengeToDelete] = useState(null);\n  \n  // Filtrer les défis en fonction de la recherche\n  const filteredChallenges = challenges.filter(challenge => \n    challenge.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    challenge.createdBy.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n  \n  // Gérer la suppression d'un défi\n  const handleDeleteClick = (challenge) => {\n    setChallengeToDelete(challenge);\n    setShowConfirmDelete(true);\n  };\n  \n  const confirmDelete = () => {\n    if (challengeToDelete) {\n      onDeleteChallenge(challengeToDelete.id);\n      setChallengeToDelete(null);\n      setShowConfirmDelete(false);\n    }\n  };\n  \n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n  \n  if (!challenges || challenges.length === 0) {\n    return (\n      <Alert severity=\"info\" sx={{ mt: 2 }}>\n        {t('challenges.seven_majors.no_saved_challenges')}\n      </Alert>\n    );\n  }\n  \n  return (\n    <Box>\n      {/* Barre de recherche */}\n      <TextField\n        fullWidth\n        placeholder={t('common.search_challenges')}\n        value={searchTerm}\n        onChange={(e) => setSearchTerm(e.target.value)}\n        sx={{ mb: 3 }}\n        InputProps={{\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon />\n            </InputAdornment>\n          ),\n        }}\n      />\n      \n      {filteredChallenges.length === 0 ? (\n        <Alert severity=\"info\">\n          {t('challenges.seven_majors.no_search_results')}\n        </Alert>\n      ) : (\n        <Grid container spacing={3}>\n          {filteredChallenges.map(challenge => (\n            <Grid item key={challenge.id} xs={12} md={6}>\n              <Card elevation={3}>\n                <CardMedia\n                  component=\"img\"\n                  height=\"140\"\n                  image={challenge.image || '/images/challenges/placeholder.jpg'}\n                  alt={challenge.name}\n                  sx={{ objectFit: 'cover' }}\n                />\n                \n                <CardContent>\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                    <TrophyIcon sx={{ mr: 1, color: 'primary.main' }} />\n                    <Typography variant=\"h5\">\n                      {challenge.name}\n                    </Typography>\n                  </Box>\n                  \n                  <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                    {t('challenges.seven_majors.created_by')}: {challenge.createdBy.name}\n                  </Typography>\n                  \n                  <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, mb: 2 }}>\n                    <Chip \n                      icon={<GlobeIcon />} \n                      label={challenge.isPublic ? t('common.public') : t('common.private')} \n                      size=\"small\"\n                      color={challenge.isPublic ? \"primary\" : \"default\"}\n                    />\n                    \n                    <Chip \n                      label={`${challenge.cols.length} cols`} \n                      size=\"small\"\n                    />\n                    \n                    <Chip \n                      icon={<FavoriteIcon />} \n                      label={challenge.likes || 0} \n                      size=\"small\"\n                      color=\"secondary\"\n                    />\n                  </Box>\n                  \n                  <Divider sx={{ my: 2 }} />\n                  \n                  <Typography variant=\"subtitle2\" gutterBottom>\n                    {t('challenges.seven_majors.included_cols')}:\n                  </Typography>\n                  \n                  <Grid container spacing={1} sx={{ mb: 2 }}>\n                    {challenge.cols.slice(0, 3).map(col => (\n                      <Grid item key={col.id} xs={12}>\n                        <Box \n                          sx={{ \n                            display: 'flex', \n                            justifyContent: 'space-between',\n                            alignItems: 'center',\n                            p: 1,\n                            bgcolor: 'background.paper',\n                            borderRadius: 1,\n                            '&:hover': { bgcolor: 'action.hover' }\n                          }}\n                        >\n                          <Box>\n                            <Typography variant=\"body2\">\n                              {col.name}\n                            </Typography>\n                            <Typography variant=\"caption\" color=\"text.secondary\">\n                              {col.region}, {col.country} • {col.altitude}m\n                            </Typography>\n                          </Box>\n                          \n                          <Tooltip title={t('common.view_details')}>\n                            <IconButton \n                              size=\"small\" \n                              onClick={() => onViewColDetails(col)}\n                            >\n                              <VisibilityIcon fontSize=\"small\" />\n                            </IconButton>\n                          </Tooltip>\n                        </Box>\n                      </Grid>\n                    ))}\n                    \n                    {challenge.cols.length > 3 && (\n                      <Typography variant=\"body2\" sx={{ p: 1, color: 'text.secondary' }}>\n                        +{challenge.cols.length - 3} {t('common.more')}...\n                      </Typography>\n                    )}\n                  </Grid>\n                </CardContent>\n                \n                <CardActions sx={{ p: 2 }}>\n                  <Box sx={{ display: 'flex', gap: 1 }}>\n                    <Tooltip title={t('common.like')}>\n                      <IconButton \n                        color={userLikes[challenge.id] ? \"secondary\" : \"default\"}\n                        onClick={() => onLikeChallenge(challenge.id)}\n                      >\n                        {userLikes[challenge.id] ? <FavoriteIcon /> : <FavoriteBorderIcon />}\n                      </IconButton>\n                    </Tooltip>\n                    \n                    <Tooltip title={t('common.share')}>\n                      <IconButton \n                        color=\"primary\"\n                        onClick={() => onShareChallenge(challenge)}\n                      >\n                        <ShareIcon />\n                      </IconButton>\n                    </Tooltip>\n                    \n                    {challenge.createdBy.isSelf && (\n                      <Tooltip title={t('common.delete')}>\n                        <IconButton \n                          color=\"error\"\n                          onClick={() => handleDeleteClick(challenge)}\n                        >\n                          <DeleteIcon />\n                        </IconButton>\n                      </Tooltip>\n                    )}\n                  </Box>\n                  \n                  <Box sx={{ flexGrow: 1 }} />\n                  \n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => onLoadChallenge(challenge)}\n                  >\n                    {t('challenges.seven_majors.load_challenge')}\n                  </Button>\n                </CardActions>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n      )}\n      \n      {/* Dialog de confirmation de suppression */}\n      <Dialog\n        open={showConfirmDelete}\n        onClose={() => setShowConfirmDelete(false)}\n      >\n        <DialogTitle>\n          {t('common.confirm_delete')}\n        </DialogTitle>\n        <DialogContent>\n          <Typography>\n            {t('challenges.seven_majors.confirm_delete_challenge', { \n              name: challengeToDelete?.name || ''\n            })}\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setShowConfirmDelete(false)}>\n            {t('common.cancel')}\n          </Button>\n          <Button \n            onClick={confirmDelete} \n            color=\"error\" \n            variant=\"contained\"\n          >\n            {t('common.delete')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default UserChallenges;\n","import React, { useRef, useEffect, useState } from 'react';\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\nimport { OrbitControls, PerspectiveCamera, Text } from '@react-three/drei';\nimport * as THREE from 'three';\nimport { Box, Typography, CircularProgress, Paper } from '@mui/material';\n\n// Composant pour la route du col\nconst ColRoad = ({ data, color = \"#444444\" }) => {\n  const meshRef = useRef();\n  const points = data.map(point => new THREE.Vector3(point.x, point.y, point.z));\n  const curve = new THREE.CatmullRomCurve3(points);\n  \n  // Créer la géométrie du tube (route)\n  const tubeGeometry = new THREE.TubeGeometry(\n    curve,\n    100,  // Segments tubulaires\n    0.2,  // Rayon\n    8,    // Segments radiaux\n    false // Fermé\n  );\n\n  return (\n    <mesh ref={meshRef}>\n      <primitive object={tubeGeometry} attach=\"geometry\" />\n      <meshStandardMaterial color={color} roughness={0.6} />\n    </mesh>\n  );\n};\n\n// Composant pour le terrain environnant\nconst Terrain = ({ data }) => {\n  const meshRef = useRef();\n  \n  // Déterminer les dimensions du terrain\n  const maxX = Math.max(...data.map(p => p.x)) + 2;\n  const maxY = Math.max(...data.map(p => p.y)) + 1;\n  const minY = Math.min(...data.map(p => p.y)) - 0.5;\n  \n  // Créer une simple géométrie de plan pour le terrain\n  return (\n    <mesh ref={meshRef} rotation={[-Math.PI / 2, 0, 0]} position={[maxX / 2, minY - 0.1, 0]}>\n      <planeGeometry args={[maxX * 1.5, 10]} />\n      <meshStandardMaterial color=\"#4b7f52\" wireframe={false} />\n    </mesh>\n  );\n};\n\n// Composant pour les points d'intérêt\nconst PointOfInterest = ({ position, name, type }) => {\n  const [hovered, setHovered] = useState(false);\n  \n  // Choisir la couleur en fonction du type\n  let color;\n  switch (type) {\n    case 'viewpoint':\n      color = \"#1E88E5\"; // Bleu\n      break;\n    case 'rest':\n      color = \"#43A047\"; // Vert\n      break;\n    case 'summit':\n      color = \"#E53935\"; // Rouge\n      break;\n    default:\n      color = \"#FFC107\"; // Jaune\n  }\n  \n  return (\n    <group position={position}>\n      <mesh \n        onPointerOver={() => setHovered(true)}\n        onPointerOut={() => setHovered(false)}\n      >\n        <sphereGeometry args={[0.15, 16, 16]} />\n        <meshStandardMaterial color={color} />\n      </mesh>\n      \n      {hovered && (\n        <Text\n          position={[0, 0.3, 0]}\n          color=\"white\"\n          fontSize={0.15}\n          maxWidth={2}\n          textAlign=\"center\"\n          anchorX=\"center\"\n          anchorY=\"middle\"\n          outlineWidth={0.01}\n          outlineColor=\"#000000\"\n        >\n          {name}\n        </Text>\n      )}\n    </group>\n  );\n};\n\n// Composant pour la caméra et les contrôles\nconst SceneSetup = ({ data }) => {\n  const { camera } = useThree();\n  \n  // Calcul du centre et de la taille de la scène pour cadrage\n  const maxX = Math.max(...data.map(p => p.x));\n  const maxY = Math.max(...data.map(p => p.y));\n  \n  // Position initiale de la caméra\n  useEffect(() => {\n    camera.position.set(maxX / 2, maxY * 2, 5);\n    camera.lookAt(maxX / 2, 0, 0);\n  }, [camera, maxX, maxY]);\n  \n  return (\n    <>\n      <OrbitControls \n        enablePan={true}\n        enableZoom={true}\n        enableRotate={true}\n        target={[maxX / 2, maxY / 2, 0]}\n      />\n      <ambientLight intensity={0.5} />\n      <directionalLight position={[10, 10, 5]} intensity={0.7} />\n      <directionalLight position={[-10, 10, 5]} intensity={0.3} />\n    </>\n  );\n};\n\n// Animation de la caméra pour \"parcourir\" le col\nconst CameraAnimation = ({ data, isPlaying }) => {\n  const { camera } = useThree();\n  const points = data.map(point => new THREE.Vector3(point.x, point.y + 0.5, point.z));\n  const curve = new THREE.CatmullRomCurve3(points);\n  \n  // Points pour la \"preview\" du chemin\n  const [progress, setProgress] = useState(0);\n  \n  useFrame(() => {\n    if (isPlaying) {\n      setProgress((prev) => (prev + 0.001) % 1);\n      const position = curve.getPoint(progress);\n      const lookAtPos = curve.getPoint(Math.min(progress + 0.01, 1));\n      \n      camera.position.set(position.x, position.y, position.z);\n      camera.lookAt(lookAtPos.x, lookAtPos.y, lookAtPos.z);\n    }\n  });\n  \n  return null;\n};\n\n// Composant principal de visualisation 3D\nconst ColVisualization3D = ({ colId, colData, pointsOfInterest }) => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [terrainData, setTerrainData] = useState(null);\n  const [isAnimating, setIsAnimating] = useState(false);\n  \n  useEffect(() => {\n    // Les données sont déjà fournies en props\n    if (colData) {\n      setTerrainData(colData);\n      setLoading(false);\n    } else {\n      setError(\"Données du col non disponibles\");\n      setLoading(false);\n    }\n  }, [colData]);\n  \n  if (loading) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"400px\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n  \n  if (error) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"400px\">\n        <Typography color=\"error\">{error}</Typography>\n      </Box>\n    );\n  }\n  \n  if (!terrainData) return null;\n  \n  return (\n    <Paper elevation={2} sx={{ height: '400px', width: '100%', overflow: 'hidden', position: 'relative' }}>\n      <Typography\n        variant=\"button\"\n        sx={{\n          position: 'absolute',\n          top: 10,\n          left: 10,\n          zIndex: 1,\n          backgroundColor: 'rgba(0,0,0,0.6)',\n          color: 'white',\n          padding: '5px 10px',\n          borderRadius: '4px',\n          cursor: 'pointer',\n        }}\n        onClick={() => setIsAnimating(!isAnimating)}\n      >\n        {isAnimating ? 'Arrêter l\\'animation' : 'Parcourir le col'}\n      </Typography>\n      \n      <Canvas shadows>\n        <SceneSetup data={terrainData} />\n        <CameraAnimation data={terrainData} isPlaying={isAnimating} />\n        <Terrain data={terrainData} />\n        <ColRoad data={terrainData} />\n        \n        {pointsOfInterest && pointsOfInterest.map((poi, index) => {\n          // Trouver le point correspondant à la distance du POI\n          const distanceRatio = poi.distance / Math.max(...terrainData.map(p => p.x));\n          const nearestIndex = Math.floor(distanceRatio * terrainData.length);\n          const point = terrainData[Math.min(nearestIndex, terrainData.length - 1)];\n          \n          return (\n            <PointOfInterest \n              key={index}\n              position={[point.x, point.y + 0.3, point.z]}\n              name={poi.name}\n              type={poi.type}\n            />\n          );\n        })}\n      </Canvas>\n    </Paper>\n  );\n};\n\nexport default ColVisualization3D;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Typography,\n  Grid,\n  Box,\n  Divider,\n  IconButton,\n  Chip,\n  List,\n  ListItem,\n  ListItemText,\n  ToggleButtonGroup,\n  ToggleButton,\n  Tooltip\n} from '@mui/material';\nimport {\n  Close as CloseIcon,\n  Download as DownloadIcon,\n  CheckCircle as CheckCircleIcon,\n  Terrain as TerrainIcon,\n  Public as GlobeIcon,\n  WbSunny as SunnyIcon,\n  Cloud as CloudIcon,\n  Timeline as TimelineIcon\n} from '@mui/icons-material';\nimport ColVisualization3D from '../../cols/ColVisualization3D';\n\n/**\n * Composant pour afficher les détails d'un col dans une boîte de dialogue\n */\nconst ColDetailsDialog = ({\n  open,\n  col,\n  onClose,\n  onExportTrack,\n  onMarkAsCompleted,\n  onAddToChallenge,\n  isSelected,\n  isCompleted,\n  maxColsReached,\n  exportFormat,\n  onExportFormatChange,\n  weatherData\n}) => {\n  const { t } = useTranslation();\n  \n  if (!col) return null;\n  \n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      maxWidth=\"lg\"\n      fullWidth\n      aria-labelledby=\"col-details-dialog-title\"\n    >\n      <DialogTitle id=\"col-details-dialog-title\">\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n          <Typography variant=\"h5\">\n            {col.name}\n          </Typography>\n          <IconButton onClick={onClose} aria-label=\"close\">\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </DialogTitle>\n      \n      <DialogContent dividers>\n        <Grid container spacing={3}>\n          {/* Informations générales */}\n          <Grid item xs={12} md={6}>\n            <Box sx={{ mb: 3 }}>\n              <img \n                src={col.image || '/images/cols/placeholder.jpg'} \n                alt={col.name}\n                style={{ \n                  width: '100%', \n                  height: '300px', \n                  objectFit: 'cover', \n                  borderRadius: '8px' \n                }}\n              />\n            </Box>\n            \n            <Typography variant=\"h6\" gutterBottom>\n              {t('cols.details')}\n            </Typography>\n            \n            <Grid container spacing={2}>\n              <Grid item xs={6}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                  <GlobeIcon fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {t('cols.location')}:\n                  </Typography>\n                </Box>\n                <Typography variant=\"body1\">\n                  {col.region}, {col.country}\n                </Typography>\n              </Grid>\n              \n              <Grid item xs={6}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                  <TerrainIcon fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {t('cols.altitude')}:\n                  </Typography>\n                </Box>\n                <Typography variant=\"body1\">\n                  {col.altitude} m\n                </Typography>\n              </Grid>\n              \n              <Grid item xs={6}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                  <TimelineIcon fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {t('cols.length')}:\n                  </Typography>\n                </Box>\n                <Typography variant=\"body1\">\n                  {col.length} km\n                </Typography>\n              </Grid>\n              \n              <Grid item xs={6}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                  <TimelineIcon fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {t('cols.avg_gradient')}:\n                  </Typography>\n                </Box>\n                <Typography variant=\"body1\">\n                  {col.gradient}%\n                </Typography>\n              </Grid>\n              \n              <Grid item xs={6}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                  <TimelineIcon fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {t('cols.max_gradient')}:\n                  </Typography>\n                </Box>\n                <Typography variant=\"body1\">\n                  {col.maxGradient || '-'}%\n                </Typography>\n              </Grid>\n              \n              <Grid item xs={6}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                  <TimelineIcon fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {t('cols.difficulty')}:\n                  </Typography>\n                </Box>\n                <Chip \n                  label={col.difficulty} \n                  size=\"small\"\n                  color={\n                    col.difficulty === 'HC' ? 'error' :\n                    col.difficulty === '1' ? 'warning' :\n                    col.difficulty === '2' ? 'success' :\n                    col.difficulty === '3' ? 'info' : 'default'\n                  }\n                />\n              </Grid>\n            </Grid>\n            \n            {/* Description */}\n            {col.description && (\n              <Box sx={{ mt: 3 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('cols.description')}\n                </Typography>\n                <Typography variant=\"body2\" paragraph>\n                  {col.description}\n                </Typography>\n              </Box>\n            )}\n            \n            {/* Météo */}\n            {weatherData && (\n              <Box sx={{ mt: 3 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('cols.current_weather')}\n                </Typography>\n                \n                <Grid container spacing={2}>\n                  <Grid item xs={6}>\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                      {weatherData.isGoodWeather ? (\n                        <SunnyIcon sx={{ mr: 1, color: 'warning.main' }} />\n                      ) : (\n                        <CloudIcon sx={{ mr: 1, color: 'info.main' }} />\n                      )}\n                      <Typography variant=\"body2\">\n                        {weatherData.condition}\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  \n                  <Grid item xs={6}>\n                    <Typography variant=\"body2\">\n                      {t('cols.temperature')}: {weatherData.temperature}°C\n                    </Typography>\n                  </Grid>\n                  \n                  <Grid item xs={6}>\n                    <Typography variant=\"body2\">\n                      {t('cols.wind')}: {weatherData.wind} km/h\n                    </Typography>\n                  </Grid>\n                  \n                  <Grid item xs={6}>\n                    <Typography variant=\"body2\">\n                      {t('cols.humidity')}: {weatherData.humidity}%\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Box>\n            )}\n            \n            {/* Histoires et anecdotes */}\n            {col.stories && col.stories.length > 0 && (\n              <Box sx={{ mt: 3 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('cols.stories')}\n                </Typography>\n                <ul>\n                  {col.stories.map((story, index) => (\n                    <li key={index}>\n                      <Typography variant=\"body2\">{story}</Typography>\n                    </li>\n                  ))}\n                </ul>\n              </Box>\n            )}\n            \n            {/* Points d'intérêt */}\n            {col.pointsOfInterest && col.pointsOfInterest.length > 0 && (\n              <Box sx={{ mt: 3 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('cols.points_of_interest')}\n                </Typography>\n                <List dense>\n                  {col.pointsOfInterest.map((poi, index) => (\n                    <ListItem key={index}>\n                      <ListItemText \n                        primary={poi.name} \n                        secondary={poi.description}\n                      />\n                    </ListItem>\n                  ))}\n                </List>\n              </Box>\n            )}\n          </Grid>\n          \n          {/* Visualisation 3D */}\n          <Grid item xs={12} md={6}>\n            <Box sx={{ height: '100%', minHeight: '400px' }}>\n              <Typography variant=\"h6\" gutterBottom>\n                {t('cols.profile_visualization')}\n              </Typography>\n              \n              {/* Utilisation du composant de visualisation 3D existant */}\n              <ColVisualization3D \n                colId={col.id} \n                colData={col.elevationData || []} \n                pointsOfInterest={col.pointsOfInterest || []}\n              />\n            </Box>\n          </Grid>\n        </Grid>\n      </DialogContent>\n      \n      <DialogActions sx={{ justifyContent: 'space-between', p: 2 }}>\n        <Button onClick={onClose} color=\"inherit\">\n          {t('common.close')}\n        </Button>\n        \n        {/* Bouton d'exportation */}\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n          <ToggleButtonGroup\n            value={exportFormat}\n            exclusive\n            onChange={(e, newFormat) => newFormat && onExportFormatChange(newFormat)}\n            size=\"small\"\n            sx={{ mr: 1 }}\n          >\n            <ToggleButton value=\"gpx\">GPX</ToggleButton>\n            <ToggleButton value=\"tcx\">TCX</ToggleButton>\n          </ToggleButtonGroup>\n          \n          <Button \n            onClick={() => onExportTrack(col)}\n            startIcon={<DownloadIcon />}\n            color=\"secondary\"\n            variant=\"outlined\"\n            size=\"small\"\n          >\n            {t('common.export')}\n          </Button>\n        </Box>\n        \n        {/* Bouton pour marquer comme complété */}\n        {isSelected && (\n          <Button \n            onClick={() => onMarkAsCompleted(col.id)}\n            color={isCompleted ? \"success\" : \"primary\"}\n            variant=\"outlined\"\n            startIcon={isCompleted ? <CheckCircleIcon /> : null}\n          >\n            {isCompleted \n              ? t('challenges.seven_majors.completed') \n              : t('challenges.seven_majors.mark_as_completed')}\n          </Button>\n        )}\n        \n        <Button \n          onClick={() => onAddToChallenge(col)}\n          color=\"primary\"\n          variant=\"contained\"\n          disabled={isSelected || maxColsReached}\n        >\n          {t('challenges.seven_majors.add_to_challenge')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ColDetailsDialog;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Box,\n  Typography,\n  Grid,\n  TextField,\n  IconButton\n} from '@mui/material';\nimport {\n  Close as CloseIcon,\n  Event as EventIcon,\n  CalendarMonth as CalendarIcon\n} from '@mui/icons-material';\n\n/**\n * Composant de dialogue pour planifier une ascension\n */\nconst ScheduleDialog = ({ \n  open, \n  onClose, \n  onSchedule, \n  selectedColId,\n  selectedColName \n}) => {\n  const { t } = useTranslation();\n  const [selectedDate, setSelectedDate] = useState('');\n  const [dateError, setDateError] = useState('');\n  \n  // Valider la date sélectionnée\n  const validateDate = (date) => {\n    const today = new Date();\n    const selected = new Date(date);\n    \n    if (isNaN(selected.getTime())) {\n      return t('common.invalid_date');\n    }\n    \n    if (selected < today) {\n      return t('challenges.seven_majors.date_in_past');\n    }\n    \n    return '';\n  };\n  \n  // Gérer le changement de date\n  const handleDateChange = (e) => {\n    const date = e.target.value;\n    setSelectedDate(date);\n    setDateError(validateDate(date));\n  };\n  \n  // Gérer la soumission du formulaire\n  const handleSubmit = () => {\n    const error = validateDate(selectedDate);\n    \n    if (error) {\n      setDateError(error);\n      return;\n    }\n    \n    onSchedule(selectedColId, selectedDate);\n    onClose();\n  };\n  \n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      maxWidth=\"sm\"\n      fullWidth\n      aria-labelledby=\"schedule-ascent-dialog-title\"\n    >\n      <DialogTitle id=\"schedule-ascent-dialog-title\">\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n          <Typography variant=\"h6\">\n            <CalendarIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\n            {t('challenges.seven_majors.schedule_ascent')}\n          </Typography>\n          <IconButton onClick={onClose} aria-label=\"close\">\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </DialogTitle>\n      \n      <DialogContent dividers>\n        <Box sx={{ mb: 2 }}>\n          <Typography variant=\"subtitle1\" gutterBottom>\n            {t('challenges.seven_majors.scheduling_for')}:\n          </Typography>\n          <Typography variant=\"h6\" color=\"primary\">\n            {selectedColName}\n          </Typography>\n        </Box>\n        \n        <Box sx={{ mt: 3 }}>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('challenges.seven_majors.schedule_instructions')}\n          </Typography>\n          \n          <TextField\n            label={t('challenges.seven_majors.ascent_date')}\n            type=\"date\"\n            value={selectedDate}\n            onChange={handleDateChange}\n            fullWidth\n            error={!!dateError}\n            helperText={dateError}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            sx={{ mt: 2 }}\n            inputProps={{\n              min: new Date().toISOString().split('T')[0]\n            }}\n          />\n        </Box>\n      </DialogContent>\n      \n      <DialogActions sx={{ p: 2 }}>\n        <Button onClick={onClose} color=\"inherit\">\n          {t('common.cancel')}\n        </Button>\n        <Button \n          onClick={handleSubmit} \n          color=\"primary\" \n          variant=\"contained\"\n          disabled={!selectedDate || !!dateError}\n        >\n          {t('challenges.seven_majors.confirm_schedule')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ScheduleDialog;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '@mui/material/styles';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useChallenge } from '../../contexts/ChallengeContext';\nimport {\n  Box,\n  Typography,\n  Tabs,\n  Tab,\n  Paper,\n  Alert,\n  CircularProgress,\n  Snackbar,\n  Pagination\n} from '@mui/material';\nimport {\n  Search as SearchIcon,\n  EmojiEvents as TrophyIcon,\n  Public as GlobeIcon,\n  Person as PersonIcon\n} from '@mui/icons-material';\n\n// Import des sous-composants\nimport ColSearchTab from './components/ColSearchTab';\nimport MyChallenge from './components/MyChallenge';\nimport PredefinedChallenges from './components/PredefinedChallenges';\nimport UserChallenges from './components/UserChallenges';\nimport ColDetailsDialog from './components/ColDetailsDialog';\nimport ScheduleDialog from './components/ScheduleDialog';\n\n/**\n * Composant pour le défi \"Les 7 Majeurs\" permettant aux cyclistes de sélectionner\n * et suivre 7 grands cols à conquérir dans l'année\n */\nconst SevenMajorsChallenge = () => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const { isAuthenticated } = useAuth();\n  \n  // Utiliser le contexte ChallengeContext pour toute la gestion d'état\n  const { \n    // États\n    loading, error, allCols, totalItems, filters, page, rowsPerPage,\n    selectedCols, challengeName, isPublic, activeTab, predefinedChallenges,\n    userChallenges, selectedCol, showColDetails, weatherData, showScheduleDialog,\n    scheduleColId, scheduleColName, userCompletedCols, scheduledAscents,\n    exportFormat, notification,\n    \n    // Actions\n    setActiveTab, setPage, setFilters, selectCol, removeCol, setChallengeName,\n    setIsPublic, viewColDetails, closeColDetails, saveChallenge, markColAsCompleted,\n    scheduleAscent, openScheduleDialog, closeScheduleDialog,\n    deleteChallenge, likeChallenge, loadChallenge, clearNotification, exportTrack,\n    setExportFormat\n  } = useChallenge();\n  \n  // Gestionnaires d'événements simplifiés\n  const handleTabChange = (_, newValue) => {\n    setActiveTab(newValue);\n  };\n  \n  const handlePageChange = (_, newPage) => {\n    setPage(newPage);\n  };\n  \n  const handleFilterChange = (newFilters) => {\n    setFilters(newFilters);\n  };\n  \n  const handleSelectCol = (col) => {\n    selectCol(col);\n  };\n  \n  const handleRemoveCol = (colId) => {\n    removeCol(colId);\n  };\n  \n  const handleChallengeTitleChange = (newTitle) => {\n    setChallengeName(newTitle);\n  };\n  \n  const handleTogglePublic = () => {\n    setIsPublic(!isPublic);\n  };\n  \n  const handleViewColDetails = (col) => {\n    viewColDetails(col);\n  };\n  \n  const handleCloseColDetails = () => {\n    closeColDetails();\n  };\n  \n  const handleSaveChallenge = () => {\n    saveChallenge();\n  };\n  \n  const handleMarkAsCompleted = (colId) => {\n    markColAsCompleted(colId);\n  };\n  \n  const handleScheduleAscent = (date) => {\n    scheduleAscent(date);\n  };\n  \n  const handleOpenScheduleDialog = (colId, colName) => {\n    openScheduleDialog(colId, colName);\n  };\n  \n  const handleDeleteChallenge = (challengeId) => {\n    deleteChallenge(challengeId);\n  };\n  \n  const handleLikeChallenge = (challengeId) => {\n    likeChallenge(challengeId);\n  };\n  \n  const handleLoadPredefinedChallenge = (challenge) => {\n    loadChallenge(challenge);\n  };\n  \n  const handleLoadUserChallenge = (challenge) => {\n    loadChallenge(challenge);\n  };\n  \n  const handleCloseNotification = () => {\n    clearNotification();\n  };\n  \n  const handleExportTrack = (colId) => {\n    exportTrack(colId, exportFormat);\n  };\n  \n  const handleExportFormatChange = (format) => {\n    setExportFormat(format);\n  };\n  \n  const handleShareChallenge = () => {\n    // La fonctionnalité de partage serait implémentée ici\n  };\n  \n  return (\n    <Box sx={{ \n      width: '100%', \n      backgroundColor: 'background.paper',\n      borderRadius: 2,\n      overflow: 'hidden',\n      boxShadow: 3\n    }}>\n      <Paper elevation={0}>\n        <Tabs\n          value={activeTab}\n          onChange={handleTabChange}\n          aria-label=\"Challenge tabs\"\n          variant=\"fullWidth\"\n          scrollButtons=\"auto\"\n          textColor=\"primary\"\n          indicatorColor=\"primary\"\n          sx={{\n            borderBottom: 1,\n            borderColor: 'divider',\n            mb: 2\n          }}\n        >\n          <Tab \n            icon={<SearchIcon />} \n            label={t('challenge.search_cols')} \n            id=\"tab-0\" \n            aria-controls=\"tabpanel-0\" \n          />\n          <Tab \n            icon={<TrophyIcon />} \n            label={t('challenge.my_challenge')} \n            id=\"tab-1\" \n            aria-controls=\"tabpanel-1\" \n          />\n          <Tab \n            icon={<GlobeIcon />} \n            label={t('challenge.predefined')} \n            id=\"tab-2\" \n            aria-controls=\"tabpanel-2\" \n          />\n          <Tab \n            icon={<PersonIcon />} \n            label={t('challenge.community')} \n            id=\"tab-3\" \n            aria-controls=\"tabpanel-3\" \n            disabled={!isAuthenticated}\n          />\n        </Tabs>\n      </Paper>\n      \n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\n          {error}\n        </Alert>\n      )}\n      \n      <Box sx={{ p: 2 }}>\n        <Box role=\"tabpanel\" hidden={activeTab !== 0} id=\"tabpanel-0\" aria-labelledby=\"tab-0\">\n          {activeTab === 0 && (\n            <ColSearchTab\n              cols={allCols}\n              loading={loading}\n              filters={filters}\n              onFilterChange={handleFilterChange}\n              onSelectCol={handleSelectCol}\n              onViewDetails={handleViewColDetails}\n              selectedColIds={selectedCols.map(col => col.id)}\n              maxColsReached={selectedCols.length >= 7}\n            />\n          )}\n          \n          {loading && (\n            <Box sx={{ display: 'flex', justifyContent: 'center', my: 4 }}>\n              <CircularProgress />\n            </Box>\n          )}\n          \n          {!loading && allCols.length === 0 && (\n            <Alert severity=\"info\" sx={{ mt: 2 }}>\n              {t('challenge.no_cols_found')}\n            </Alert>\n          )}\n          \n          {!loading && allCols.length > 0 && (\n            <>\n              <Box sx={{ display: 'flex', justifyContent: 'center', my: 2 }}>\n                <Pagination\n                  count={Math.ceil(totalItems / rowsPerPage)}\n                  page={page}\n                  onChange={handlePageChange}\n                  color=\"primary\"\n                  showFirstButton\n                  showLastButton\n                />\n              </Box>\n              \n              <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\">\n                {t('common.showing_items', { \n                  start: Math.min((page - 1) * rowsPerPage + 1, totalItems), \n                  end: Math.min(page * rowsPerPage, totalItems), \n                  total: totalItems \n                })}\n              </Typography>\n            </>\n          )}\n        </Box>\n        \n        <Box role=\"tabpanel\" hidden={activeTab !== 1} id=\"tabpanel-1\" aria-labelledby=\"tab-1\">\n          {activeTab === 1 && (\n            <MyChallenge \n              selectedCols={selectedCols}\n              challengeName={challengeName}\n              onChallengeTitleChange={handleChallengeTitleChange}\n              onRemoveCol={handleRemoveCol}\n              onViewCol={handleViewColDetails}\n              onSaveChallenge={handleSaveChallenge}\n              onMarkAsCompleted={handleMarkAsCompleted}\n              onScheduleAscent={handleOpenScheduleDialog}\n              onShareChallenge={handleShareChallenge}\n              isPublic={isPublic}\n              onTogglePublic={handleTogglePublic}\n              isAuthenticated={isAuthenticated}\n              completedCols={userCompletedCols}\n              scheduledAscents={scheduledAscents}\n            />\n          )}\n        </Box>\n        \n        <Box role=\"tabpanel\" hidden={activeTab !== 2} id=\"tabpanel-2\" aria-labelledby=\"tab-2\">\n          {activeTab === 2 && (\n            <PredefinedChallenges \n              challenges={predefinedChallenges}\n              loading={loading}\n              error={error}\n              onLoadChallenge={handleLoadPredefinedChallenge}\n              onViewColDetails={handleViewColDetails}\n            />\n          )}\n        </Box>\n        \n        <Box role=\"tabpanel\" hidden={activeTab !== 3} id=\"tabpanel-3\" aria-labelledby=\"tab-3\">\n          {activeTab === 3 && isAuthenticated && (\n            <UserChallenges \n              challenges={userChallenges}\n              loading={loading}\n              onLoadChallenge={handleLoadUserChallenge}\n              onDeleteChallenge={handleDeleteChallenge}\n              onLikeChallenge={handleLikeChallenge}\n              onViewColDetails={handleViewColDetails}\n              onShareChallenge={handleShareChallenge}\n              userLikes={likeChallenge}\n            />\n          )}\n        </Box>\n        \n        {/* Boîte de dialogue des détails du col */}\n        <ColDetailsDialog \n          open={showColDetails}\n          col={selectedCol}\n          onClose={handleCloseColDetails}\n          onExportTrack={handleExportTrack}\n          onMarkAsCompleted={handleMarkAsCompleted}\n          onAddToChallenge={handleSelectCol}\n          isSelected={selectedCol ? selectedCols.findIndex(col => col.id === selectedCol.id) !== -1 : false}\n          isCompleted={selectedCol ? userCompletedCols.includes(selectedCol.id) : false}\n          maxColsReached={selectedCols.length >= 7}\n          exportFormat={exportFormat}\n          onExportFormatChange={handleExportFormatChange}\n          weatherData={selectedCol ? weatherData[selectedCol.id] : null}\n        />\n        \n        {/* Boîte de dialogue pour planifier une ascension */}\n        <ScheduleDialog \n          open={showScheduleDialog}\n          onClose={closeScheduleDialog}\n          onSchedule={handleScheduleAscent}\n          selectedColId={scheduleColId}\n          selectedColName={scheduleColName}\n        />\n        \n        {/* Notifications */}\n        <Snackbar\n          open={Boolean(notification)}\n          autoHideDuration={6000}\n          onClose={handleCloseNotification}\n          message={notification?.message}\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n        >\n          {notification && (\n            <Alert \n              onClose={handleCloseNotification} \n              severity={notification.severity || 'info'} \n              sx={{ width: '100%' }}\n            >\n              {notification.message}\n            </Alert>\n          )}\n        </Snackbar>\n      </Box>\n    </Box>\n  );\n};\n\nexport default SevenMajorsChallenge;\n","import React, { Suspense } from 'react';\nimport { Box, CircularProgress, Typography } from '@mui/material';\nimport ClientSevenMajorsChallenge from '../../../client/src/components/challenges/SevenMajorsChallenge';\n\n/**\n * Adaptateur pour le composant SevenMajorsChallenge\n * Ce composant sert d'interface entre la structure principale de l'application\n * et l'implémentation dans le sous-dossier client\n */\nconst SevenMajorsChallenge = () => {\n  return (\n    <Box \n      sx={{ \n        padding: 3, \n        width: '100%', \n        maxWidth: 1200, \n        margin: '0 auto',\n        minHeight: '80vh' \n      }}\n    >\n      <Typography \n        variant=\"h4\" \n        component=\"h1\" \n        gutterBottom \n        sx={{ \n          fontWeight: 700, \n          textAlign: 'center', \n          marginBottom: 4,\n          color: 'primary.main' \n        }}\n      >\n        Les 7 Majeurs - Challenge Cycliste\n      </Typography>\n      \n      <Suspense fallback={\n        <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '60vh' }}>\n          <CircularProgress size={60} thickness={4} />\n        </Box>\n      }>\n        <ClientSevenMajorsChallenge />\n      </Suspense>\n    </Box>\n  );\n};\n\nexport default SevenMajorsChallenge;\n"],"names":["_createClass","ClientFingerprintService","_classCallCheck","this","fingerprintKey","uaParser","UAParser","initFingerprint","key","value","getFingerprint","generateFingerprint","fingerprint","id","uuidv4","browser","getBrowserInfo","os","getOSInfo","screen","getScreenInfo","timeZone","Intl","DateTimeFormat","resolvedOptions","languages","navigator","language","userLanguage","hardware","getHardwareInfo","capabilities","getCapabilities","createdAt","Date","toISOString","localStorage","setItem","JSON","stringify","stored","getItem","parse","currentFingerprint","updatedFingerprint","_objectSpread","previousCreatedAt","updatedAt","browserResult","getBrowser","engineResult","getEngine","name","version","engine","engineVersion","userAgent","osResult","getOS","platform","width","window","height","colorDepth","pixelRatio","devicePixelRatio","orientation","type","deviceResult","getDevice","hardwareInfo","deviceType","deviceModel","model","deviceVendor","vendor","isMobile","isMobileDevice","isTablet","isTabletDevice","hardwareConcurrency","cpuCores","deviceMemory","test","_this","cookies","cookieEnabled","isLocalStorageEnabled","sessionStorage","isSessionStorageEnabled","webGL","isWebGLEnabled","webRTC","isWebRTCEnabled","canvas","isCanvasEnabled","svg","isSVGEnabled","webP","audio","isAudioEnabled","video","isVideoEnabled","touchPoints","maxTouchPoints","bluetooth","gyroscope","hasGyroscope","serviceWorkers","testWebPSupport","then","webPSupported","removeItem","e","document","createElement","WebGLRenderingContext","getContext","mediaDevices","getUserMedia","webkitGetUserMedia","mozGetUserMedia","createElementNS","createSVGRect","Promise","resolve","Image","onload","onerror","src","AudioContext","webkitAudioContext","mozAudioContext","canPlayType","concat","AuthError","_Error","message","code","_inherits","_wrapNativeSuper","Error","LocalStorageTokenStore","prefix","arguments","length","undefined","_getAccessToken","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","abrupt","stop","apply","_getRefreshToken","_callee2","_context2","_setTokens","_callee3","accessToken","refreshToken","_context3","_x","_x2","_clearTokens","_callee4","_context4","EnhancedAuthClient","_this2","options","baseUrl","tokenStorage","refreshThreshold","graceEnabled","onSessionExpired","dispatchEvent","CustomEvent","onTokenRevoked","refreshInterval","setInterval","checkAndRefreshToken","refreshCheckInterval","_login","_callee5","credentials","clientFingerprint","loginData","response","error","data","_context5","clientFingerprintService","getAuthFingerprint","fetch","method","headers","body","sent","ok","json","setTokens","user","t0","_x3","_logout","_callee6","revokeAll","_args6","_context6","getRefreshToken","t1","t2","getAccessToken","t3","t4","call","t5","t6","getFingerprintId","t7","t8","clearTokens","clearInterval","finish","_getAuthenticatedFetch","_callee8","_this3","_context8","_ref","_callee7","url","fetchOptions","errorData","newToken","_args7","_context7","status","_x4","_refreshToken","_callee9","_refreshToken2","_context9","_checkAndRefreshToken","_callee10","payload","now","_context10","_decodeToken","exp","Math","floor","token","jwtDecode","_isAuthenticated","_callee11","_context11","_getUserInfo","_callee12","_context12","RefreshIcon","LockIcon","DevicesIcon","ErrorIcon","AuthContext","createContext","ChallengeContext","cols","loading","filters","onFilterChange","onResetFilters","onSelectCol","onViewDetails","selectedColsIds","t","useTranslation","_useState","useState","_useState2","_slicedToArray","filteredResults","setFilteredResults","uniqueCountries","useMemo","_toConsumableArray","Set","map","col","country","sort","uniqueRegions","region","useEffect","results","filter","minAltitude","altitude","parseInt","maxAltitude","difficulty","searchQuery","query","toLowerCase","includes","React","Box","Paper","elevation","sx","p","mb","Grid","container","spacing","alignItems","item","xs","sm","md","TextField","fullWidth","label","onChange","InputProps","startAdornment","SearchIcon","color","mr","FormControl","InputLabel","Select","labelId","MenuItem","inputProps","min","Button","variant","startIcon","FilterIcon","onClick","display","justifyContent","py","CircularProgress","lg","isSelected","Card","flexDirection","CardMedia","component","image","alt","objectFit","CardContent","flexGrow","Typography","gutterBottom","noWrap","GlobeIcon","fontSize","TerrainIcon","gradient","flexWrap","gap","Chip","size","isPopular","CardActions","Tooltip","title","IconButton","VisibilityIcon","AddIcon","disabled","renderColCard","Alert","severity","mt","selectedCols","challengeName","onChallengeTitleChange","onRemoveCol","onViewCol","onSaveChallenge","onMarkAsCompleted","onScheduleAscent","onShareChallenge","isPublic","onTogglePublic","isAuthenticated","completedCols","scheduledAscents","stats","totalAltitude","reduce","sum","totalLength","difficultyMap","avgDifficulty","avgGradient","completionPercentage","FormControlLabel","control","Switch","checked","SaveIcon","ShareIcon","TrophyIcon","verticalAlign","LinearProgress","borderRadius","toFixed","position","top","right","bgcolor","CheckCircleIcon","CalendarIcon","toLocaleDateString","DeleteIcon","Array","from","max","_","index","minHeight","border","borderColor","align","count","challenges","onLoadChallenge","onViewColDetails","challenge","paragraph","description","Divider","my","onDeleteChallenge","onLikeChallenge","userLikes","searchTerm","setSearchTerm","_useState3","_useState4","showConfirmDelete","setShowConfirmDelete","_useState5","_useState6","challengeToDelete","setChallengeToDelete","filteredChallenges","createdBy","placeholder","target","InputAdornment","icon","FavoriteIcon","likes","slice","FavoriteBorderIcon","isSelf","handleDeleteClick","Dialog","open","onClose","DialogTitle","DialogContent","DialogActions","ColRoad","_ref$color","meshRef","useRef","points","point","THREE","x","y","z","curve","tubeGeometry","ref","object","attach","roughness","Terrain","_ref2","maxX","minY","rotation","PI","args","wireframe","PointOfInterest","_ref3","hovered","setHovered","onPointerOver","onPointerOut","Text","maxWidth","textAlign","anchorX","anchorY","outlineWidth","outlineColor","SceneSetup","_ref4","camera","useThree","maxY","set","lookAt","OrbitControls","enablePan","enableZoom","enableRotate","intensity","CameraAnimation","_ref5","isPlaying","progress","setProgress","useFrame","getPoint","lookAtPos","_ref6","colId","colData","pointsOfInterest","setLoading","_useState7","_useState8","setError","_useState9","_useState10","terrainData","setTerrainData","_useState11","_useState12","isAnimating","setIsAnimating","overflow","left","zIndex","backgroundColor","padding","cursor","Canvas","shadows","poi","distanceRatio","distance","nearestIndex","onExportTrack","onAddToChallenge","isCompleted","maxColsReached","exportFormat","onExportFormatChange","weatherData","CloseIcon","dividers","style","TimelineIcon","maxGradient","isGoodWeather","SunnyIcon","CloudIcon","condition","temperature","wind","humidity","stories","story","List","dense","ListItem","ListItemText","primary","secondary","ColVisualization3D","elevationData","ToggleButtonGroup","exclusive","newFormat","ToggleButton","DownloadIcon","onSchedule","selectedColId","selectedColName","selectedDate","setSelectedDate","dateError","setDateError","validateDate","date","today","selected","isNaN","getTime","helperText","InputLabelProps","shrink","split","useTheme","context","useContext","useAuth","_useChallenge","useChallenge","allCols","totalItems","page","rowsPerPage","activeTab","predefinedChallenges","userChallenges","selectedCol","showColDetails","showScheduleDialog","scheduleColId","scheduleColName","userCompletedCols","notification","setActiveTab","setPage","setFilters","selectCol","removeCol","setChallengeName","setIsPublic","viewColDetails","closeColDetails","saveChallenge","markColAsCompleted","scheduleAscent","openScheduleDialog","closeScheduleDialog","deleteChallenge","likeChallenge","loadChallenge","clearNotification","exportTrack","setExportFormat","handleSelectCol","handleViewColDetails","handleMarkAsCompleted","handleCloseNotification","handleShareChallenge","boxShadow","Tabs","newValue","scrollButtons","textColor","indicatorColor","borderBottom","Tab","PersonIcon","role","hidden","ColSearchTab","newFilters","selectedColIds","Pagination","ceil","newPage","showFirstButton","showLastButton","start","end","total","MyChallenge","newTitle","colName","PredefinedChallenges","UserChallenges","challengeId","ColDetailsDialog","findIndex","format","ScheduleDialog","Snackbar","Boolean","autoHideDuration","anchorOrigin","vertical","horizontal","margin","fontWeight","marginBottom","Suspense","fallback","thickness","ClientSevenMajorsChallenge"],"sourceRoot":""}